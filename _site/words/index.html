<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Words — Novika Programming Language</title>
    <link rel="stylesheet" href=/css/main.css />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono&family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/x-icon" href="/res/favicon.ico">
  </head>
  <body>
    <div class="container">
      <header>
        <a href="/">
          <img src="/res/logo.svg" alt="logo" />
        </a>
        <nav>
          <a href="/guide">Guide</a>
          <a href="/words">Words</a>
          <a href="https://novika-lang.github.io/novika/">API</a>
          <a
            class="primary"
            href="https://github.com/novika-lang/novika/releases/latest"
            >Download</a
          >
        </nav>
      </header>
      <main>
        
<section class="word-docs">
  
    

    <div class="word-doc" id="@:">
      <a class="word-doc-head" href="#@:">
        @:
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="mLHK1Wd2i0g">Form</span> @: <span class="doc-eff-id" data-scope="KvfQVIPr_HU">Name</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates an opener entry with the given
<span class="doc-eff-id" data-scope="KvfQVIPr_HU">Name</span> in caller. Submits <span class="doc-eff-id" data-scope="mLHK1Wd2i0g">Form</span> to the entry. Opener entries,
when resolved to and opened, in turn <strong>open</strong> their
corresponding <span class="doc-eff-id" data-scope="mLHK1Wd2i0g">Form</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Blocks are evaluated (opened) when the opener entry
they're stored under is opened."</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">@:</span> <span class="token word">getThree</span>
<span class="token word">getThree</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">3</span> ]

<span class="token comment">"Builtins also get opened when under an opener entry."</span>
<span class="token qword">#+</span> <span class="token word doc-word">here</span> <span class="token word doc-word">@:</span> <span class="token word">myAddAlias</span>
<span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word">myAddAlias</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">3</span> ]

<span class="token comment">"Any other form is left as-is, even if it is a word."</span>
<span class="token decimal">3</span> <span class="token word doc-word">@:</span> <span class="token word">litThree</span>
<span class="token qword">#+</span> <span class="token word doc-word">@:</span> <span class="token word">litPlus</span>
<span class="token word">litThree</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">3</span> ]
<span class="token word">litPlus</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="$:">
      <a class="word-doc-head" href="#$:">
        $:
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="C2QTMhLAspo">Form</span> $: <span class="doc-eff-id" data-scope="dvTE56PdaHY">Name</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a pusher entry with the given
<span class="doc-eff-id" data-scope="dvTE56PdaHY">Name</span> in caller. Submits <span class="doc-eff-id" data-scope="C2QTMhLAspo">Form</span> to the entry. Pusher entries,
when resolved to and opened, <strong>push</strong> their corresponding
<span class="doc-eff-id" data-scope="C2QTMhLAspo">Form</span> onto the active stack.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span>

<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">200</span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">$:</span> <span class="token word">getThree</span>

<span class="token comment">"Nope! In this case, use `@:` if you want the block to be
 opened (evaluated)."</span>
<span class="token word">getThree</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span><span class="token magnitudal"></span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="=:">
      <a class="word-doc-head" href="#=:">
        =:
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="wxqXNzOO_5c">Form</span> =: <span class="doc-eff-id" data-scope="9kRfSyRdvVE">Name</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Submits <span class="doc-eff-id" data-scope="wxqXNzOO_5c">Form</span> to an entry with the given
<span class="doc-eff-id" data-scope="9kRfSyRdvVE">Name</span>.</p>
<p>The entry must exist already, being defined by <code class="inline-word-ref">$:</code>, <code class="inline-word-ref">@:</code>,
or otherwise. Entry type is disregarded (i.e. it doesn't
matter whether it's an opener or a pusher entry). More
importantly, <em>entry type is preserved.</em></p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Note, by the way, that order doesn't matter. What
 matters is for `x` to be there at the time of calling
 `addOneToX`. In other words, `addOneToX` must be able to
 find `x` when it's opened."</span>

<span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>

[ <span class="token word">x</span> <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span><span class="token magnitudal"></span> <span class="token word doc-word">=:</span> <span class="token word">x</span> ] <span class="token word doc-word">@:</span> <span class="token word">addOneToX</span>

<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token word">addOneToX</span>
<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">101</span>
<span class="token comment">"..."</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="2die">
      <a class="word-doc-head" href="#2die">
        2die
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="W48LX6itd18">Quote message</span> <span class="doc-eff-id" data-scope="TrJUT5dowFk">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Enquotes <span class="doc-eff-id" data-scope="TrJUT5dowFk">Form</span>, stitches it to the end of
<span class="doc-eff-id" data-scope="W48LX6itd18">Quote message</span>, and dies with the resulting quote set as
the death message.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'expected foobar, got: '</span> <span class="token decimal">100</span> <span class="token word doc-word">2die</span> <span class="token comment">"Sorry: expected foobar, got: 100."</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="needsCapability:">
      <a class="word-doc-head" href="#needsCapability:">
        needsCapability:
        <span class="doc-head-effect">( needsCapability: <span class="doc-eff-id" data-scope="BFIxksdnSfU">Id</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Ensures that the frontend has enabled
the capability with the specified <span class="doc-eff-id" data-scope="BFIxksdnSfU">Id</span>. Dies if such a capability
isn't enabled, or if <span class="doc-eff-id" data-scope="BFIxksdnSfU">Id</span> isn't a capability id at all.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="withColorEcho">
      <a class="word-doc-head" href="#withColorEcho">
        withColorEcho
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="JvKcbwGBSzI">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Echoes <span class="doc-eff-id" data-scope="JvKcbwGBSzI">Form</span> like <code class="inline-word-ref">withColorAppendEcho</code>, then
echoes a newline character.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token decimal">100</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span> <span class="token word doc-word">withEchoFg</span>
<span class="token decimal">100</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span> <span class="token word doc-word">withEchoBg</span>
  <span class="token quote">'Hi!'</span> <span class="token word doc-word">withColorEcho</span>
<span class="token word doc-word">dropEchoBg</span>
  <span class="token quote">'Bye!'</span> <span class="token word doc-word">withColorEcho</span>
<span class="token word doc-word">dropEchoFg</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="withEmphasisEcho">
      <a class="word-doc-head" href="#withEmphasisEcho">
        withEmphasisEcho
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="PRcY3jkloKQ">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Echoes <span class="doc-eff-id" data-scope="PRcY3jkloKQ">Form</span> like <code class="inline-word-ref">withEmphasisAppendEcho</code>,
then echoes a newline character.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="withReverseEcho">
      <a class="word-doc-head" href="#withReverseEcho">
        withReverseEcho
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="McS9eLfVEVY">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Echoes <span class="doc-eff-id" data-scope="McS9eLfVEVY">Form</span> like <code class="inline-word-ref">withReverseAppendEcho</code>, then
echoes a newline character.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="vals">
      <a class="word-doc-head" href="#vals">
        vals
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="SRqTSZR0NrI">Block</span> -- <span class="doc-eff-id" data-scope="zbIdPD-8cQs">Stack</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Activates an empty <span class="doc-eff-id" data-scope="zbIdPD-8cQs">Stack</span> for the duration
of <span class="doc-eff-id" data-scope="SRqTSZR0NrI">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">vals</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ]
[ <span class="token word">(1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token decimal">2</span> <span class="token word">*)</span> <span class="token quote">'hello'</span> ] <span class="token word doc-word">vals</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">6</span> <span class="token quote">'hello'</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="val">
      <a class="word-doc-head" href="#val">
        val
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="dnFdJzn2loI">Block</span> -- <span class="doc-eff-id" data-scope="DESW24Vvgg4">Top</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Activates an empty stack for the duration of <span class="doc-eff-id" data-scope="dnFdJzn2loI">Block</span>,
and leaves <span class="doc-eff-id" data-scope="DESW24Vvgg4">Top</span> form in the stack. Dies if none.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">val</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>
[ <span class="token quote">'foo'</span> <span class="token quote">'bar'</span> <span class="token word doc-word">~</span> ] <span class="token word doc-word">val</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'foobar'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="2val">
      <a class="word-doc-head" href="#2val">
        2val
        <span class="doc-head-effect">( B1 B2 -- T1 T2 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Activates individual empty stacks for each
of the two Blocks, and leaves their corresponding Top forms.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] [ <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">2val</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">3</span> <span class="token decimal">7</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="thruLitBlock">
      <a class="word-doc-head" href="#thruLitBlock">
        thruLitBlock
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="DcSHnSL7-5U">Block</span> -- <span class="doc-eff-id" data-scope="ra5SfRvc4vk">Literal block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="ra5SfRvc4vk">Literal block</span> after cursor in <span class="doc-eff-id" data-scope="DcSHnSL7-5U">Block</span>. If
form after cursor isn't a block, encloses it and opens it with
an empty stack, <span class="doc-eff-id" data-scope="DcSHnSL7-5U">Block</span> being the enclosing block's parent, and
finally asserts the resulting form is a block.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="thruWord">
      <a class="word-doc-head" href="#thruWord">
        thruWord
        <span class="doc-head-effect">( B -- W/dies )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code>thru asWord</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="thruWord:">
      <a class="word-doc-head" href="#thruWord:">
        thruWord:
        <span class="doc-head-effect">( B <span class="doc-eff-id" data-scope="Lr_VdbDpTL0">Word</span> -- /dies )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">thruWord</code>, but also checks if
the <code class="inline-word-ref">thru</code>-ed word is the same as <span class="doc-eff-id" data-scope="Lr_VdbDpTL0">Word</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">ahead</span><span class="token control"></span> <span class="token word doc-word">thruVal</span> <span class="token word doc-word">$:</span> <span class="token word">begin</span>
  <span class="token word doc-word">ahead</span><span class="token control"></span> <span class="token word doc-word">thruWord:</span> <span class="token word doc-word">to:</span>
  <span class="token word doc-word">ahead</span><span class="token control"></span> <span class="token word doc-word">thruVal</span> <span class="token word doc-word">$:</span> <span class="token word">end</span>

  <span class="token word">begin</span> <span class="token word doc-word">to:</span> <span class="token word">end</span>
] <span class="token word doc-word">@:</span> <span class="token word doc-word">from:</span>

<span class="token word doc-word">from:</span> <span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">100</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token comment">"…"</span> <span class="token decimal">98</span> <span class="token decimal">99</span> <span class="token decimal">100</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="thruVal">
      <a class="word-doc-head" href="#thruVal">
        thruVal
        <span class="doc-head-effect">( B -- F' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code>thruBlock val</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="thruVals">
      <a class="word-doc-head" href="#thruVals">
        thruVals
        <span class="doc-head-effect">( B -- [ ... F' ... ] )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code>thruBlock vals</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="obj">
      <a class="word-doc-head" href="#obj">
        obj
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="INfCXnFpCRU">Block</span> -- <span class="doc-eff-id" data-scope="epL09WPULaw">Instance</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Like <code class="inline-word-ref">do</code>, but leaves the resulting
<span class="doc-eff-id" data-scope="epL09WPULaw">Instance</span> of <span class="doc-eff-id" data-scope="INfCXnFpCRU">Block</span>. Equivalent to <code>[ &lt;Block&gt; this ] do</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> ] <span class="token word doc-word">obj</span> <span class="token comment">"[ 100 $: x 200 $: y · ${x :: 100} {y :: 200} ]"</span>

<span class="token word doc-word">bi:</span> [ <span class="token word doc-word">.</span><span class="token word">x</span> ] [ <span class="token word doc-word">.</span><span class="token word">y</span> ] <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> <span class="token decimal">200</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="br:">
      <a class="word-doc-head" href="#br:">
        br:
        <span class="doc-head-effect">( D br: T F -- ? )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">br</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token word">(0</span> <span class="token word doc-word">randTo:</span> <span class="token word">100)</span> <span class="token word doc-word">odd?</span> <span class="token word doc-word">br:</span>
  [ <span class="token quote">'Yay!'</span> <span class="token word doc-word">echo</span> ]
  [ <span class="token quote">'Nay!'</span> <span class="token word doc-word">echo</span> ]

<span class="token comment">"Say no to repetition!"</span>
<span class="token word">(0</span> <span class="token word doc-word">randTo:</span> <span class="token word">100)</span> <span class="token word doc-word">odd?</span> <span class="token word">(br:</span> <span class="token quote">'Yay!'</span> <span class="token quote">'Nay!'</span><span class="token word">)</span> <span class="token word doc-word">echo</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="=&gt;">
      <a class="word-doc-head" href="#=&gt;">
        =&gt;
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="AZMLx7eRgsc">Determiner</span> => <span class="doc-eff-id" data-scope="VRRRg5KOCH4">True branch</span> -- ? )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="VRRRg5KOCH4">True branch</span> form if <span class="doc-eff-id" data-scope="AZMLx7eRgsc">Determiner</span>
is truthy.</p>
<pre class="language-novika"><code class="language-novika"><span class="token word">(0</span> <span class="token word doc-word">randTo:</span> <span class="token word">100)</span> <span class="token word doc-word">even?</span> <span class="token word doc-word">=></span><span class="token control"></span> [ <span class="token quote">'Yay!'</span> <span class="token word doc-word">echo</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="~&gt;">
      <a class="word-doc-head" href="#~&gt;">
        ~&gt;
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="1-zA207PQwg">Determiner</span> ~> <span class="doc-eff-id" data-scope="9d7JGPHvN7E">True branch</span> -- ? )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="9d7JGPHvN7E">True branch</span> form if <span class="doc-eff-id" data-scope="1-zA207PQwg">Determiner</span>
is truthy.</p>
<p>If <span class="doc-eff-id" data-scope="1-zA207PQwg">Determiner</span> is a block, creates a copy of the stack and
opens <span class="doc-eff-id" data-scope="1-zA207PQwg">Determiner</span> with that stack. If <span class="doc-eff-id" data-scope="1-zA207PQwg">Determiner</span> leaves a
truthy form, opens <span class="doc-eff-id" data-scope="9d7JGPHvN7E">True branch</span> form with the old stack.
Otherwise, does nothing.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">even?</span> <span class="token word doc-word">~></span> <span class="token decimal">1</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> ]
<span class="token decimal">101</span> <span class="token word doc-word">even?</span> <span class="token word doc-word">~></span> <span class="token decimal">1</span> <span class="token leaves word doc-word">leaves:</span> [ ]

<span class="token decimal">100</span> <span class="token word">(</span>[ <span class="token word doc-word">even?</span> ] <span class="token word doc-word">~></span> [ <span class="token decimal">2</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> ]<span class="token word">)</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">200</span> ]
<span class="token decimal">101</span> <span class="token word">(</span>[ <span class="token word doc-word">even?</span> ] <span class="token word doc-word">~></span> [ <span class="token decimal">2</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> ]<span class="token word">)</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">101</span> ]

<span class="token decimal">2</span> <span class="token decimal">4</span> <span class="token word">(</span>[ <span class="token word doc-word">*</span><span class="token magnitudal"></span> <span class="token word doc-word">even?</span> ] <span class="token word doc-word">~></span> <span class="token word">+)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">6</span>
<span class="token decimal">5</span> <span class="token decimal">5</span> <span class="token word">(</span>[ <span class="token word doc-word">*</span><span class="token magnitudal"></span> <span class="token word doc-word">even?</span> ] <span class="token word doc-word">~></span> <span class="token word">+)</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">5</span> <span class="token decimal">5</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="and">
      <a class="word-doc-head" href="#and">
        and
        <span class="doc-head-effect">( A B -- A/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether both A and B are truthy.</p>
<p>Supports short-circuiting. Remember that in Novika, only <code>false</code>
itself is falsey. Everything else is truthy.</p>
<pre class="language-novika"><code class="language-novika"><span class="token word">(false</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token word">and)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token word">(true</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token word">and)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token word">(false</span> <span class="token word">true</span><span class="token boolean"></span> <span class="token word">and)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token word">(true</span> <span class="token word">true</span><span class="token boolean"></span> <span class="token word">and)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

<span class="token word">(100</span> <span class="token decimal">200</span> <span class="token word">and)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token word">(100</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token word">and)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>

[ <span class="token decimal">100</span> <span class="token word doc-word">even?</span> ] [ <span class="token decimal">200</span> <span class="token word doc-word">odd?</span> ] <span class="token word doc-word">and</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="or">
      <a class="word-doc-head" href="#or">
        or
        <span class="doc-head-effect">( A B -- true/A )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A or B or both are truthy.</p>
<p>Supports short-circuiting. Remember that in Novika, only <code>false</code>
itself is falsey. Everything else is truthy.</p>
<pre class="language-novika"><code class="language-novika"><span class="token word">(false</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token word">or)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token word">(true</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token word">or)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token word">(false</span> <span class="token word">true</span><span class="token boolean"></span> <span class="token word">or)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token word">(true</span> <span class="token word">true</span><span class="token boolean"></span> <span class="token word">or)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

<span class="token word">(100</span> <span class="token decimal">200</span> <span class="token word">or)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token word">(100</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token word">or)</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

[ <span class="token decimal">100</span> <span class="token word doc-word">even?</span> ] [ <span class="token decimal">200</span> <span class="token word doc-word">odd?</span> ] <span class="token word doc-word">or</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="neither?">
      <a class="word-doc-head" href="#neither?">
        neither?
        <span class="doc-head-effect">( A B -- true/A )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code>or not</code>, leaves whether neither
A nor B is truthy.</p>
<p>Supports short-circuiting. Remember that in Novika, only <code>false</code>
itself is falsey. Everything else is truthy.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">odd?</span> ] [ <span class="token decimal">201</span> <span class="token word doc-word">even?</span> ] <span class="token word doc-word">neither?</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="continues">
      <a class="word-doc-head" href="#continues">
        continues
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="jagYP6tp0bo">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Makes shallow copy of continuations stack the
stack for the duration of <span class="doc-eff-id" data-scope="jagYP6tp0bo">Block</span>. Replaces substrate of the
continuation stack with the modified shallow copy after
<span class="doc-eff-id" data-scope="jagYP6tp0bo">Block</span> is opened.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="repeat">
      <a class="word-doc-head" href="#repeat">
        repeat
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Executes caller again. Looping primitive. Too low-
level for users, prefer not to use (use <code class="inline-word-ref">loop</code> instead).
Beware that it does not re-instantiate the block.</p>
<pre class="language-novika"><code class="language-novika">[
  <span class="token quote">'Looping indefinitely, yay!'</span> <span class="token word doc-word">echo</span>

  <span class="token word doc-word">repeat</span>
] <span class="token word doc-word">do</span><span class="token control"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="dropContinuationsUntil">
      <a class="word-doc-head" href="#dropContinuationsUntil">
        dropContinuationsUntil
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="uL-Y3ABbKF8">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Drops all continuations before (and including)
those for which <span class="doc-eff-id" data-scope="uL-Y3ABbKF8">Block</span> leaves truthy value when opened with
the continuation on top of an empty stack, coming from the
right-hand side.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="^">
      <a class="word-doc-head" href="#^">
        ^
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Closes blocks all the way up to, and including,
its <em>opener's parent</em>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="createLoop">
      <a class="word-doc-head" href="#createLoop">
        createLoop
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="QyQctMEjl2k">Iteration body</span> -- <span class="doc-eff-id" data-scope="QjfSwd05v5E">Start handle</span> <span class="doc-eff-id" data-scope="obdCDkjOssc">Break handle</span> <span class="doc-eff-id" data-scope="YaQXmO5COqM">Next handle</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Takes an <span class="doc-eff-id" data-scope="QyQctMEjl2k">Iteration body</span> block and
leaves three handles: <span class="doc-eff-id" data-scope="QjfSwd05v5E">Start handle</span> to start the loop,
<span class="doc-eff-id" data-scope="YaQXmO5COqM">Next handle</span> to continue the loop, and <span class="doc-eff-id" data-scope="obdCDkjOssc">Break handle</span> to
break the loop.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'> '</span> <span class="token word doc-word">readLine</span> <span class="token word doc-word">not</span> <span class="token word doc-word">=></span><span class="token control"></span> <span class="token word">nextCycle</span>
  [ <span class="token quote">'quit'</span> <span class="token word">quitLoop</span>
    <span class="token quote">'next'</span> <span class="token word">nextCycle</span>
  ] <span class="token word doc-word">choose</span>
  <span class="token quote">'You have entered: '</span> <span class="token word doc-word">swap</span><span class="token stackworks"></span> <span class="token word doc-word">~</span> <span class="token word doc-word">echo</span>
] <span class="token word doc-word">createLoop</span>
  <span class="token word doc-word">@:</span> <span class="token word">nextCycle</span>
  <span class="token word doc-word">@:</span> <span class="token word">quitLoop</span>
  <span class="token word doc-word">@:</span> <span class="token word">startLoop</span>

<span class="token quote">'Hello! Type `quit` to quit!'</span> <span class="token word doc-word">echo</span>
  <span class="token word">startLoop</span>
<span class="token quote">'Bye!'</span> <span class="token word doc-word">echo</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="createDetachedLoop">
      <a class="word-doc-head" href="#createDetachedLoop">
        createDetachedLoop
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="szr7gYd6yTQ">Body block</span> <span class="doc-eff-id" data-scope="0BgffYyCAag">Condition</span> <span class="doc-eff-id" data-scope="AOpiMLFfq70">Control block</span> -- <span class="doc-eff-id" data-scope="2c4wx0RxJ7A">Start handle</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Defines <code>break</code> and <code>next</code> for a <span class="doc-eff-id" data-scope="szr7gYd6yTQ">Body block</span> that is being evaluated indirectly by a <span class="doc-eff-id" data-scope="AOpiMLFfq70">Control block</span>,
and only if <span class="doc-eff-id" data-scope="0BgffYyCAag">Condition</span> leaves a truthy value on top of the
stack it hydrated. <code>next</code> resumes the <span class="doc-eff-id" data-scope="AOpiMLFfq70">Control block</span>.
Leaves <span class="doc-eff-id" data-scope="2c4wx0RxJ7A">Start handle</span> to start the loop.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Body block is the 'client' block of sorts:"</span>
[ <span class="token word doc-word">dup</span><span class="token stackworks"></span> <span class="token word doc-word">even?</span> <span class="token word">(br:</span> <span class="token quote">' is even!'</span> <span class="token quote">' is odd!'</span><span class="token word">)</span> <span class="token word doc-word">~</span> <span class="token word doc-word">echo</span>
] <span class="token word doc-word">$:</span> <span class="token word">bodyBlock</span>


<span class="token decimal">0</span> <span class="token word doc-word">$:</span> <span class="token word">n</span>

<span class="token comment">"Control block chooses whether, and how to run
the body block."</span>
[ <span class="token word">n</span> <span class="token word doc-word">enclose</span> <span class="token word">bodyBlock</span> <span class="token word doc-word">hydrate</span><span class="token control"></span><span class="token control"></span>
  <span class="token word">n</span> <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span><span class="token magnitudal"></span> <span class="token word doc-word">=:</span> <span class="token word">n</span>
] <span class="token word doc-word">$:</span> <span class="token word">controlBlock</span>

<span class="token comment">"Condition block chooses whether to stop looping."</span>
[ <span class="token word">n</span> <span class="token decimal">5</span> <span class="token word doc-word">&lt;</span><span class="token magnitudal"></span><span class="token magnitudal"></span>
] <span class="token word doc-word">$:</span> <span class="token word">conditionBlock</span>

<span class="token word">bodyBlock</span> <span class="token word">conditionBlock</span> <span class="token word">controlBlock</span> <span class="token word doc-word">createDetachedLoop</span>
  <span class="token word doc-word">@:</span> <span class="token word">startLoop</span>

<span class="token word">startLoop</span>

<span class="token comment">"STDOUT: 0 is even!⏎"</span>
<span class="token comment">"STDOUT: 1 is odd!⏎"</span>
<span class="token comment">"STDOUT: 2 is even!⏎"</span>
<span class="token comment">"STDOUT: 3 is odd!⏎"</span>
<span class="token comment">"STDOUT: 4 is even!⏎"</span>

<span class="token word">n</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">5</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="loop">
      <a class="word-doc-head" href="#loop">
        loop
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="KLavO5mFvwo">Iteration body</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Basic infinite loop over an <span class="doc-eff-id" data-scope="KLavO5mFvwo">Iteration body</span> block.
<code>break</code> and <code>next</code> are available in the block. A new
stack created for each iteration.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'Hello! Type `quit` to quit!'</span> <span class="token word doc-word">echo</span>

[ <span class="token quote">'> '</span> <span class="token word doc-word">readLine</span> <span class="token word doc-word">not</span> <span class="token word doc-word">=></span><span class="token control"></span> <span class="token word">next</span>
  [ <span class="token quote">'quit'</span> <span class="token word">break</span>
    <span class="token quote">'next'</span> <span class="token word">next</span>
  ] <span class="token word doc-word">choose</span>
  <span class="token quote">'You have entered: '</span> <span class="token word doc-word">swap</span><span class="token stackworks"></span> <span class="token word doc-word">~</span> <span class="token word doc-word">echo</span>
] <span class="token word doc-word">loop</span>

<span class="token quote">'Bye!'</span> <span class="token word doc-word">echo</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="loop:">
      <a class="word-doc-head" href="#loop:">
        loop:
        <span class="doc-head-effect">( loop: Ib -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Prefix version of <code class="inline-word-ref">loop</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="while">
      <a class="word-doc-head" href="#while">
        while
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ZNAROlLpCvI">Condition</span> <span class="doc-eff-id" data-scope="KLnrmwtA0fU">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Hydrates an empty stack with <span class="doc-eff-id" data-scope="ZNAROlLpCvI">Condition</span>; if ToS
is truthy afterwards, <span class="doc-eff-id" data-scope="KLnrmwtA0fU">Block</span> is opened over an empty stack.
Repeats until ToS is false. Similar to <code class="inline-word-ref">loop</code>, words <code>break</code>
and <code>next</code> are available in <span class="doc-eff-id" data-scope="KLnrmwtA0fU">Block</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">10</span> <span class="token word doc-word">sample:</span> <span class="token decimal">10</span> <span class="token word doc-word">p</span> <span class="token word doc-word">$:</span> <span class="token word">numbers</span>

<span class="token decimal">0</span> <span class="token word doc-word">$:</span> <span class="token word">index</span>

<span class="token word doc-word">while:</span> [ <span class="token word">numbers</span> <span class="token word">index</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span> <span class="token word doc-word">even?</span> ]
[
  <span class="token word">index</span> <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">=:</span> <span class="token word">index</span>
  <span class="token word">index</span> <span class="token word">(numbers</span> <span class="token word">count)</span> <span class="token word doc-word">=</span> <span class="token word doc-word">=></span><span class="token control"></span> [
    <span class="token quote">'No odd numbers :('</span> <span class="token word doc-word">echo</span>
    <span class="token decimal">1</span> <span class="token word doc-word">bye</span>
  ]
]

<span class="token quote">'First odd number is: '</span> <span class="token word">(numbers</span> <span class="token word">index</span> <span class="token word">fromLeft)</span> <span class="token word doc-word">~</span> <span class="token word doc-word">echo</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="while:">
      <a class="word-doc-head" href="#while:">
        while:
        <span class="doc-head-effect">( while: C B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Prefix version of <code class="inline-word-ref">while</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="until">
      <a class="word-doc-head" href="#until">
        until
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Ekrdg7UBH70">Condition</span> <span class="doc-eff-id" data-scope="61TajNSr4lM">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Inverse of <code class="inline-word-ref">while</code> (opens <span class="doc-eff-id" data-scope="61TajNSr4lM">Block</span> while <span class="doc-eff-id" data-scope="Ekrdg7UBH70">Condition</span>
is <strong>false</strong>), for more info see <code class="inline-word-ref">while</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">10</span> <span class="token word doc-word">sample:</span> <span class="token decimal">10</span> <span class="token word doc-word">p</span> <span class="token word doc-word">$:</span> <span class="token word">numbers</span>

<span class="token decimal">0</span> <span class="token word doc-word">$:</span> <span class="token word">index</span>

<span class="token word doc-word">until:</span> [ <span class="token word">numbers</span> <span class="token word">index</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span> <span class="token word doc-word">odd?</span> ]
[
  <span class="token word">index</span> <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">=:</span> <span class="token word">index</span>
  <span class="token word">index</span> <span class="token word">(numbers</span> <span class="token word">count)</span> <span class="token word doc-word">=</span> <span class="token word doc-word">=></span><span class="token control"></span> [
    <span class="token quote">'No odd numbers :('</span> <span class="token word doc-word">echo</span>
    <span class="token decimal">1</span> <span class="token word doc-word">bye</span>
  ]
]

<span class="token quote">'First odd number is: '</span> <span class="token word">(numbers</span> <span class="token word">index</span> <span class="token word">fromLeft)</span> <span class="token word doc-word">~</span> <span class="token word doc-word">echo</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="until:">
      <a class="word-doc-head" href="#until:">
        until:
        <span class="doc-head-effect">( until: C B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Prefix version of <code class="inline-word-ref">until</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="times">
      <a class="word-doc-head" href="#times">
        times
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="XzCjLTF0QR4">Count</span> <span class="doc-eff-id" data-scope="qFHm5eDf9d4">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="qFHm5eDf9d4">Block</span> <span class="doc-eff-id" data-scope="XzCjLTF0QR4">Count</span> times. For each iteration
of <span class="doc-eff-id" data-scope="qFHm5eDf9d4">Block</span>, a new stack block is activated with current <span class="doc-eff-id" data-scope="XzCjLTF0QR4">Count</span>
on top. <code>break</code> and <code>next</code> available.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">16</span> <span class="token word doc-word">times:</span> [
  <span class="token word doc-word">even?</span> <span class="token word doc-word">~></span> <span class="token word">next</span>
  <span class="token decimal">9</span> <span class="token word doc-word">>=</span><span class="token magnitudal"></span> <span class="token word doc-word">~></span> <span class="token word">break</span>
  <span class="token word doc-word">echo</span>
]

<span class="token comment">"STDOUT: 1⏎"</span>
<span class="token comment">"STDOUT: 3⏎"</span>
<span class="token comment">"STDOUT: 5⏎"</span>
<span class="token comment">"STDOUT: 7⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="times:">
      <a class="word-doc-head" href="#times:">
        times:
        <span class="doc-head-effect">( C times: B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">times</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="compiledTimes">
      <a class="word-doc-head" href="#compiledTimes">
        compiledTimes
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="W80I0pkF0r0">Note</span> <span class="doc-eff-id" data-scope="5DytCMsnCMk">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p><strong>unsafe</strong> <code class="inline-word-ref">times</code> alternative for when you
<em>really</em> need to iterate a lot.</p>
<p>This word basically strips off all steps in the <code class="inline-word-ref">createDetachedLoop</code>
(aka structured control flow) abstraction ladder.</p>
<p>Internally, it's a bit like your <span class="doc-eff-id" data-scope="5DytCMsnCMk">Block</span> being followed by a GOTO
back to the beginning, plus a counter <em>on the stack</em>.</p>
<p><span class="doc-eff-id" data-scope="W80I0pkF0r0">Note</span> that the loop is <em>compiled</em> from a template when you use
this word. <strong>This means that opening this word multiple times
in a row is inefficient</strong>, as such compilation is expensive.
However, if you need to <em>iterate</em> quickly, you can try using
this word.</p>
<p>The stack your <span class="doc-eff-id" data-scope="5DytCMsnCMk">Block</span> is given is <em>not</em> owned by you. You must
not leave junk, and you must not drop the index. The effect
of your block <strong>must</strong> be <code>( I -- I )</code>.</p>
<p><code>next</code> and <code>break</code> are <strong>not</strong> supported.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">10_000</span> <span class="token word doc-word">compiledTimes:</span> [ <span class="token word doc-word">$:</span> <span class="token word">index</span>
  <span class="token word">index</span> <span class="token decimal">2</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> <span class="token word doc-word">echo</span>
  <span class="token word">index</span>
]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="compiledTimes:">
      <a class="word-doc-head" href="#compiledTimes:">
        compiledTimes:
        <span class="doc-head-effect">( N compiledTimes: B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">compiledTimes</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token word doc-word">$:</span> <span class="token word">acc</span>
<span class="token decimal">100_000</span> <span class="token word doc-word">compiledTimes:</span> [ <span class="token comment">"( I -- I )"</span>
  <span class="token word doc-word">dup</span><span class="token stackworks"></span> <span class="token word">acc</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">=:</span> <span class="token word">acc</span>
]
<span class="token word">acc</span> <span class="token word doc-word">echo</span> <span class="token comment">"STDOUT: 5000050000⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="2asc">
      <a class="word-doc-head" href="#2asc">
        2asc
        <span class="doc-head-effect">( A B -- Min Max )</span>
      </a>
      <div class="word-doc-desc">
        <p>Sorts two decimals, A and B, in
ascending (min to max) order. In case A = B, order is
unchanged.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">2asc</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> ]
<span class="token decimal">2</span> <span class="token decimal">1</span> <span class="token word doc-word">2asc</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="2desc">
      <a class="word-doc-head" href="#2desc">
        2desc
        <span class="doc-head-effect">( A B -- Max Min )</span>
      </a>
      <div class="word-doc-desc">
        <p>Sorts two decimals, A and B, in
descending (max to min) order. In case A = B, order is
unchanged.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">2desc</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">2</span> <span class="token decimal">1</span> ]
<span class="token decimal">2</span> <span class="token decimal">1</span> <span class="token word doc-word">2desc</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">2</span> <span class="token decimal">1</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="2min">
      <a class="word-doc-head" href="#2min">
        2min
        <span class="doc-head-effect">( A B -- <span class="doc-eff-id" data-scope="CCHwudsBOR0">Minimum</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="CCHwudsBOR0">Minimum</span> of two decimals, A and B.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">3</span> <span class="token decimal">10</span> <span class="token word doc-word">2min</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="2max">
      <a class="word-doc-head" href="#2max">
        2max
        <span class="doc-head-effect">( A B -- <span class="doc-eff-id" data-scope="Hb3m8lId01U">Maximum</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="Hb3m8lId01U">Maximum</span> of two decimals, A and B.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">3</span> <span class="token decimal">10</span> <span class="token word doc-word">2max</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">10</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="randFromTo">
      <a class="word-doc-head" href="#randFromTo">
        randFromTo
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="3sDqRY7hdr0">Low</span> <span class="doc-eff-id" data-scope="wMeySn1vBI4">High</span> -- <span class="doc-eff-id" data-scope="JwJsEhkZbRc">Number</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Generates random <span class="doc-eff-id" data-scope="JwJsEhkZbRc">Number</span> between <span class="doc-eff-id" data-scope="3sDqRY7hdr0">Low</span> and
<span class="doc-eff-id" data-scope="wMeySn1vBI4">High</span>, <em>including</em> both <span class="doc-eff-id" data-scope="3sDqRY7hdr0">Low</span> and <span class="doc-eff-id" data-scope="wMeySn1vBI4">High</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="randTo:">
      <a class="word-doc-head" href="#randTo:">
        randTo:
        <span class="doc-head-effect">( L randTo: H -- N )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">randFromTo</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="clamp:">
      <a class="word-doc-head" href="#clamp:">
        clamp:
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Ab38TFPf4wU">Number</span> clamp: <span class="doc-eff-id" data-scope="R6Sy_uIZlk0">Low</span> <span class="doc-eff-id" data-scope="ILS-DuuxppI">High</span> -- <span class="doc-eff-id" data-scope="Ab38TFPf4wU">Number</span>/<span class="doc-eff-id" data-scope="R6Sy_uIZlk0">Low</span>/<span class="doc-eff-id" data-scope="ILS-DuuxppI">High</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Clamps <span class="doc-eff-id" data-scope="Ab38TFPf4wU">Number</span> between <span class="doc-eff-id" data-scope="R6Sy_uIZlk0">Low</span> and
<span class="doc-eff-id" data-scope="ILS-DuuxppI">High</span>: if <span class="doc-eff-id" data-scope="Ab38TFPf4wU">Number</span> is less than <span class="doc-eff-id" data-scope="R6Sy_uIZlk0">Low</span>, leaves low; if <span class="doc-eff-id" data-scope="Ab38TFPf4wU">Number</span>
is greater than <span class="doc-eff-id" data-scope="ILS-DuuxppI">High</span>, leaves <span class="doc-eff-id" data-scope="ILS-DuuxppI">High</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">clamp:</span> <span class="token decimal">5</span> <span class="token decimal">10</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">5</span>
<span class="token decimal">5</span> <span class="token word doc-word">clamp:</span> <span class="token decimal">5</span> <span class="token decimal">10</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">5</span>
<span class="token decimal">7</span> <span class="token word doc-word">clamp:</span> <span class="token decimal">5</span> <span class="token decimal">10</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">7</span>
<span class="token decimal">10</span> <span class="token word doc-word">clamp:</span> <span class="token decimal">5</span> <span class="token decimal">10</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">10</span>
<span class="token decimal">100</span> <span class="token word doc-word">clamp:</span> <span class="token decimal">5</span> <span class="token decimal">10</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">10</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="flipSign">
      <a class="word-doc-head" href="#flipSign">
        flipSign
        <span class="doc-head-effect">( N -- -N )</span>
      </a>
      <div class="word-doc-desc">
        <p>Flips the sign of N.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">-1</span> <span class="token word doc-word">flipSign</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token decimal">0</span> <span class="token word doc-word">flipSign</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0</span>
<span class="token decimal">1</span> <span class="token word doc-word">flipSign</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">-1</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="abs">
      <a class="word-doc-head" href="#abs">
        abs
        <span class="doc-head-effect">( N -- <span class="doc-eff-id" data-scope="5UlYsTtVM54">Absolute value</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="5UlYsTtVM54">Absolute value</span> of N.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token word doc-word">abs</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0</span>
<span class="token decimal">100</span> <span class="token word doc-word">abs</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token decimal">-100</span> <span class="token word doc-word">abs</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="%">
      <a class="word-doc-head" href="#%">
        %
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="xcxlQz4z5hk">Decimal</span> -- <span class="doc-eff-id" data-scope="q4wbCO7pvdI">Reciprocal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="q4wbCO7pvdI">Reciprocal</span> of <span class="doc-eff-id" data-scope="xcxlQz4z5hk">Decimal</span> (<code>1/D</code>). Leaves
0 if <span class="doc-eff-id" data-scope="xcxlQz4z5hk">Decimal</span> is 0. Note: as in <code>12 % 12 *</code>, this may not
always leave <code>1</code> because of math imprecisions.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token word doc-word">%</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0</span>
<span class="token decimal">20</span> <span class="token word doc-word">%</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0.05</span>
<span class="token decimal">100</span> <span class="token word doc-word">%</span> <span class="token decimal">100</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="rangesMap">
      <a class="word-doc-head" href="#rangesMap">
        rangesMap
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="GoMQZ6zOH9Y">Decimal</span> R1b R1e R2b R2e -- <span class="doc-eff-id" data-scope="GoMQZ6zOH9Y">Decimal</span>' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="GoMQZ6zOH9Y">Decimal</span> in range
[R1b; R1e] mapped to the range [R2b; R2e].</p>
<p>Note: <span class="doc-eff-id" data-scope="GoMQZ6zOH9Y">Decimal</span> is clamped into the range [R1b; R1e].
Note: implementation taken from https://www.arduino.cc/reference/en/language/functions/math/map/</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span>  <span class="token decimal">0</span> <span class="token decimal">100</span>  <span class="token decimal">1.5</span> <span class="token decimal">255</span>  <span class="token word doc-word">rangesMap</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">255</span>
  <span class="token decimal">0</span>  <span class="token decimal">0</span> <span class="token decimal">100</span>  <span class="token decimal">1.5</span> <span class="token decimal">255</span>  <span class="token word doc-word">rangesMap</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1.5</span>

<span class="token comment">"Reverse range:"</span>

<span class="token decimal">10</span>  <span class="token decimal">0</span> <span class="token decimal">100</span>  <span class="token decimal">100</span> <span class="token decimal">0</span>  <span class="token word doc-word">rangesMap</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">90</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="mapFromRange:">
      <a class="word-doc-head" href="#mapFromRange:">
        mapFromRange:
        <span class="doc-head-effect">( D mapFromRange: R1b R1e toRange: R2b R2e -- D' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix
version of <code class="inline-word-ref">rangesMap</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">mapFromRange:</span> <span class="token decimal">0</span> <span class="token decimal">100</span> <span class="token word">toRange:</span> <span class="token decimal">1.5</span> <span class="token decimal">255</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">255</span> ]
  <span class="token decimal">0</span> <span class="token word doc-word">mapFromRange:</span> <span class="token decimal">0</span> <span class="token decimal">100</span> <span class="token word">toRange:</span> <span class="token decimal">1.5</span> <span class="token decimal">255</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1.5</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="mapToRange">
      <a class="word-doc-head" href="#mapToRange">
        mapToRange
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="YJgs25ERXWM">Percentage</span> <span class="doc-eff-id" data-scope="Md-1A3qbSHM">Range begin</span> <span class="doc-eff-id" data-scope="JXEd5oHSy0A">Range end</span> -- <span class="doc-eff-id" data-scope="AIzxypLzjKQ">Decimal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="AIzxypLzjKQ">Decimal</span> in range [<span class="doc-eff-id" data-scope="Md-1A3qbSHM">Range begin</span>; <span class="doc-eff-id" data-scope="JXEd5oHSy0A">Range end</span>]
corresponding to the given <span class="doc-eff-id" data-scope="YJgs25ERXWM">Percentage</span> (in [0; 1]).</p>
<p>See <code class="inline-word-ref">rangesMap</code> for more details.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"...etc.."</span>
<span class="token decimal">-100</span>  <span class="token decimal">0</span> <span class="token decimal">100</span>  <span class="token word doc-word">mapToRange</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0</span>
   <span class="token decimal">0</span>  <span class="token decimal">0</span> <span class="token decimal">100</span>  <span class="token word doc-word">mapToRange</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0</span>
 <span class="token decimal">0.1</span>  <span class="token decimal">0</span> <span class="token decimal">100</span>  <span class="token word doc-word">mapToRange</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">10</span>
   <span class="token decimal">1</span>  <span class="token decimal">0</span> <span class="token decimal">100</span>  <span class="token word doc-word">mapToRange</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
   <span class="token decimal">2</span>  <span class="token decimal">0</span> <span class="token decimal">100</span>  <span class="token word doc-word">mapToRange</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token comment">"...etc.."</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="mapToRange:">
      <a class="word-doc-head" href="#mapToRange:">
        mapToRange:
        <span class="doc-head-effect">( P mapToRange: Rb Re -- D )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">mapToRange</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="%-&gt;:">
      <a class="word-doc-head" href="#%-&gt;:">
        %-&gt;:
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="3VCjj9PF_XQ">Human percentage</span> %->: <span class="doc-eff-id" data-scope="B_HKyh7Ud7g">Range begin</span> <span class="doc-eff-id" data-scope="CQ_SFuwNiTY">Range end</span> -- <span class="doc-eff-id" data-scope="0zZcY4vqetA">Decimal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="0zZcY4vqetA">Decimal</span>, which is <span class="doc-eff-id" data-scope="3VCjj9PF_XQ">Human percentage</span> (0-100) mapped to [<span class="doc-eff-id" data-scope="B_HKyh7Ud7g">Range begin</span>; <span class="doc-eff-id" data-scope="CQ_SFuwNiTY">Range end</span>]
range. <span class="doc-eff-id" data-scope="3VCjj9PF_XQ">Human percentage</span> is clamped to 0-100.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"What is 30% of John's salary, $10 000? "</span>
<span class="token decimal">30</span> <span class="token word doc-word">%->:</span> <span class="token decimal">0</span>   <span class="token decimal">10_000</span>  <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3000</span>
<span class="token decimal">60</span> <span class="token word doc-word">%->:</span> <span class="token decimal">64</span>  <span class="token decimal">255</span>     <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">178.6</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="-&gt;%:">
      <a class="word-doc-head" href="#-&gt;%:">
        -&gt;%:
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="WvoSL2nPgaA">Decimal</span> ->%: <span class="doc-eff-id" data-scope="voJe7iq6xUo">Range begin</span> <span class="doc-eff-id" data-scope="ux0Ntjbpfnw">Range end</span> -- <span class="doc-eff-id" data-scope="j1eHXxy8H9Q">Human percentage</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="j1eHXxy8H9Q">Human percentage</span> for
<span class="doc-eff-id" data-scope="WvoSL2nPgaA">Decimal</span> in the given range [<span class="doc-eff-id" data-scope="voJe7iq6xUo">Range begin</span>; <span class="doc-eff-id" data-scope="ux0Ntjbpfnw">Range end</span>].
Inverse of <code class="inline-word-ref">%-&gt;:</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">->%:</span> <span class="token decimal">0</span> <span class="token decimal">256</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">39.0625</span>

<span class="token comment">"Can be checked like so:"</span>
<span class="token decimal">39.0625</span> <span class="token word doc-word">%->:</span> <span class="token decimal">0</span> <span class="token decimal">256</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="deg-&gt;rad">
      <a class="word-doc-head" href="#deg-&gt;rad">
        deg-&gt;rad
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="2k5W1-f-GP0">Angle in degrees</span> -- <span class="doc-eff-id" data-scope="NkLAvI6TCaY">Angle in radians</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="NkLAvI6TCaY">Angle in radians</span> for the given
<span class="doc-eff-id" data-scope="2k5W1-f-GP0">Angle in degrees</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="rad-&gt;deg">
      <a class="word-doc-head" href="#rad-&gt;deg">
        rad-&gt;deg
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="7G7X-2roOzo">Angle in radians</span> -- <span class="doc-eff-id" data-scope="gHT0-UuM16M">Angle in degrees</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="gHT0-UuM16M">Angle in degrees</span> for the given
<span class="doc-eff-id" data-scope="7G7X-2roOzo">Angle in radians</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="approx=">
      <a class="word-doc-head" href="#approx=">
        approx=
        <span class="doc-head-effect">( A <span class="doc-eff-id" data-scope="W3ngLwt_uJc">Boolean</span> -- <span class="doc-eff-id" data-scope="W3ngLwt_uJc">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="W3ngLwt_uJc">Boolean</span> for whether A and B are
approximately equal (their difference is less than or
equal to <code>EPSILON</code>).</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="echo">
      <a class="word-doc-head" href="#echo">
        echo
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="I452bIAqZMI">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Enquotes <span class="doc-eff-id" data-scope="I452bIAqZMI">Form</span>, and appends the resulting quote,
followed by newline, to the standard output stream.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="help">
      <a class="word-doc-head" href="#help">
        help
        <span class="doc-head-effect">( help <span class="doc-eff-id" data-scope="tLEQhG_qSjc">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Echoes help for <span class="doc-eff-id" data-scope="tLEQhG_qSjc">Form</span>. If form is a word,
fetches it in caller first.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="2echo">
      <a class="word-doc-head" href="#2echo">
        2echo
        <span class="doc-head-effect">( F1 F2 -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Echoes a pair of Forms.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="p">
      <a class="word-doc-head" href="#p">
        p
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Y86l5Q_kdZ8">Form</span> -- <span class="doc-eff-id" data-scope="Y86l5Q_kdZ8">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Echoes a <span class="doc-eff-id" data-scope="Y86l5Q_kdZ8">Form</span> but leaves it on the stack.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="2p">
      <a class="word-doc-head" href="#2p">
        2p
        <span class="doc-head-effect">( F1 F2 -- F1 F2 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Echoes a pair of Forms but leaves
them on the stack.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="measure">
      <a class="word-doc-head" href="#measure">
        measure
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="msWg_FtChXs">Block</span> -- <span class="doc-eff-id" data-scope="JoQywOi54pg">Monotonic time</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="JoQywOi54pg">Monotonic time</span> difference in
milliseconds for <span class="doc-eff-id" data-scope="msWg_FtChXs">Block</span> (leaves the time <span class="doc-eff-id" data-scope="msWg_FtChXs">Block</span> took to
execute, in ms).</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="2drop">
      <a class="word-doc-head" href="#2drop">
        2drop
        <span class="doc-head-effect">( A B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Drops a pair of forms.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">2drop</span> <span class="token leaves word doc-word">leaves:</span> [ ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="nip">
      <a class="word-doc-head" href="#nip">
        nip
        <span class="doc-head-effect">( A B -- B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Drops a form under the top.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">nip</span><span class="token stackworks"></span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">2</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="nup">
      <a class="word-doc-head" href="#nup">
        nup
        <span class="doc-head-effect">( A B -- A A B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Duplicates a form under the top.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">nup</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">1</span> <span class="token decimal">2</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="over">
      <a class="word-doc-head" href="#over">
        over
        <span class="doc-head-effect">( A B -- A B A )</span>
      </a>
      <div class="word-doc-desc">
        <p>Duplicates a form over the top.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">over</span><span class="token stackworks"></span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">1</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="tuck">
      <a class="word-doc-head" href="#tuck">
        tuck
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>( A B - B A B ): puts a duplicate of the top form
before the second-from-top form.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">tuck</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">2</span> <span class="token decimal">1</span> <span class="token decimal">2</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="2dup">
      <a class="word-doc-head" href="#2dup">
        2dup
        <span class="doc-head-effect">( A B -- A B A B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Duplicates a pair of forms.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">2dup</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">1</span> <span class="token decimal">2</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="rot">
      <a class="word-doc-head" href="#rot">
        rot
        <span class="doc-head-effect">( A B C -- B C A )</span>
      </a>
      <div class="word-doc-desc">
        <p>Moves thirdmost form to the top.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word doc-word">rot</span><span class="token stackworks"></span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">1</span> ]
      <span class="token word doc-word">rot</span><span class="token stackworks"></span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">3</span> <span class="token decimal">1</span> <span class="token decimal">2</span> ]
      <span class="token word doc-word">rot</span><span class="token stackworks"></span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="-rot">
      <a class="word-doc-head" href="#-rot">
        -rot
        <span class="doc-head-effect">( A B C -- C A B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Moves top form so it's thirdmost.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word doc-word">-rot</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">3</span> <span class="token decimal">1</span> <span class="token decimal">2</span> ]
      <span class="token word doc-word">-rot</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">1</span> ]
      <span class="token word doc-word">-rot</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="asStack">
      <a class="word-doc-head" href="#asStack">
        asStack
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="JQ36bWURkN0">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Replaces current stack with <span class="doc-eff-id" data-scope="JQ36bWURkN0">Block</span> in-place. Cursor
position is saved (clamped to <span class="doc-eff-id" data-scope="JQ36bWURkN0">Block</span> end if <span class="doc-eff-id" data-scope="JQ36bWURkN0">Block</span> is smaller)</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="dip">
      <a class="word-doc-head" href="#dip">
        dip
        <span class="doc-head-effect">( ... <span class="doc-eff-id" data-scope="LRtXRr_axJw">Top</span> dip: <span class="doc-eff-id" data-scope="ajxxWAY1p3A">Form</span> -- ... <span class="doc-eff-id" data-scope="ajxxWAY1p3A">Form</span>' <span class="doc-eff-id" data-scope="LRtXRr_axJw">Top</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="ajxxWAY1p3A">Form</span> behind <span class="doc-eff-id" data-scope="LRtXRr_axJw">Top</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">4</span> [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">dip</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">3</span> <span class="token decimal">4</span> ]
<span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">4</span> <span class="token decimal">100</span> <span class="token word doc-word">dip</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">100</span> <span class="token decimal">4</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="dip:">
      <a class="word-doc-head" href="#dip:">
        dip:
        <span class="doc-head-effect">( ... T dip: F -- ... F' T )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">dip</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="keep">
      <a class="word-doc-head" href="#keep">
        keep
        <span class="doc-head-effect">( ... <span class="doc-eff-id" data-scope="ZeU2n0itMOw">Top</span> <span class="doc-eff-id" data-scope="ImVbU4Dmaj8">Form</span> -- ... <span class="doc-eff-id" data-scope="ImVbU4Dmaj8">Form</span>' <span class="doc-eff-id" data-scope="ZeU2n0itMOw">Top</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="ImVbU4Dmaj8">Form</span> with <span class="doc-eff-id" data-scope="ZeU2n0itMOw">Top</span> on top
of the stack, restoring <span class="doc-eff-id" data-scope="ZeU2n0itMOw">Top</span> after it is opened.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">4</span> [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">keep</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">6</span> <span class="token decimal">4</span> ]
<span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">4</span> <span class="token quote">'hello'</span> <span class="token word doc-word">keep</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">4</span> <span class="token quote">'hello'</span> <span class="token decimal">4</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="keep:">
      <a class="word-doc-head" href="#keep:">
        keep:
        <span class="doc-head-effect">( ... T keep: F -- ... F' T )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">keep</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="bi">
      <a class="word-doc-head" href="#bi">
        bi
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="BL5v9fS14hI">Form</span> A B -- A' B' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens two blocks, A and
B, with <span class="doc-eff-id" data-scope="BL5v9fS14hI">Form</span> placed on top of the stack for each one, and
leaves their results in order.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token word doc-word">sum</span> ] [ <span class="token word doc-word">count</span><span class="token blockworks"></span> ] <span class="token word doc-word">bi</span> <span class="token word doc-word">/</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="bi:">
      <a class="word-doc-head" href="#bi:">
        bi:
        <span class="doc-head-effect">( F bi: A B -- A' B' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">bi</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">bi:</span> <span class="token word doc-word">sum</span> <span class="token word doc-word">count</span><span class="token blockworks"></span> <span class="token word doc-word">/</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="bi*">
      <a class="word-doc-head" href="#bi*">
        bi*
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="PFUmn1ffNy8">A form</span> <span class="doc-eff-id" data-scope="qfSluDg76XQ">B form</span> A B -- A' B' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens block A with <span class="doc-eff-id" data-scope="PFUmn1ffNy8">A form</span>,
block B with <span class="doc-eff-id" data-scope="qfSluDg76XQ">B form</span>, and leaves the results.</p>
<p>Note: the result of opening A is available to B.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] [ <span class="token decimal">3</span> <span class="token decimal">4</span> ] [ <span class="token word doc-word">first</span> ] [ <span class="token word doc-word">last</span> ] <span class="token word doc-word">bi*</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">4</span> ]

<span class="token comment">"Note how we use the result of the first block in the
 second block:"</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] [ <span class="token decimal">3</span> <span class="token decimal">4</span> ] [ <span class="token word doc-word">first</span> ] [ <span class="token word doc-word">last</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">bi*</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">5</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="bi*:">
      <a class="word-doc-head" href="#bi*:">
        bi*:
        <span class="doc-head-effect">( Af Bf bi*: A B -- A' B' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">bi*</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="bi@">
      <a class="word-doc-head" href="#bi@">
        bi@
        <span class="doc-head-effect">( X Y <span class="doc-eff-id" data-scope="c4qeu3iOw5A">Block</span> -- Bx By )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the results of applying
<span class="doc-eff-id" data-scope="c4qeu3iOw5A">Block</span> first to X form, and then to Y form.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> [ <span class="token quote">'X ='</span> <span class="token word doc-word">swap</span><span class="token stackworks"></span> <span class="token word doc-word">~</span> ] <span class="token word doc-word">bi@</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token quote">'X = 1'</span> <span class="token quote">'X = 2'</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="bi@:">
      <a class="word-doc-head" href="#bi@:">
        bi@:
        <span class="doc-head-effect">( X Y bi@: B -- Bx By )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">bi@</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInSine">
      <a class="word-doc-head" href="#easeInSine">
        easeInSine
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInSine function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutSine">
      <a class="word-doc-head" href="#easeOutSine">
        easeOutSine
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutSine function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutSine">
      <a class="word-doc-head" href="#easeInOutSine">
        easeInOutSine
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutSine function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInCubic">
      <a class="word-doc-head" href="#easeInCubic">
        easeInCubic
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInCubic function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutCubic">
      <a class="word-doc-head" href="#easeOutCubic">
        easeOutCubic
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutCubic function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutCubic">
      <a class="word-doc-head" href="#easeInOutCubic">
        easeInOutCubic
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutCubic function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInQuint">
      <a class="word-doc-head" href="#easeInQuint">
        easeInQuint
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInQuint function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutQuint">
      <a class="word-doc-head" href="#easeOutQuint">
        easeOutQuint
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutQuint function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutQuint">
      <a class="word-doc-head" href="#easeInOutQuint">
        easeInOutQuint
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutQuint function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInCirc">
      <a class="word-doc-head" href="#easeInCirc">
        easeInCirc
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInCirc function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutCirc">
      <a class="word-doc-head" href="#easeOutCirc">
        easeOutCirc
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutCirc function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutCirc">
      <a class="word-doc-head" href="#easeInOutCirc">
        easeInOutCirc
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutCirc function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInElastic">
      <a class="word-doc-head" href="#easeInElastic">
        easeInElastic
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInElastic function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutElastic">
      <a class="word-doc-head" href="#easeOutElastic">
        easeOutElastic
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutElastic function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutElastic">
      <a class="word-doc-head" href="#easeInOutElastic">
        easeInOutElastic
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutElastic function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInQuad">
      <a class="word-doc-head" href="#easeInQuad">
        easeInQuad
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInQuad function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutQuad">
      <a class="word-doc-head" href="#easeOutQuad">
        easeOutQuad
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutQuad function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutQuad">
      <a class="word-doc-head" href="#easeInOutQuad">
        easeInOutQuad
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutQuad function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInQuart">
      <a class="word-doc-head" href="#easeInQuart">
        easeInQuart
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInQuart function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutQuart">
      <a class="word-doc-head" href="#easeOutQuart">
        easeOutQuart
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutQuart function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutQuart">
      <a class="word-doc-head" href="#easeInOutQuart">
        easeInOutQuart
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutQuart function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInExpo">
      <a class="word-doc-head" href="#easeInExpo">
        easeInExpo
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInExpo function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutExpo">
      <a class="word-doc-head" href="#easeOutExpo">
        easeOutExpo
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutExpo function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutExpo">
      <a class="word-doc-head" href="#easeInOutExpo">
        easeInOutExpo
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutExpo function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInBack">
      <a class="word-doc-head" href="#easeInBack">
        easeInBack
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInBack function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutBack">
      <a class="word-doc-head" href="#easeOutBack">
        easeOutBack
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutBack function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutBack">
      <a class="word-doc-head" href="#easeInOutBack">
        easeInOutBack
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutBack function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInBounce">
      <a class="word-doc-head" href="#easeInBounce">
        easeInBounce
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInBounce function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeOutBounce">
      <a class="word-doc-head" href="#easeOutBounce">
        easeOutBounce
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeOutBounce function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="easeInOutBounce">
      <a class="word-doc-head" href="#easeInOutBounce">
        easeInOutBounce
        <span class="doc-head-effect">( X -- Xe )</span>
      </a>
      <div class="word-doc-desc">
        <p>Eases X using easeInOutBounce function.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="toCapitalized">
      <a class="word-doc-head" href="#toCapitalized">
        toCapitalized
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="P5FN0q-myR0">Quote</span> -- <span class="doc-eff-id" data-scope="P5FN0q-myR0">Quote</span>' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Capitalizes <span class="doc-eff-id" data-scope="P5FN0q-myR0">Quote</span>: transforms the first
letter of <span class="doc-eff-id" data-scope="P5FN0q-myR0">Quote</span> to uppercase.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="~">
      <a class="word-doc-head" href="#~">
        ~
        <span class="doc-head-effect">( A B -- <span class="doc-eff-id" data-scope="PCT6RiCDVHY">Quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Obtains <span class="doc-eff-id" data-scope="PCT6RiCDVHY">Quote</span> by stitching (and
enquoting, if necessary) two forms, A and B.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token decimal">200</span> <span class="token word doc-word">~</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'100200'</span>
<span class="token quote">'hello'</span> <span class="token quote">'world'</span> <span class="token word doc-word">~</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'helloworld'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="~*">
      <a class="word-doc-head" href="#~*">
        ~*
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="wOS0YnzqDH8">Form</span> -- <span class="doc-eff-id" data-scope="yg6y8L4tTu4">Quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Like <code>here join</code>, but faster and not
recursive in case <span class="doc-eff-id" data-scope="wOS0YnzqDH8">Form</span> is a block. Else, same as
<code class="inline-word-ref">toQuote</code>. Leaves the resulting <span class="doc-eff-id" data-scope="yg6y8L4tTu4">Quote</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">123</span> <span class="token word doc-word">~*</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'123'</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">~*</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'123'</span>

<span class="token quote">'John'</span> <span class="token word doc-word">$:</span> <span class="token word">name</span>
[ <span class="token quote">'My name is '</span> <span class="token word">name</span> <span class="token quote">'!'</span> ] <span class="token word doc-word">~*</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'My name is John!'</span>
</code></pre>
<p>Beware that the referenced entries are only resolved. They
are not opened. Consider using <code>vals join</code> if you want to
stitch results instead.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">@:</span> <span class="token word">foo</span>

[ <span class="token quote">'foo = '</span> <span class="token word">foo</span> ] <span class="token word doc-word">~*</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'foo = [ 1 2 + ]'</span>

<span class="token comment">"You can use this if you want to evaluate first:"</span>
[ <span class="token quote">'foo = '</span> <span class="token word">foo</span> ] <span class="token word doc-word">vals</span> <span class="token word doc-word">join</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'foo = 3'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="parseDecimal">
      <a class="word-doc-head" href="#parseDecimal">
        parseDecimal
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="_mhwVzdgV44">Quote</span> -- <span class="doc-eff-id" data-scope="7Eo2YU1ZM-Y">Decimal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Converts <span class="doc-eff-id" data-scope="_mhwVzdgV44">Quote</span> to <span class="doc-eff-id" data-scope="7Eo2YU1ZM-Y">Decimal</span>. Dies if <span class="doc-eff-id" data-scope="_mhwVzdgV44">Quote</span> does
not contain a decimal, or if couldn't parse it out.</p>
<p><span class="doc-eff-id" data-scope="_mhwVzdgV44">Quote</span> is parsed by Novika. This word only ensures the result
of that is a decimal. Aside from error messages that leak
this fact, you generally shouldn't care about this.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'1234'</span> <span class="token word doc-word">parseDecimal</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1234</span>
<span class="token quote">'-1234.5678'</span> <span class="token word doc-word">parseDecimal</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">-1234.5678</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="peek?">
      <a class="word-doc-head" href="#peek?">
        peek?
        <span class="doc-head-effect">( [ ... | <span class="doc-eff-id" data-scope="i1KIzsVON_k">Form</span> ... ]<span class="doc-eff-id" data-scope="VE_jniKUsPI">Block</span> -- <span class="doc-eff-id" data-scope="i1KIzsVON_k">Form</span> true / false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="i1KIzsVON_k">Form</span> and/
or a boolean for whether <span class="doc-eff-id" data-scope="i1KIzsVON_k">Form</span> exists in <span class="doc-eff-id" data-scope="VE_jniKUsPI">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">peek?</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">2</span> <span class="token word">true</span><span class="token boolean"></span> ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word">|</span> ] <span class="token word doc-word">peek?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|afterFirst?">
      <a class="word-doc-head" href="#|afterFirst?">
        |afterFirst?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="XkUEG4RPA-U">Block</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether cursor is after the
first form in <span class="doc-eff-id" data-scope="XkUEG4RPA-U">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">|</span> ] <span class="token word doc-word">|afterFirst?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
[ <span class="token decimal">1</span> <span class="token word">|</span> ] <span class="token word doc-word">|afterFirst?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">|afterFirst?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word">|</span> ] <span class="token word doc-word">|afterFirst?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|afterLast?">
      <a class="word-doc-head" href="#|afterLast?">
        |afterLast?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="X3eYIDPyjqo">Block</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether cursor is after the
last form in <span class="doc-eff-id" data-scope="X3eYIDPyjqo">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">|</span> ] <span class="token word doc-word">|afterLast?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">1</span> <span class="token word">|</span> ] <span class="token word doc-word">|afterLast?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token word">|</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">|afterLast?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">|afterLast?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word">|</span> ] <span class="token word doc-word">|afterLast?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|-">
      <a class="word-doc-head" href="#|-">
        |-
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="8vPF9U_rbIo">Block</span> N -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Decrements block cursor position: moves
cursor back N times in <span class="doc-eff-id" data-scope="8vPF9U_rbIo">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word">|</span> ] <span class="token word doc-word">dup</span><span class="token stackworks"></span> <span class="token decimal">2</span> <span class="token word doc-word">|-</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|+">
      <a class="word-doc-head" href="#|+">
        |+
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="9OwHDG6ZNBI">Block</span> N -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Increments block cursor position: moves
cursor forward N times in <span class="doc-eff-id" data-scope="9OwHDG6ZNBI">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">block</span>
<span class="token word">block</span> <span class="token decimal">1</span> <span class="token word doc-word">|to</span><span class="token blockworks"></span>
<span class="token word">block</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
<span class="token word">block</span> <span class="token decimal">1</span> <span class="token word doc-word">|+</span><span class="token blockworks"></span>
<span class="token word">block</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word">|</span> <span class="token decimal">3</span> ] ]
<span class="token word">block</span> <span class="token decimal">1</span> <span class="token word doc-word">|+</span><span class="token blockworks"></span>
<span class="token word">block</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word">|</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|:">
      <a class="word-doc-head" href="#|:">
        |:
        <span class="doc-head-effect">( S |: F -- S )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">there</code>.</p>
<p>Like <code class="inline-word-ref">there</code>, preserves <code class="inline-word-ref">ahead</code>. Leaves the opener
block dirty due to this.</p>
<pre class="language-novika"><code class="language-novika"><span class="token word">(</span>[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">|:</span> <span class="token word">100)</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">100</span> ]
<span class="token word">(</span>[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">|:</span> <span class="token word">+)</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">5</span> ] ]
<span class="token word">(</span>[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">|:</span> <span class="token word">swap)</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">3</span> <span class="token decimal">2</span> ] ]

[ <span class="token decimal">100</span> ] <span class="token word doc-word">|:</span> [ <span class="token word doc-word">ahead</span><span class="token control"></span> <span class="token word doc-word">thru</span><span class="token blockworks"></span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token decimal">200</span> <span class="token decimal">123</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">300</span> <span class="token decimal">123</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|clamp">
      <a class="word-doc-head" href="#|clamp">
        |clamp
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="kMpSzlqskv4">Block</span> N -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Moves the cursor in <span class="doc-eff-id" data-scope="kMpSzlqskv4">Block</span> to N. If N
is negative, the cursor is moved to 0. If N is greater
than the amount of forms in <span class="doc-eff-id" data-scope="kMpSzlqskv4">Block</span>, the cursor is moved
to the end of <span class="doc-eff-id" data-scope="kMpSzlqskv4">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token word">x</span> <span class="token decimal">1</span> <span class="token word doc-word">|clamp</span>
<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
<span class="token word">x</span> <span class="token decimal">1000</span> <span class="token word doc-word">|clamp</span>
<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word">|</span> ] ]
<span class="token word">x</span> <span class="token decimal">-1000</span> <span class="token word doc-word">|clamp</span>
<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token word">|</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|hydrate">
      <a class="word-doc-head" href="#|hydrate">
        |hydrate
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="YN8NwIx7ZK4">List block</span> N <span class="doc-eff-id" data-scope="H_VWGMXdLXk">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Moves the cursor in <span class="doc-eff-id" data-scope="YN8NwIx7ZK4">List block</span> to N,
then hydrates <span class="doc-eff-id" data-scope="YN8NwIx7ZK4">List block</span> with <span class="doc-eff-id" data-scope="H_VWGMXdLXk">Block</span>. After <span class="doc-eff-id" data-scope="H_VWGMXdLXk">Block</span> had
executed <em>successfully</em>, moves the cursor in <span class="doc-eff-id" data-scope="YN8NwIx7ZK4">List block</span> back to where it was before <code class="inline-word-ref">|hydrate</code> (clamped
to either end, if necessary).</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">x</span>

<span class="token word">x</span> <span class="token decimal">2</span> [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">|hydrate</span>
<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">3</span> <span class="token word">|</span> <span class="token decimal">3</span> ] ]

<span class="token word">x</span> <span class="token decimal">2</span> [ <span class="token word doc-word">2drop</span> ] <span class="token word doc-word">|hydrate</span>
<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|swap">
      <a class="word-doc-head" href="#|swap">
        |swap
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Swaps the item before and after cursor in the
active stack.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word">|</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">block</span>
<span class="token word">block</span> [ <span class="token word doc-word">|swap</span> ] <span class="token word doc-word">there</span><span class="token control"></span>
<span class="token word">block</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">3</span> <span class="token word">|</span> <span class="token decimal">2</span>  ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="gulp">
      <a class="word-doc-head" href="#gulp">
        gulp
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="kdL7qQpbX58">Form</span> <span class="doc-eff-id" data-scope="fvuHSUNpvI4">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p><code class="inline-word-ref">shove</code>s <span class="doc-eff-id" data-scope="kdL7qQpbX58">Form</span> into <span class="doc-eff-id" data-scope="fvuHSUNpvI4">Block</span>, drops both.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">3</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> ] <span class="token word doc-word">keep:</span> <span class="token word doc-word">gulp</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="spit">
      <a class="word-doc-head" href="#spit">
        spit
        <span class="doc-head-effect">( [ ... <span class="doc-eff-id" data-scope="qn1Rqxie1ZU">Form</span> | ... ]<span class="doc-eff-id" data-scope="feVqZaJiqVI">Block</span> -- <span class="doc-eff-id" data-scope="qn1Rqxie1ZU">Form</span> [ ... | ... ]<span class="doc-eff-id" data-scope="feVqZaJiqVI">Block</span> ] )</span>
      </a>
      <div class="word-doc-desc">
        <p><code class="inline-word-ref">cherry</code>s
<span class="doc-eff-id" data-scope="qn1Rqxie1ZU">Form</span> from <span class="doc-eff-id" data-scope="feVqZaJiqVI">Block</span> onto the active stack, placing it before
the <span class="doc-eff-id" data-scope="feVqZaJiqVI">Block</span>. Inverse of <code class="inline-word-ref">gulp</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">spit</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">3</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="&lt;&lt;">
      <a class="word-doc-head" href="#&lt;&lt;">
        &lt;&lt;
        <span class="doc-head-effect">( [ ... | ... ]<span class="doc-eff-id" data-scope="6hmwnIS2khE">Block</span> <span class="doc-eff-id" data-scope="fMBUjdkNucQ">Form</span> -- [ ... <span class="doc-eff-id" data-scope="fMBUjdkNucQ">Form</span> | ... ]<span class="doc-eff-id" data-scope="6hmwnIS2khE">Block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p><code class="inline-word-ref">shove</code>s <span class="doc-eff-id" data-scope="fMBUjdkNucQ">Form</span>
into <span class="doc-eff-id" data-scope="6hmwnIS2khE">Block</span>, leaves only <span class="doc-eff-id" data-scope="6hmwnIS2khE">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] <span class="token decimal">3</span> <span class="token word doc-word">&lt;&lt;</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="&gt;&gt;">
      <a class="word-doc-head" href="#&gt;&gt;">
        &gt;&gt;
        <span class="doc-head-effect">( [ ... <span class="doc-eff-id" data-scope="KUQgLbw4sUo">Form</span> | ... ]<span class="doc-eff-id" data-scope="FqmDlPho3tQ">Block</span> -- [ ... | ... ]<span class="doc-eff-id" data-scope="FqmDlPho3tQ">Block</span> <span class="doc-eff-id" data-scope="KUQgLbw4sUo">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p><code class="inline-word-ref">cherry</code>s
<span class="doc-eff-id" data-scope="KUQgLbw4sUo">Form</span> from <span class="doc-eff-id" data-scope="FqmDlPho3tQ">Block</span>, leaves both. Inverse of <code class="inline-word-ref">&lt;&lt;</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">>></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> ] <span class="token decimal">3</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="enclose">
      <a class="word-doc-head" href="#enclose">
        enclose
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="l3Cp302FY8Q">Form</span> -- [ <span class="doc-eff-id" data-scope="l3Cp302FY8Q">Form</span> ]<span class="doc-eff-id" data-scope="MUs1JJk2Sos">Block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Encloses <span class="doc-eff-id" data-scope="l3Cp302FY8Q">Form</span> in a new, orphan <span class="doc-eff-id" data-scope="MUs1JJk2Sos">Block</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'Hi!'</span> <span class="token word doc-word">enclose</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token quote">'Hi!'</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="2enclose">
      <a class="word-doc-head" href="#2enclose">
        2enclose
        <span class="doc-head-effect">( X Y -- [ X Y ]<span class="doc-eff-id" data-scope="jT4tJ-w9ank">Block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Encloses X and Y, a pair of forms,
in a new, orphan <span class="doc-eff-id" data-scope="jT4tJ-w9ank">Block</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'Hello'</span> <span class="token quote">'World'</span> <span class="token word doc-word">2enclose</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token quote">'Hello'</span> <span class="token quote">'World'</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="first">
      <a class="word-doc-head" href="#first">
        first
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="kpIDLxKDxkQ">Block</span> -- <span class="doc-eff-id" data-scope="r6IB_xfjPbY">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves first <span class="doc-eff-id" data-scope="r6IB_xfjPbY">Form</span> in <span class="doc-eff-id" data-scope="kpIDLxKDxkQ">Block</span>. Dies if <span class="doc-eff-id" data-scope="kpIDLxKDxkQ">Block</span>
is empty.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">0</span> ] <span class="token word doc-word">first</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">first</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="first?">
      <a class="word-doc-head" href="#first?">
        first?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="YtXmcKH704s">Block</span> -- <span class="doc-eff-id" data-scope="J5S-Jj5tLlE">Form</span> true / false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves first <span class="doc-eff-id" data-scope="J5S-Jj5tLlE">Form</span> in <span class="doc-eff-id" data-scope="YtXmcKH704s">Block</span>
followed by true if <span class="doc-eff-id" data-scope="YtXmcKH704s">Block</span> is non-empty. Leaves false
if <span class="doc-eff-id" data-scope="YtXmcKH704s">Block</span> is empty.</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">first?</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token word">false</span><span class="token boolean"></span> ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">first?</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token word">true</span><span class="token boolean"></span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="last">
      <a class="word-doc-head" href="#last">
        last
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="R43QOdrkXa4">Block</span> -- <span class="doc-eff-id" data-scope="M_PxPxdAA_A">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves last <span class="doc-eff-id" data-scope="M_PxPxdAA_A">Form</span> in <span class="doc-eff-id" data-scope="R43QOdrkXa4">Block</span>. Dies if <span class="doc-eff-id" data-scope="R43QOdrkXa4">Block</span>
is empty.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">0</span> ] <span class="token word doc-word">last</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">last</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="last?">
      <a class="word-doc-head" href="#last?">
        last?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="kB0E7FxeAFs">Block</span> -- <span class="doc-eff-id" data-scope="ai6sch1APpk">Form</span> true / false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves last <span class="doc-eff-id" data-scope="ai6sch1APpk">Form</span> in <span class="doc-eff-id" data-scope="kB0E7FxeAFs">Block</span>
followed by true if <span class="doc-eff-id" data-scope="kB0E7FxeAFs">Block</span> is non-empty. Leaves false
if <span class="doc-eff-id" data-scope="kB0E7FxeAFs">Block</span> is empty.</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">last?</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token word">false</span><span class="token boolean"></span> ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">last?</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">3</span> <span class="token word">true</span><span class="token boolean"></span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="startsWith?">
      <a class="word-doc-head" href="#startsWith?">
        startsWith?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Ik-FoiGXCK4">Block</span>/<span class="doc-eff-id" data-scope="E4Ewy2knZS4">Quote</span> <span class="doc-eff-id" data-scope="B2vMX4ESQF4">Form</span>/<span class="doc-eff-id" data-scope="XxaEV5nPt8w">Fragment quote</span> -- <span class="doc-eff-id" data-scope="sAnLzdbGl68">Status boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="sAnLzdbGl68">Status boolean</span> for whether
<span class="doc-eff-id" data-scope="Ik-FoiGXCK4">Block</span> ends with <span class="doc-eff-id" data-scope="B2vMX4ESQF4">Form</span> (as per <code class="inline-word-ref">=</code>), or <span class="doc-eff-id" data-scope="E4Ewy2knZS4">Quote</span> ends with
<span class="doc-eff-id" data-scope="XxaEV5nPt8w">Fragment quote</span>.</p>
<p>Always leaves true if <span class="doc-eff-id" data-scope="B2vMX4ESQF4">Form</span> or <span class="doc-eff-id" data-scope="XxaEV5nPt8w">Fragment quote</span> is empty.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello world'</span> <span class="token quote">'h'</span> <span class="token word doc-word">startsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'hello world'</span> <span class="token quote">'hello'</span> <span class="token word doc-word">startsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'hello world'</span> <span class="token quote">'world'</span> <span class="token word doc-word">startsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">1</span> <span class="token word doc-word">startsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">3</span> <span class="token word doc-word">startsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="endsWith?">
      <a class="word-doc-head" href="#endsWith?">
        endsWith?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="jY_QeZmECNs">Block</span>/<span class="doc-eff-id" data-scope="XW8LGi1pxDY">Quote</span> <span class="doc-eff-id" data-scope="X3cS3LP8u9M">Form</span>/<span class="doc-eff-id" data-scope="_D0rjLlb01I">Fragment quote</span> -- <span class="doc-eff-id" data-scope="HcWYgVcRK7w">Status boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="HcWYgVcRK7w">Status boolean</span> for
whether <span class="doc-eff-id" data-scope="jY_QeZmECNs">Block</span> ends with <span class="doc-eff-id" data-scope="X3cS3LP8u9M">Form</span> (as per <code class="inline-word-ref">=</code>), or if <span class="doc-eff-id" data-scope="XW8LGi1pxDY">Quote</span>
ends with <span class="doc-eff-id" data-scope="_D0rjLlb01I">Fragment quote</span>.</p>
<p>Always leaves true if <span class="doc-eff-id" data-scope="X3cS3LP8u9M">Form</span> or <span class="doc-eff-id" data-scope="_D0rjLlb01I">Fragment quote</span> is empty.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello world'</span> <span class="token quote">'d'</span> <span class="token word doc-word">endsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'hello world'</span> <span class="token quote">'world'</span> <span class="token word doc-word">endsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'hello world'</span> <span class="token quote">'hello'</span> <span class="token word doc-word">endsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">3</span> <span class="token word doc-word">endsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">1</span> <span class="token word doc-word">endsWith?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="surroundedBy?">
      <a class="word-doc-head" href="#surroundedBy?">
        surroundedBy?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="obrpcfpCEpY">Block</span>/<span class="doc-eff-id" data-scope="BbMv-NzmmUo">Quote</span> <span class="doc-eff-id" data-scope="Ws80-n2DxR8">Begin form</span>/<span class="doc-eff-id" data-scope="OdIKyVOYO6Q">Begin quote</span> <span class="doc-eff-id" data-scope="HrF5FjAu2Ek">End form</span>/<span class="doc-eff-id" data-scope="KQ_9S7IALLE">End quote</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="obrpcfpCEpY">Block</span>/<span class="doc-eff-id" data-scope="BbMv-NzmmUo">Quote</span>
starts with <span class="doc-eff-id" data-scope="Ws80-n2DxR8">Begin form</span>/<span class="doc-eff-id" data-scope="OdIKyVOYO6Q">Begin quote</span>, and ends with <span class="doc-eff-id" data-scope="HrF5FjAu2Ek">End form</span>/
<span class="doc-eff-id" data-scope="KQ_9S7IALLE">End quote</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">1</span> <span class="token decimal">3</span> <span class="token word doc-word">surroundedBy?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'[[hello world]]'</span> <span class="token quote">'[['</span> <span class="token quote">']]'</span> <span class="token word doc-word">surroundedBy?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="adopt">
      <a class="word-doc-head" href="#adopt">
        adopt
        <span class="doc-head-effect">( P C -- C )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">reparent</code>, but in different order.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="--">
      <a class="word-doc-head" href="#--">
        --
        <span class="doc-head-effect">( P `--` C -- C )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">adopt</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">a</span>
[ <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">b</span>

<span class="token word">(a</span> <span class="token word doc-word">--</span> <span class="token word">b</span> <span class="token word doc-word">--</span> <span class="token word">a)</span> <span class="token word doc-word">drop</span><span class="token stackworks"></span>
<span class="token word">a</span> <span class="token word doc-word">-></span> [<span class="token word">x</span> <span class="token word">y</span>] <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">100</span> <span class="token decimal">200</span> ] ]
<span class="token word">b</span> <span class="token word doc-word">-></span> [<span class="token word">x</span> <span class="token word">y</span>] <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">100</span> <span class="token decimal">200</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="·&gt;">
      <a class="word-doc-head" href="#·&gt;">
        ·&gt;
        <span class="doc-head-effect">( B ·> F -- F )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">befriend</code> that leaves
the <em>friend</em> for further chaining.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">a</span>
[ <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">b</span>
<span class="token word">a</span> <span class="token word doc-word">·></span> <span class="token word">b</span> <span class="token word doc-word">·></span> <span class="token word">a</span> <span class="token word doc-word">drop</span><span class="token stackworks"></span>

<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">200</span>

<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">200</span>

<span class="token word">a</span> [ <span class="token quote">'Hello World'</span> <span class="token word doc-word">=:</span> <span class="token word">x</span> ] <span class="token word">extend</span>

<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'Hello World'</span>
<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">200</span>

<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'Hello World'</span>
<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">200</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="child">
      <a class="word-doc-head" href="#child">
        child
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="fpHyngS0ee8">Block</span> -- <span class="doc-eff-id" data-scope="HcWbk6tEIU8">Child block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves an empty <span class="doc-eff-id" data-scope="HcWbk6tEIU8">Child block</span> for <span class="doc-eff-id" data-scope="fpHyngS0ee8">Block</span>. Very
much like <code class="inline-word-ref">new</code>, but doesn't copy the tape and therefore may
be faster in certain circumstances.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="-&gt;">
      <a class="word-doc-head" href="#-&gt;">
        -&gt;
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ywywxMI0JMk">Dictionary block</span> -> <span class="doc-eff-id" data-scope="8KxuK6aw7B8">Name</span> -- <span class="doc-eff-id" data-scope="06MG3q1_GsE">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Resolves <span class="doc-eff-id" data-scope="8KxuK6aw7B8">Name</span>, a word, using the
given <span class="doc-eff-id" data-scope="ywywxMI0JMk">Dictionary block</span> (block with a dictionary and/or
relatives, therefore, simply any block). Does not
distinguish between entry types (i.e., it doesn't matter
whether <span class="doc-eff-id" data-scope="8KxuK6aw7B8">Name</span> resolves to an opener or a pusher entry):
its value <span class="doc-eff-id" data-scope="06MG3q1_GsE">Form</span> is always <em>pushed</em> onto the active stack.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> [ <span class="token word">x</span> <span class="token word">y</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">@:</span> <span class="token word doc-word">sum</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token word">point</span> <span class="token word doc-word">-></span> <span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token word">point</span> <span class="token word doc-word">-></span> <span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">200</span>
<span class="token word">point</span> <span class="token word doc-word">-></span> <span class="token word doc-word">sum</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token word">x</span> <span class="token word">y</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] ] <span class="token comment">"Beware!"</span>

<span class="token comment">"Note that we still can open it and get the result:"</span>
<span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">300</span>
</code></pre>
<p>It is possible to access multiple entries when <span class="doc-eff-id" data-scope="8KxuK6aw7B8">Name</span> is a
block, <em>preserving block structure</em>:</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">-></span> [ <span class="token word">x</span> <span class="token word">y</span> ] <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">100</span> <span class="token decimal">200</span> ] ]
[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">-></span> [ [ [ <span class="token word">x</span> ] ] <span class="token word">y</span> ] <span class="token leaves word doc-word">leaves:</span> [ [ [ [ <span class="token decimal">100</span> ] ] <span class="token decimal">200</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id=".">
      <a class="word-doc-head" href="#.">
        .
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="3_yYkuBmZX4">Dictionary block</span> . <span class="doc-eff-id" data-scope="t4QmznDXJKQ">Name</span> -- ... )</span>
      </a>
      <div class="word-doc-desc">
        <p>Resolves <span class="doc-eff-id" data-scope="t4QmznDXJKQ">Name</span> in <span class="doc-eff-id" data-scope="3_yYkuBmZX4">Dictionary block</span> and
<em>opens</em> it. Infix version of <code class="inline-word-ref">entry:open</code>.</p>
<p><code class="inline-word-ref">.</code> is the only word that gets special treatment in
Novika, in that it does not need to be surrounded with
whitespace when other words must be.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> [ <span class="token word">x</span> <span class="token word">y</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">@:</span> <span class="token word doc-word">sum</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token word">point</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token word">point</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">200</span>
<span class="token word">point</span><span class="token word doc-word">.</span><span class="token word doc-word">sum</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">300</span>
</code></pre>
<p>Preserves (carries through) <code class="inline-word-ref">ahead</code>, but makes the caller
block's instance dirty (which should not cause any trouble
from the user's perspective).</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">$:</span> <span class="token word">double?</span>

  [ <span class="token word doc-word">ahead</span><span class="token control"></span> <span class="token word doc-word">thru</span><span class="token blockworks"></span> <span class="token word">double?</span> <span class="token word doc-word">=></span><span class="token control"></span> [ <span class="token decimal">2</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> ] ] <span class="token word doc-word">@:</span> <span class="token word">bar:</span>

  <span class="token word doc-word">this</span><span class="token this"></span>
] <span class="token word doc-word">@:</span> <span class="token word">foo</span>

<span class="token word">true</span><span class="token boolean"></span> <span class="token word">foo</span><span class="token word doc-word">.</span><span class="token word">bar:</span> <span class="token decimal">100</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">200</span> ]
<span class="token word">false</span><span class="token boolean"></span> <span class="token word">foo</span><span class="token word doc-word">.</span><span class="token word">bar:</span> <span class="token decimal">100</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="fetch:">
      <a class="word-doc-head" href="#fetch:">
        fetch:
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="GBUaLOjcia0">Dictionary block</span> <span class="doc-eff-id" data-scope="wTqj5-gzVTo">Name</span> fetch: <span class="doc-eff-id" data-scope="Pc1490ZU44A">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Resolves <span class="doc-eff-id" data-scope="wTqj5-gzVTo">Name</span> using <span class="doc-eff-id" data-scope="GBUaLOjcia0">Dictionary block</span>, and opens <span class="doc-eff-id" data-scope="Pc1490ZU44A">Block</span> with the resolved entry's value
form <em>on top of the caller stack.</em> If <span class="doc-eff-id" data-scope="wTqj5-gzVTo">Name</span> could not be
resolved using the dictionary block, or if the dictionary
block  is something other than block, does nothing.
Itself, leaves nothing (unless <span class="doc-eff-id" data-scope="Pc1490ZU44A">Block</span> is empty: in that
case, leaves the value form if resolved successfully).</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'This is not a block!'</span> <span class="token qword">#x</span> <span class="token word doc-word">fetch:</span> [ <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token leaves word doc-word">leaves:</span> [ ]
[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ] <span class="token word doc-word">obj</span> <span class="token qword">#x</span> <span class="token word doc-word">fetch:</span> [ <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">101</span> ]
[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ] <span class="token word doc-word">obj</span> <span class="token qword">#undefinedThing</span> <span class="token word doc-word">fetch:</span> [ <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token leaves word doc-word">leaves:</span> [ ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="extendWith">
      <a class="word-doc-head" href="#extendWith">
        extendWith
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="hdR3o5H6JV4">Source</span> <span class="doc-eff-id" data-scope="6ZFeEKFyahs">Body</span> -- <span class="doc-eff-id" data-scope="hdR3o5H6JV4">Source</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Extends <span class="doc-eff-id" data-scope="hdR3o5H6JV4">Source</span> block with entries from the dictionary
of <span class="doc-eff-id" data-scope="6ZFeEKFyahs">Body</span> block, then instantiates <span class="doc-eff-id" data-scope="6ZFeEKFyahs">Body</span> block, befriends the instance
with <span class="doc-eff-id" data-scope="hdR3o5H6JV4">Source</span> block, and opens <span class="doc-eff-id" data-scope="6ZFeEKFyahs">Body</span> block with an empty stack. When the
<span class="doc-eff-id" data-scope="6ZFeEKFyahs">Body</span> block instance finishes running, extends <span class="doc-eff-id" data-scope="hdR3o5H6JV4">Source</span> block with entries
from the instance. Leaves <span class="doc-eff-id" data-scope="hdR3o5H6JV4">Source</span> block.</p>
<p>All complexities and edge cases aside, this word is basically one of
the ways to redefine/create/modify an entry through computation and
from another, possibly unrelated block (unrelated as in via the block
graph, that is).</p>
<p><strong>Important</strong>: <span class="doc-eff-id" data-scope="hdR3o5H6JV4">Source</span> block is not extended with <em>private entries</em>
of <span class="doc-eff-id" data-scope="6ZFeEKFyahs">Body</span> block or <span class="doc-eff-id" data-scope="6ZFeEKFyahs">Body</span> block instance (that is, entries whose name
starts with _underscore). However, <span class="doc-eff-id" data-scope="6ZFeEKFyahs">Body</span> block does get access and
is able to reassign private entries of <span class="doc-eff-id" data-scope="hdR3o5H6JV4">Source</span> block.</p>
<p>See <code class="inline-word-ref">extendWith:</code> for an example.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="extendWith:">
      <a class="word-doc-head" href="#extendWith:">
        extendWith:
        <span class="doc-head-effect">( S extendWith: B -- S )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">extendWith</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">a</span>
[ <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">b</span>

<span class="token word">a</span> <span class="token word doc-word">·></span> <span class="token word">b</span> <span class="token word doc-word">·></span> <span class="token word">a</span> <span class="token word doc-word">drop</span><span class="token stackworks"></span>

<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> <span class="token decimal">200</span> ]
<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> <span class="token decimal">200</span> ]

<span class="token word">a</span> <span class="token word doc-word">extendWith:</span> [ [ <span class="token word">y</span> <span class="token word">y</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> ] <span class="token word doc-word">@:</span> <span class="token word">x</span> ] <span class="token word doc-word">drop</span><span class="token stackworks"></span>
<span class="token word">b</span> <span class="token word doc-word">extendWith:</span> [ <span class="token decimal">4</span> <span class="token word doc-word">=:</span> <span class="token word">y</span> ] <span class="token word doc-word">drop</span><span class="token stackworks"></span>

<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">16</span> <span class="token decimal">4</span> ]
<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">16</span> <span class="token decimal">4</span> ]

<span class="token word">b</span> <span class="token word doc-word">extendWith:</span> [ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> ] <span class="token word doc-word">drop</span><span class="token stackworks"></span>

<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">10000</span> <span class="token decimal">100</span> ]
<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">10000</span> <span class="token decimal">100</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="extend:">
      <a class="word-doc-head" href="#extend:">
        extend:
        <span class="doc-head-effect">( S extend: B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>An alternative infix version of <code class="inline-word-ref">extendWith</code>
which doesn't leave anything.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">a</span>
[ <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">b</span>

<span class="token word">a</span> <span class="token word doc-word">·></span> <span class="token word">b</span> <span class="token word doc-word">·></span> <span class="token word">a</span> <span class="token word doc-word">drop</span><span class="token stackworks"></span>

<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> <span class="token decimal">200</span> ]
<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> <span class="token decimal">200</span> ]

<span class="token word">a</span> <span class="token word doc-word">extend:</span> [ [ <span class="token word">y</span> <span class="token word">y</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> ] <span class="token word doc-word">@:</span> <span class="token word">x</span> ]
<span class="token word">b</span> <span class="token word doc-word">extend:</span> [ <span class="token decimal">4</span> <span class="token word doc-word">=:</span> <span class="token word">y</span> ]

<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">16</span> <span class="token decimal">4</span> ]
<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">16</span> <span class="token decimal">4</span> ]

<span class="token word">b</span> <span class="token word doc-word">extend:</span> [ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> ]

<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">10000</span> <span class="token decimal">100</span> ]
<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">10000</span> <span class="token decimal">100</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|slideRight">
      <a class="word-doc-head" href="#|slideRight">
        |slideRight
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="D_mS52G6lpA">List block</span> <span class="doc-eff-id" data-scope="6ctxoMcc6BU">Block</span> -- <span class="doc-eff-id" data-scope="D_mS52G6lpA">List block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Slides cursor in <span class="doc-eff-id" data-scope="D_mS52G6lpA">List block</span> from left
to right, in steps of one. Opens <span class="doc-eff-id" data-scope="6ctxoMcc6BU">Block</span> with <span class="doc-eff-id" data-scope="D_mS52G6lpA">List block</span> as
the stack <em>after</em> each step. Leaves <span class="doc-eff-id" data-scope="D_mS52G6lpA">List block</span>. <code>break</code>
and <code>next</code> are available.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">|slideRight</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">6</span> ] ]
</code></pre>
<p>In the table below, sliding step is marked with '*', and
block iteration is postfixed by a '+'.</p>
<pre class="language-text"><code class="language-text"> +------+-------+-------------+
 | #    | form  |    list     |
 +======+=======+=============+
 | 0    |       | [ 1 2 3 ]   |
 | 1    | 1 |to | [ 1 | 2 3 ] |
 | *    |       | [ 1 2 | 3 ] |
 | 3+   |    +  | [ 3 | 3 ]   |
 | *    |       | [ 3 3 ]     |
 | 5+   |    +  | [ 6 ]       |
 +------+-------+-------------+
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|-&gt;">
      <a class="word-doc-head" href="#|-&gt;">
        |-&gt;
        <span class="doc-head-effect">( Lb |-> B -- Lb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">|slideRight</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|~&gt;">
      <a class="word-doc-head" href="#|~&gt;">
        |~&gt;
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="jHEQkWk6dco">List block</span> |~> <span class="doc-eff-id" data-scope="SLGNYKxhKBo">Block</span> -- <span class="doc-eff-id" data-scope="jHEQkWk6dco">List block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Similar to <code class="inline-word-ref">|-&gt;</code>, but remembers the
cursor position in <span class="doc-eff-id" data-scope="jHEQkWk6dco">List block</span> and restores it after all
items were visited by <span class="doc-eff-id" data-scope="SLGNYKxhKBo">Block</span> (clamping to either end,
if necessary).</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token word">x</span> <span class="token word doc-word">|~></span> [ <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ]
<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="||-&gt;">
      <a class="word-doc-head" href="#||-&gt;">
        ||-&gt;
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="9QHUdytiMYA">List block</span> ||-> <span class="doc-eff-id" data-scope="1w09Yvz6DfU">Block</span> -- <span class="doc-eff-id" data-scope="9QHUdytiMYA">List block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">|-&gt;</code>, but moves the cursor
to the start of <span class="doc-eff-id" data-scope="9QHUdytiMYA">List block</span> first, then executes <span class="doc-eff-id" data-scope="1w09Yvz6DfU">Block</span> and
so on. See <code class="inline-word-ref">|-&gt;</code> and especially <code class="inline-word-ref">|slideRight</code> for more
information on what all of this means.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">||-></span> [ <span class="token decimal">2</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> ] <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">4</span> <span class="token decimal">6</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="||~&gt;">
      <a class="word-doc-head" href="#||~&gt;">
        ||~&gt;
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="0eSnrKJgp4o">List block</span> |~> <span class="doc-eff-id" data-scope="SRKuPilP9P4">Block</span> -- <span class="doc-eff-id" data-scope="0eSnrKJgp4o">List block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Similar to <code class="inline-word-ref">||-&gt;</code>, but remembers
the cursor position in <span class="doc-eff-id" data-scope="0eSnrKJgp4o">List block</span> and restores it after
all items were visited by <span class="doc-eff-id" data-scope="SRKuPilP9P4">Block</span> (clamping to either end,
if necessary).</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
<span class="token word">x</span> <span class="token word doc-word">||~></span> [ <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ]
<span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token word">|</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|slideLeft">
      <a class="word-doc-head" href="#|slideLeft">
        |slideLeft
        <span class="doc-head-effect">( Lb B -- Lb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Similar to <code class="inline-word-ref">|-&gt;</code>, but slides the cursor
from right to left. Consult <code class="inline-word-ref">|slideRight</code>. <code>break</code> and
<code>next</code> are available.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="&lt;-|">
      <a class="word-doc-head" href="#&lt;-|">
        &lt;-|
        <span class="doc-head-effect">( Lb <-| B -- Lb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">|slideLeft</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="eachWithIndex">
      <a class="word-doc-head" href="#eachWithIndex">
        eachWithIndex
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="QQ-4I6vfeZ4">List block</span> <span class="doc-eff-id" data-scope="OPG8h-9Ed6c">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="OPG8h-9Ed6c">Block</span> with each item of <span class="doc-eff-id" data-scope="QQ-4I6vfeZ4">List block</span> on
top of a new stack, and its index below (that is, <code>Index  Item</code>). <span class="doc-eff-id" data-scope="QQ-4I6vfeZ4">List block</span> is unchanged. <code>break</code> and <code>next</code> are
available.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token word doc-word">2echo</span> ] <span class="token word doc-word">eachWithIndex</span>
<span class="token comment">"STDOUT: 0 1⏎"</span>
<span class="token comment">"STDOUT: 1 2⏎"</span>
<span class="token comment">"STDOUT: 2 3⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="each">
      <a class="word-doc-head" href="#each">
        each
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="roTfSR3gZlg">List block</span> <span class="doc-eff-id" data-scope="cnQMXy5bk_c">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="cnQMXy5bk_c">Block</span> with each item of <span class="doc-eff-id" data-scope="roTfSR3gZlg">List block</span> on
top of a new stack. <span class="doc-eff-id" data-scope="roTfSR3gZlg">List block</span> is unchanged. <code>break</code> and
<code>next</code> are available.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token word doc-word">echo</span> ] <span class="token word doc-word">each</span>
<span class="token comment">"STDOUT: 1⏎"</span>
<span class="token comment">"STDOUT: 2⏎"</span>
<span class="token comment">"STDOUT: 3⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="each:">
      <a class="word-doc-head" href="#each:">
        each:
        <span class="doc-head-effect">( Lb each: B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">each</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">each:</span> [ <span class="token word doc-word">echo</span> ]
<span class="token comment">"STDOUT: 1⏎"</span>
<span class="token comment">"STDOUT: 2⏎"</span>
<span class="token comment">"STDOUT: 3⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="eachWithIndex:">
      <a class="word-doc-head" href="#eachWithIndex:">
        eachWithIndex:
        <span class="doc-head-effect">( Lb eachWithIndex: B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">eachWithIndex</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">eachWithIndex:</span> [ <span class="token word doc-word">2echo</span> ]
<span class="token comment">"STDOUT: 0 1⏎"</span>
<span class="token comment">"STDOUT: 1 2⏎"</span>
<span class="token comment">"STDOUT: 2 3⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="pairs">
      <a class="word-doc-head" href="#pairs">
        pairs
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="8V4w1ErKz0c">List block</span> <span class="doc-eff-id" data-scope="5f9AJDF5bPs">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="5f9AJDF5bPs">Block</span> with pairs of items from
<span class="doc-eff-id" data-scope="8V4w1ErKz0c">List block</span> on top of an empty stack. <code>break</code> and <code>next</code>
are available. Does nothing if <span class="doc-eff-id" data-scope="8V4w1ErKz0c">List block</span> is empty. Dies
if <span class="doc-eff-id" data-scope="8V4w1ErKz0c">List block</span> has an odd number of forms.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">echo</span> ] <span class="token word doc-word">pairs</span>
<span class="token comment">"STDOUT: 3⏎ (i.e., 1 + 2)"</span>
<span class="token comment">"STDOUT: 7⏎ (i.e., 3 + 4)"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="pairs:">
      <a class="word-doc-head" href="#pairs:">
        pairs:
        <span class="doc-head-effect">( Lb pairs: B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">pairs</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token word doc-word">pairs:</span> [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">echo</span> ]
<span class="token comment">"STDOUT: 3⏎"</span>
<span class="token comment">"STDOUT: 7⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="mapPairs">
      <a class="word-doc-head" href="#mapPairs">
        mapPairs
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="j_WpZuZFxUk">List block</span> <span class="doc-eff-id" data-scope="HjaT0xa2Fp4">Block</span> -- <span class="doc-eff-id" data-scope="d6qYUL5NNkk">Result block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="d6qYUL5NNkk">Result block</span> obtained by collecting
results of <span class="doc-eff-id" data-scope="HjaT0xa2Fp4">Block</span> opened with previous <span class="doc-eff-id" data-scope="d6qYUL5NNkk">Result block</span> as the stack,
plus a pair of items from <span class="doc-eff-id" data-scope="j_WpZuZFxUk">List block</span>, for each pair of items
in <span class="doc-eff-id" data-scope="j_WpZuZFxUk">List block</span>. Dies if <span class="doc-eff-id" data-scope="j_WpZuZFxUk">List block</span> has an odd number of forms.
<code>break</code> and <code>next</code> are available.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Sum pairs of numbers 1, 2; 3, 4; 5, 6 etc.:"</span>
<span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">10</span> <span class="token word doc-word">mapPairs:</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">3</span> <span class="token decimal">7</span> <span class="token decimal">11</span> <span class="token decimal">15</span> <span class="token decimal">19</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="mapPairs:">
      <a class="word-doc-head" href="#mapPairs:">
        mapPairs:
        <span class="doc-head-effect">( Lb mapPairs: B -- Rb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">mapPairs</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Sum pairs of numbers 1, 2; 3, 4; 5, 6 etc.:"</span>
<span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">10</span> <span class="token word doc-word">mapPairs:</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">3</span> <span class="token decimal">7</span> <span class="token decimal">11</span> <span class="token decimal">15</span> <span class="token decimal">19</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="consPairs">
      <a class="word-doc-head" href="#consPairs">
        consPairs
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="MKz5DtGUap8">List block</span> <span class="doc-eff-id" data-scope="QPuDcNRGFaA">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="QPuDcNRGFaA">Block</span> with consequtive pairs of items
from <span class="doc-eff-id" data-scope="MKz5DtGUap8">List block</span> on top of an empty stack. <code>break</code> and <code>next</code>
are available.</p>
<pre class="language-novika"><code class="language-novika">[ ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">echo</span> ] <span class="token word doc-word">consPairs</span>
[ <span class="token decimal">1</span> ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">echo</span> ] <span class="token word doc-word">consPairs</span>
<span class="token comment">"Both do nothing!"</span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span><span class="token magnitudal"></span> <span class="token word doc-word">echo</span> ] <span class="token word doc-word">consPairs</span>
<span class="token comment">"STDOUT: 3⏎ (i.e, 1 + 2)"</span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span><span class="token magnitudal"></span><span class="token magnitudal"></span> <span class="token word doc-word">echo</span> ] <span class="token word doc-word">consPairs</span>
<span class="token comment">"STDOUT: 3⏎ (i.e., 1 + 2)"</span>
<span class="token comment">"STDOUT: 5⏎ (i.e., 2 + 3)"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="consPairs:">
      <a class="word-doc-head" href="#consPairs:">
        consPairs:
        <span class="doc-head-effect">( Lb B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">consPairs</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">consPairs:</span> [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">echo</span> ]
<span class="token comment">"STDOUT: 3⏎"</span>
<span class="token comment">"STDOUT: 5⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="mapConsPairs">
      <a class="word-doc-head" href="#mapConsPairs">
        mapConsPairs
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="vck4pUZlDYA">List block</span> <span class="doc-eff-id" data-scope="eD1-ajFq2RM">Block</span> -- <span class="doc-eff-id" data-scope="KF21AQ_zlIc">Result block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="KF21AQ_zlIc">Result block</span> obtained by collecting
results of <span class="doc-eff-id" data-scope="eD1-ajFq2RM">Block</span> opened with previous <span class="doc-eff-id" data-scope="KF21AQ_zlIc">Result block</span> as the stack,
plus a <strong>consecutive</strong> pair of items from <span class="doc-eff-id" data-scope="vck4pUZlDYA">List block</span>, for each
consecutive pair of items in <span class="doc-eff-id" data-scope="vck4pUZlDYA">List block</span>. <code>break</code> and <code>next</code>
are available.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Sum pairs of numbers 1, 2; 2, 3; 3, 4 etc.:"</span>
<span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">10</span> <span class="token word doc-word">mapConsPairs:</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">3</span> <span class="token decimal">5</span> <span class="token decimal">7</span> <span class="token decimal">9</span> <span class="token decimal">11</span> <span class="token decimal">13</span> <span class="token decimal">15</span> <span class="token decimal">17</span> <span class="token decimal">19</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="mapConsPairs:">
      <a class="word-doc-head" href="#mapConsPairs:">
        mapConsPairs:
        <span class="doc-head-effect">( Lb mapConsPairs: B -- Rb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">mapConsPairs</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Sum pairs of numbers 1, 2; 2, 3; 3, 4 etc.:"</span>
<span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">10</span> <span class="token word doc-word">mapConsPairs:</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">3</span> <span class="token decimal">5</span> <span class="token decimal">7</span> <span class="token decimal">9</span> <span class="token decimal">11</span> <span class="token decimal">13</span> <span class="token decimal">15</span> <span class="token decimal">17</span> <span class="token decimal">19</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="map">
      <a class="word-doc-head" href="#map">
        map
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="4YFOAX63ju8">List block</span> <span class="doc-eff-id" data-scope="gIs4G7BoCzQ">Block</span> -- <span class="doc-eff-id" data-scope="EXGGERp0ySA">Modified list block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="gIs4G7BoCzQ">Block</span> with each item of <span class="doc-eff-id" data-scope="4YFOAX63ju8">List block</span>
on top of an empty stack. Replaces item in <span class="doc-eff-id" data-scope="4YFOAX63ju8">List block</span> with
<span class="doc-eff-id" data-scope="gIs4G7BoCzQ">Block</span>'s stack top after opening it. Leaves the resulting
<span class="doc-eff-id" data-scope="EXGGERp0ySA">Modified list block</span>. <code>break</code> and <code>next</code> are available.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">map</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] ] <span class="token comment">"(a different block!)"</span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
<span class="token word">a</span> [ <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">map</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] ] <span class="token comment">"(a different block!)"</span>
<span class="token word">a</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="map:">
      <a class="word-doc-head" href="#map:">
        map:
        <span class="doc-head-effect">( Lb map: B -- MLb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">map</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">map:</span> [ <span class="token decimal">1</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="only">
      <a class="word-doc-head" href="#only">
        only
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="OnSvaFIsam0">List block</span> <span class="doc-eff-id" data-scope="8-aiMDTfHNQ">Block</span> -- <span class="doc-eff-id" data-scope="0hHD9p3HdSQ">Result block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="8-aiMDTfHNQ">Block</span> with each item of <span class="doc-eff-id" data-scope="OnSvaFIsam0">List block</span>
on top of an empty stack. Removes that item in <span class="doc-eff-id" data-scope="0hHD9p3HdSQ">Result block</span>
if <span class="doc-eff-id" data-scope="8-aiMDTfHNQ">Block</span>'s stack top is false after it was opened. <code>break</code>
and <code>next</code> are available.</p>
<pre class="language-novika"><code class="language-novika">[ ] [ <span class="token decimal">100</span> <span class="token word doc-word">></span><span class="token magnitudal"></span> ] <span class="token word doc-word">only</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ ] ] <span class="token comment">"(a different block!)"</span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ ] <span class="token word doc-word">only</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ] <span class="token comment">"(a different block!)"</span>

[ <span class="token decimal">1</span> <span class="token decimal">100</span> <span class="token decimal">2</span> <span class="token decimal">300</span> <span class="token decimal">4</span> <span class="token decimal">600</span> <span class="token decimal">10</span> ] [ <span class="token decimal">100</span> <span class="token word doc-word">></span><span class="token magnitudal"></span> ] <span class="token word doc-word">only</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">300</span> <span class="token decimal">600</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="without">
      <a class="word-doc-head" href="#without">
        without
        <span class="doc-head-effect">( Lb B -- Rb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Inverse of <code class="inline-word-ref">only</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="only:">
      <a class="word-doc-head" href="#only:">
        only:
        <span class="doc-head-effect">( Lb only: B -- Rb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">only</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">100</span> <span class="token decimal">2</span> <span class="token decimal">300</span> <span class="token decimal">4</span> <span class="token decimal">600</span> <span class="token decimal">10</span> ] <span class="token word doc-word">only:</span> [ <span class="token decimal">100</span> <span class="token word doc-word">></span><span class="token magnitudal"></span> ]
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">300</span> <span class="token decimal">600</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="without:">
      <a class="word-doc-head" href="#without:">
        without:
        <span class="doc-head-effect">( Lb without: B -- MLb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">without</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">100</span> <span class="token decimal">2</span> <span class="token decimal">300</span> <span class="token decimal">4</span> <span class="token decimal">600</span> <span class="token decimal">10</span> ] <span class="token word doc-word">without:</span> [ <span class="token decimal">100</span> <span class="token word doc-word">></span><span class="token magnitudal"></span> ]
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">100</span> <span class="token decimal">2</span> <span class="token decimal">4</span> <span class="token decimal">10</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="reduce">
      <a class="word-doc-head" href="#reduce">
        reduce
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="RH4pSZyXrVc">List block</span> <span class="doc-eff-id" data-scope="2zmJiHcquTQ">Block</span> <span class="doc-eff-id" data-scope="Qy2pbowX-Fc">Memo</span> -- <span class="doc-eff-id" data-scope="Qy2pbowX-Fc">Memo</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Reduces <span class="doc-eff-id" data-scope="RH4pSZyXrVc">List block</span> using <span class="doc-eff-id" data-scope="2zmJiHcquTQ">Block</span>. <span class="doc-eff-id" data-scope="2zmJiHcquTQ">Block</span>
is opened with <span class="doc-eff-id" data-scope="Qy2pbowX-Fc">Memo</span>, current item on top of an empty stack.
<span class="doc-eff-id" data-scope="Qy2pbowX-Fc">Memo</span> is updated to <span class="doc-eff-id" data-scope="2zmJiHcquTQ">Block</span>'s value after <span class="doc-eff-id" data-scope="2zmJiHcquTQ">Block</span> is opened.
<code>break</code> and <code>next</code> are available.</p>
<pre class="language-novika"><code class="language-novika">[ ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token decimal">0</span> <span class="token word doc-word">reduce</span>
  <span class="token leaves word doc-word">leaves:</span>  <span class="token decimal">0</span>

[ <span class="token decimal">1</span> ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token decimal">0</span> <span class="token word doc-word">reduce</span>
  <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span> <span class="token comment">"(i.e., 0 + 1)"</span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span><span class="token magnitudal"></span> ] <span class="token decimal">0</span> <span class="token word doc-word">reduce</span>
  <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">6</span>

[ <span class="token quote">'Hellope, '</span> <span class="token quote">'Europe!'</span> <span class="token quote">' '</span> <span class="token quote">'Huh?'</span> ] [ <span class="token word doc-word">stitch</span> ] <span class="token quote">''</span> <span class="token word doc-word">reduce</span>
  <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'Hellope, Europe! Huh?'</span>
</code></pre>
<p>Supports stack reduction:</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'1'</span> <span class="token quote">'2'</span> <span class="token quote">'3'</span> <span class="token word doc-word">stack</span><span class="token stackworks"></span> [ <span class="token word doc-word">stitch</span> ] <span class="token quote">''</span> <span class="token word doc-word">reduce</span>
  <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'123'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="amount">
      <a class="word-doc-head" href="#amount">
        amount
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="YsrqVd9PSSA">List block</span> <span class="doc-eff-id" data-scope="HybUL9UYYwE">Block</span> -- <span class="doc-eff-id" data-scope="yvAfXmI6LaE">Amount</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="yvAfXmI6LaE">Amount</span> of items for which <span class="doc-eff-id" data-scope="HybUL9UYYwE">Block</span>,
when opened with an item from <span class="doc-eff-id" data-scope="YsrqVd9PSSA">List block</span> on top of an
empty stack, leaves a truthy form. <code>break</code> and <code>next</code> are
available.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">2</span> <span class="token word doc-word">></span><span class="token magnitudal"></span> ] <span class="token word doc-word">amount</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">100</span> <span class="token word doc-word">></span><span class="token magnitudal"></span> ] <span class="token word doc-word">amount</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0</span>
[ <span class="token decimal">1</span> <span class="token decimal">5000</span> <span class="token decimal">2</span> <span class="token decimal">4400</span> <span class="token decimal">1</span> <span class="token decimal">100</span> <span class="token decimal">102</span> ] [ <span class="token decimal">100</span> <span class="token word doc-word">&lt;=</span><span class="token magnitudal"></span> ] <span class="token word doc-word">amount</span>
  <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">4</span> <span class="token comment">"(i.e., 1, 2, 1, 100)"</span></code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="#">
      <a class="word-doc-head" href="##">
        #
        <span class="doc-head-effect">( Lb B -- A )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">amount</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">#</span> [ <span class="token decimal">2</span> <span class="token word doc-word">></span><span class="token magnitudal"></span> ] <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="all?">
      <a class="word-doc-head" href="#all?">
        all?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="mJ71Pq6Nrgc">List block</span> <span class="doc-eff-id" data-scope="hU0jOXFsVfA">Block</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Whether <span class="doc-eff-id" data-scope="hU0jOXFsVfA">Block</span> leaves true for all
items in <span class="doc-eff-id" data-scope="mJ71Pq6Nrgc">List block</span>, when opened with each item on top of
an empty stack.</p>
<pre class="language-novika"><code class="language-novika">[ ] [ <span class="token decimal">100</span> <span class="token word doc-word">&lt;</span><span class="token magnitudal"></span> ] <span class="token word doc-word">all?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span> <span class="token comment">"BEWARE!"</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">100</span> <span class="token word doc-word">&lt;</span><span class="token magnitudal"></span> ] <span class="token word doc-word">all?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">101</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] [ <span class="token decimal">100</span> <span class="token word doc-word">&lt;</span><span class="token magnitudal"></span> ] <span class="token word doc-word">all?</span>
  <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token comment">"(i.e., because of 101)"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="all:">
      <a class="word-doc-head" href="#all:">
        all:
        <span class="doc-head-effect">( Lb all: B -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">all?</code></p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">all:</span> <span class="token word doc-word">even?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span> <span class="token comment">"BEWARE!"</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">all:</span> <span class="token word doc-word">even?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="any?">
      <a class="word-doc-head" href="#any?">
        any?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="niREgp5dbhM">List block</span> <span class="doc-eff-id" data-scope="S4jRKBRidfQ">Block</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Whether <span class="doc-eff-id" data-scope="S4jRKBRidfQ">Block</span> leaves true for any
item in <span class="doc-eff-id" data-scope="niREgp5dbhM">List block</span>, when opened with each item on top of an
empty stack.</p>
<pre class="language-novika"><code class="language-novika">[ ] [ <span class="token decimal">100</span> <span class="token word doc-word">&lt;</span><span class="token magnitudal"></span> ] <span class="token word doc-word">any?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token comment">"BEWARE!"</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">3</span> <span class="token word doc-word">=</span> ] <span class="token word doc-word">any?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">101</span> <span class="token decimal">3</span> <span class="token decimal">2000</span> ] [ <span class="token decimal">100</span> <span class="token word doc-word">&lt;</span><span class="token magnitudal"></span> ] <span class="token word doc-word">any?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">1002</span> <span class="token decimal">350</span> <span class="token decimal">2000</span> ] [ <span class="token decimal">100</span> <span class="token word doc-word">&lt;</span><span class="token magnitudal"></span> ] <span class="token word doc-word">any?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="anyof:">
      <a class="word-doc-head" href="#anyof:">
        anyof:
        <span class="doc-head-effect">( F anyof: B -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">anyof?</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">anyof:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token qword">#foo</span> <span class="token word doc-word">anyof:</span> [ <span class="token word">foo</span> <span class="token word">bar</span> ] <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token decimal">1</span> <span class="token word doc-word">anyof:</span> <span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token qword">#foo</span> <span class="token word doc-word">anyof:</span> <span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="zip">
      <a class="word-doc-head" href="#zip">
        zip
        <span class="doc-head-effect">( A B -- Z )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves Zipped A, B. Dies if there is a
different amount of items in A and B.</p>
<pre class="language-novika"><code class="language-novika">[ ] [ ] <span class="token word doc-word">zip</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] [ <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token word doc-word">zip</span> <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> <span class="token decimal">3</span> ] [ <span class="token decimal">2</span> <span class="token decimal">4</span> ] ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="zipWithDefault">
      <a class="word-doc-head" href="#zipWithDefault">
        zipWithDefault
        <span class="doc-head-effect">( A B <span class="doc-eff-id" data-scope="qddqNSO7bew">Default</span> -- Zb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves Zipped A, B with holes
filled by the given <span class="doc-eff-id" data-scope="qddqNSO7bew">Default</span> form.</p>
<pre class="language-novika"><code class="language-novika">[ ] [ ] <span class="token qword">#hole</span> <span class="token word doc-word">zipWithDefault</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]

[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] [ <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token qword">#hole</span> <span class="token word doc-word">zipWithDefault</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> <span class="token decimal">3</span> ] [ <span class="token decimal">2</span> <span class="token decimal">4</span> ] ] ]

[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] [ <span class="token decimal">3</span> ] <span class="token qword">#hole</span> <span class="token word doc-word">zipWithDefault</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> <span class="token decimal">3</span> ] [ <span class="token decimal">2</span> <span class="token word">hole</span> ] ] ]

[ <span class="token decimal">1</span> ] [ <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token qword">#hole</span> <span class="token word doc-word">zipWithDefault</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> <span class="token decimal">3</span> ] [ <span class="token word">hole</span> <span class="token decimal">4</span> ] ] ]</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="zip:">
      <a class="word-doc-head" href="#zip:">
        zip:
        <span class="doc-head-effect">( A zip: B -- Z | A zip: B withDefault: D -- Z )</span>
      </a>
      <div class="word-doc-desc">
        <p>Combined
infix for <code class="inline-word-ref">zip</code> and <code class="inline-word-ref">zipWithDefault</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] <span class="token word doc-word">zip:</span> [ <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> <span class="token decimal">3</span> ] [ <span class="token decimal">2</span> <span class="token decimal">4</span> ] ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] <span class="token word doc-word">zip:</span> [ <span class="token word">x</span> <span class="token word">y</span> ] <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> <span class="token word">x</span> ] [ <span class="token decimal">2</span> <span class="token word">y</span> ] ] ]
[ <span class="token word">a</span> <span class="token word">b</span> ] <span class="token word doc-word">zip:</span> [ <span class="token quote">'Hi!'</span> ] <span class="token word">withDefault:</span> <span class="token decimal">0</span> <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token word">a</span> <span class="token quote">'Hi!'</span> ] [ <span class="token word">b</span> <span class="token decimal">0</span> ] ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="conjure">
      <a class="word-doc-head" href="#conjure">
        conjure
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="VxudG3R7GTk">Source</span> <span class="doc-eff-id" data-scope="Z1NNEK8K0j0">Destination</span> -- <span class="doc-eff-id" data-scope="rTHHx-PCX9Q">Instance</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Given a <span class="doc-eff-id" data-scope="VxudG3R7GTk">Source</span> block and a <span class="doc-eff-id" data-scope="Z1NNEK8K0j0">Destination</span>
block, leaves an <span class="doc-eff-id" data-scope="rTHHx-PCX9Q">Instance</span> of the <span class="doc-eff-id" data-scope="Z1NNEK8K0j0">Destination</span> block with all
words (see <code class="inline-word-ref">word?</code>) replaced with entry values from the
dictionary of <span class="doc-eff-id" data-scope="VxudG3R7GTk">Source</span> (they are <strong>not</strong> opened), and all
quoted words unquoted (see <code class="inline-word-ref">quotedWord?</code>). Recurses on
sub-blocks.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token decimal">2</span> <span class="token word doc-word">$:</span> <span class="token word">y</span>
<span class="token qword">#+</span> <span class="token word doc-word">$:</span> <span class="token word">plus</span>

<span class="token word doc-word">this</span><span class="token this"></span> [ <span class="token word">x</span> <span class="token word">y</span> <span class="token word">plus</span> <span class="token qword">#dup</span> <span class="token word">plus</span> [ <span class="token qword">##foo</span> <span class="token qword">#echo</span> ] <span class="token qword">#open</span> ] <span class="token word doc-word">conjure</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">dup</span><span class="token stackworks"></span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> [ <span class="token qword">#foo</span> <span class="token word doc-word">echo</span> ] <span class="token qword">#open</span> ] ]

<span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">6</span>
<span class="token comment">"STDOUT: foo⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="here">
      <a class="word-doc-head" href="#here">
        here
        <span class="doc-head-effect">( B -- I )</span>
      </a>
      <div class="word-doc-desc">
        <p><code class="inline-word-ref">conjure</code> with Source block set to caller.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token decimal">2</span> <span class="token word doc-word">$:</span> <span class="token word">y</span>
<span class="token qword">#+</span> <span class="token word doc-word">$:</span> <span class="token word">plus</span>

[ <span class="token word">x</span> <span class="token word">y</span> <span class="token word">plus</span> <span class="token qword">#dup</span> <span class="token word">plus</span> [ <span class="token qword">##foo</span> <span class="token qword">#echo</span> ] <span class="token qword">#open</span> ] <span class="token word doc-word">here</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token word doc-word">dup</span><span class="token stackworks"></span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> [ <span class="token qword">#foo</span> <span class="token word doc-word">echo</span> ] <span class="token qword">#open</span> ] ]

<span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">6</span> <span class="token comment">"STDOUT: foo⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="minmax">
      <a class="word-doc-head" href="#minmax">
        minmax
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="NqBu1xhPjBE">List block</span> -- Min Max )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves decimal minimum, maximum in
<span class="doc-eff-id" data-scope="NqBu1xhPjBE">List block</span>. Use <code class="inline-word-ref">minmaxBy</code> if <span class="doc-eff-id" data-scope="NqBu1xhPjBE">List block</span> doesn't (or doesn't
always) contain solely decimals. If an empty block is given,
dies, so make sure to handle that yourself.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">minmax</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">3</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="min">
      <a class="word-doc-head" href="#min">
        min
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="PnYu3NkRjgE">List block</span> -- Min )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves decimal minimum in <span class="doc-eff-id" data-scope="PnYu3NkRjgE">List block</span>.
See <code class="inline-word-ref">minmax</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">min</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="max">
      <a class="word-doc-head" href="#max">
        max
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="wqbSOv8aits">List block</span> -- Max )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves decimal maximum in <span class="doc-eff-id" data-scope="wqbSOv8aits">List block</span>.
See <code class="inline-word-ref">minmax</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">max</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sum">
      <a class="word-doc-head" href="#sum">
        sum
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="o2EsIEQw4W4">List block</span> -- Sum )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves decimal sum of <span class="doc-eff-id" data-scope="o2EsIEQw4W4">List block</span> elements.
For more control (or if not always decimal), use <code class="inline-word-ref">sumBy</code>.</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">sum</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">0</span>
[ <span class="token decimal">1</span> ] <span class="token word doc-word">sum</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">sum</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">6</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="product">
      <a class="word-doc-head" href="#product">
        product
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="1BcXvgRjhMk">List block</span> -- Product )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves decimal product of <span class="doc-eff-id" data-scope="1BcXvgRjhMk">List block</span>
elements. For more control (or if not always decimal), take
a look at <code class="inline-word-ref">productBy</code>.</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">product</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
[ <span class="token decimal">3</span> ] <span class="token word doc-word">product</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>
[ <span class="token decimal">5</span> <span class="token decimal">4</span> <span class="token decimal">3</span> <span class="token decimal">2</span> ] <span class="token word doc-word">product</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">120</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="minmaxBy">
      <a class="word-doc-head" href="#minmaxBy">
        minmaxBy
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="UEwX0tiZn6U">List block</span> <span class="doc-eff-id" data-scope="DY1UwiAzh-E">Transformation block</span> -- Min Max )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the minimum and maximum
values in <span class="doc-eff-id" data-scope="UEwX0tiZn6U">List block</span>. Decimal values are obtained via the
<span class="doc-eff-id" data-scope="DY1UwiAzh-E">Transformation block</span>, which is opened with each element
of <span class="doc-eff-id" data-scope="UEwX0tiZn6U">List block</span> on top of an empty stack. If <span class="doc-eff-id" data-scope="UEwX0tiZn6U">List block</span> is
empty, dies, so make sure to handle that yourself.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ ] <span class="token word doc-word">minmaxBy</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">3</span> ]
[ <span class="token quote">'A short quote'</span> <span class="token quote">'A loooonger quote'</span> <span class="token quote">'Veeeeeeeeeeery long quote'</span> ] [ <span class="token word doc-word">count</span><span class="token blockworks"></span> ] <span class="token word doc-word">minmaxBy</span>
  <span class="token leaves word doc-word">leaves:</span> [ <span class="token quote">'A short quote'</span> <span class="token quote">'Veeeeeeeeeeery long quote'</span> ]</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="minBy">
      <a class="word-doc-head" href="#minBy">
        minBy
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="kkSPNNH2hxA">List block</span> <span class="doc-eff-id" data-scope="Fp5fNwLRKl8">Transformation block</span> -- Min )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the minimum value in <span class="doc-eff-id" data-scope="kkSPNNH2hxA">List block</span>. Each element of <span class="doc-eff-id" data-scope="kkSPNNH2hxA">List block</span> is transformed using
<span class="doc-eff-id" data-scope="Fp5fNwLRKl8">Transformation block</span>. See <code class="inline-word-ref">minmaxBy</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ ] <span class="token word doc-word">minBy</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="maxBy">
      <a class="word-doc-head" href="#maxBy">
        maxBy
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="rS_nBuIBQYA">List block</span> <span class="doc-eff-id" data-scope="zUBxXxQTtxA">Transformation block</span> -- Max )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the maximum value in <span class="doc-eff-id" data-scope="rS_nBuIBQYA">List block</span>. Each element of <span class="doc-eff-id" data-scope="rS_nBuIBQYA">List block</span> is transformed using
<span class="doc-eff-id" data-scope="zUBxXxQTtxA">Transformation block</span>. See <code class="inline-word-ref">minmaxBy</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ ] <span class="token word doc-word">maxBy</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sumBy">
      <a class="word-doc-head" href="#sumBy">
        sumBy
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="36N16tkLFSQ">List block</span> <span class="doc-eff-id" data-scope="UqEEDveJzXA">Transformation block</span> -- Sum )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves Sum of <span class="doc-eff-id" data-scope="36N16tkLFSQ">List block</span> elements
transformed into decimals by <span class="doc-eff-id" data-scope="UqEEDveJzXA">Transformation block</span>.
Similar to <code class="inline-word-ref">minmaxBy</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'a'</span> <span class="token quote">'aaa'</span> <span class="token quote">'aa'</span> ] [ <span class="token word doc-word">count</span><span class="token blockworks"></span> ] <span class="token word doc-word">sumBy</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">6</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sumBy:">
      <a class="word-doc-head" href="#sumBy:">
        sumBy:
        <span class="doc-head-effect">( Lb sumBy: Tb -- Sum )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">sumBy</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'a'</span> <span class="token quote">'aaa'</span> <span class="token quote">'aa'</span> ] <span class="token word doc-word">sumBy:</span> <span class="token word doc-word">count</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">6</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="productBy">
      <a class="word-doc-head" href="#productBy">
        productBy
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="aWK02MMvpEI">List block</span> <span class="doc-eff-id" data-scope="EcyxMzLOYAI">Transformation block</span> -- <span class="doc-eff-id" data-scope="HJK3yxcwjj0">Product</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="HJK3yxcwjj0">Product</span> of <span class="doc-eff-id" data-scope="aWK02MMvpEI">List block</span> elements
transformed into decimals by <span class="doc-eff-id" data-scope="EcyxMzLOYAI">Transformation block</span>. Similar
to <code class="inline-word-ref">sumBy</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'dave'</span> <span class="token quote">'john'</span> ] [ <span class="token word doc-word">count</span><span class="token blockworks"></span> ] <span class="token word doc-word">productBy</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">16</span> <span class="token comment">"4 * 4"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="productBy:">
      <a class="word-doc-head" href="#productBy:">
        productBy:
        <span class="doc-head-effect">( Lb productBy: Tb -- Sum )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">productBy</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'dave'</span> <span class="token quote">'john'</span> ] <span class="token word doc-word">productBy:</span> <span class="token word doc-word">count</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">16</span> <span class="token comment">"4 * 4"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="collect">
      <a class="word-doc-head" href="#collect">
        collect
        <span class="doc-head-effect">( N <span class="doc-eff-id" data-scope="-fPjhHyKe0c">Block</span> -- <span class="doc-eff-id" data-scope="yOY15zExSJw">List block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves a <span class="doc-eff-id" data-scope="yOY15zExSJw">List block</span> with N results of
opening <span class="doc-eff-id" data-scope="-fPjhHyKe0c">Block</span> with the current N. Basically a combo of
<code class="inline-word-ref">times</code> and <code class="inline-word-ref">map</code>. <code>break</code> and <code>next</code> are available. The
current result is skipped if stack is empty after opening
<span class="doc-eff-id" data-scope="-fPjhHyKe0c">Block</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">10</span> <span class="token word doc-word">collect:</span> [ [ <span class="token word doc-word">odd?</span> ] <span class="token word doc-word">~></span> <span class="token word doc-word">drop</span><span class="token stackworks"></span> ]
       <span class="token word doc-word">map:</span> [ <span class="token decimal">2</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> ]
      <span class="token word doc-word">only:</span> [ <span class="token decimal">10</span> <span class="token word doc-word">&lt;</span><span class="token magnitudal"></span> ]
    <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">0</span> <span class="token decimal">4</span> <span class="token decimal">8</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="collect:">
      <a class="word-doc-head" href="#collect:">
        collect:
        <span class="doc-head-effect">( N collect: B -- Lb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">collect</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="compiledCollect">
      <a class="word-doc-head" href="#compiledCollect">
        compiledCollect
        <span class="doc-head-effect">( N B -- Lb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">collect</code>, but powered by <code class="inline-word-ref">compiledTimes</code>
under the hood. Faster than <code class="inline-word-ref">collect</code> for large N, but slower if
opened a lot of times in a row.</p>
<p>Please read <code class="inline-word-ref">compiledTimes</code> to understand why have the whole
deal with <em>unsafe</em> and <em>fast</em>.</p>
<p>Does <strong>not</strong> support <code>break</code> and <code>next</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="compiledCollect:">
      <a class="word-doc-head" href="#compiledCollect:">
        compiledCollect:
        <span class="doc-head-effect">( N compiledCollect: B -- Lb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">compiledCollect</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="groupBy">
      <a class="word-doc-head" href="#groupBy">
        groupBy
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="TWefpZVGM1E">Block</span> <span class="doc-eff-id" data-scope="CoyJwl3jyDQ">Grouper block</span> -- <span class="doc-eff-id" data-scope="prBt7lXpc1M">Group list</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Groups forms in <span class="doc-eff-id" data-scope="TWefpZVGM1E">Block</span> according to
<span class="doc-eff-id" data-scope="CoyJwl3jyDQ">Grouper block</span>. Leaves a <span class="doc-eff-id" data-scope="prBt7lXpc1M">Group list</span>. <span class="doc-eff-id" data-scope="CoyJwl3jyDQ">Grouper block</span> is
opened with consequent items on top of an empty stack.
<span class="doc-eff-id" data-scope="CoyJwl3jyDQ">Grouper block</span> can leave any form except block. Order of
groups in <span class="doc-eff-id" data-scope="prBt7lXpc1M">Group list</span> is the same as in <span class="doc-eff-id" data-scope="TWefpZVGM1E">Block</span>, i.e., if
the first item in <span class="doc-eff-id" data-scope="TWefpZVGM1E">Block</span> is is in group G1, then the first
group in <span class="doc-eff-id" data-scope="prBt7lXpc1M">Group list</span> will be G1.</p>
<p>If necessary, the form <span class="doc-eff-id" data-scope="CoyJwl3jyDQ">Grouper block</span> leaves for a particular
group can be accessed with <code>.id</code> on each group block in
<span class="doc-eff-id" data-scope="prBt7lXpc1M">Group list</span>.</p>
<p>Note though, that Group members do not have access to
their <span class="doc-eff-id" data-scope="CoyJwl3jyDQ">Grouper block</span>'s <code>id</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">1</span> <span class="token word doc-word">></span><span class="token magnitudal"></span> ] <span class="token word doc-word">groupBy</span> <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> ] [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">1</span> <span class="token word doc-word">&lt;=</span><span class="token magnitudal"></span> ] <span class="token word doc-word">groupBy</span> <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> ] [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] ] ]

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">1</span> <span class="token word doc-word">&lt;=</span><span class="token magnitudal"></span> ] <span class="token word doc-word">groupBy</span> [ <span class="token word doc-word">.</span><span class="token word">id</span> ] <span class="token word doc-word">map</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token word">true</span><span class="token boolean"></span> <span class="token word">false</span><span class="token boolean"></span> ] ] <span class="token comment">"The two groups, true and false."</span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">1</span> <span class="token word doc-word">&lt;=</span><span class="token magnitudal"></span><span class="token magnitudal"></span> <span class="token quote">'foo'</span> <span class="token quote">'bar'</span> <span class="token word doc-word">sel</span><span class="token control"></span><span class="token control"></span> ] <span class="token word doc-word">groupBy</span> [ <span class="token word doc-word">dup</span><span class="token stackworks"></span><span class="token stackworks"></span> <span class="token word doc-word">.</span><span class="token word">id</span> <span class="token word doc-word">2enclose</span> ] <span class="token word doc-word">map</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ [ [ <span class="token decimal">1</span> ] <span class="token quote">'foo'</span> ] [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token quote">'bar'</span> ] ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="groupBy:">
      <a class="word-doc-head" href="#groupBy:">
        groupBy:
        <span class="doc-head-effect">( B Gb -- Gl )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">groupBy</code>. See
<code class="inline-word-ref">groupBy</code> for information.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">groupBy:</span> [ <span class="token decimal">1</span> <span class="token word doc-word">></span><span class="token magnitudal"></span> ] <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> ] [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">groupBy:</span> [ <span class="token decimal">1</span> <span class="token word doc-word">&lt;=</span><span class="token magnitudal"></span> ] <span class="token leaves word doc-word">leaves:</span> [ [ [ <span class="token decimal">1</span> ] [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] ] ]

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">groupBy:</span> [ <span class="token decimal">1</span> <span class="token word doc-word">&lt;=</span><span class="token magnitudal"></span> ] <span class="token word doc-word">map:</span> [ <span class="token word doc-word">.</span><span class="token word">id</span> ]
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token word">true</span><span class="token boolean"></span> <span class="token word">false</span><span class="token boolean"></span> ] ]

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">groupBy:</span> [ <span class="token decimal">1</span> <span class="token word doc-word">&lt;=</span><span class="token magnitudal"></span> <span class="token quote">'foo'</span> <span class="token quote">'bar'</span> <span class="token word doc-word">sel</span><span class="token control"></span> ] <span class="token word doc-word">map:</span> [ <span class="token word doc-word">dup</span><span class="token stackworks"></span> <span class="token word doc-word">.</span><span class="token word">id</span> <span class="token word doc-word">2enclose</span> ]
  <span class="token leaves word doc-word">leaves:</span> [ [ [ [ <span class="token decimal">1</span> ] <span class="token quote">'foo'</span> ] [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token quote">'bar'</span> ] ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="range">
      <a class="word-doc-head" href="#range">
        range
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Kcx24vgLd2c">Begin</span> <span class="doc-eff-id" data-scope="w3MSJkJAMHo">End</span> -- <span class="doc-eff-id" data-scope="A3_2JM1XxiA">Range block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="A3_2JM1XxiA">Range block</span> containing decimals
between the given <span class="doc-eff-id" data-scope="Kcx24vgLd2c">Begin</span>, <span class="doc-eff-id" data-scope="w3MSJkJAMHo">End</span> decimal boundaries: [B; E],
[E; B] if  E &lt; B.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Note: `...` means there's more. These 'leaves:'
 expressions won't run right away."</span>

<span class="token decimal">1</span> <span class="token decimal">100</span> <span class="token word doc-word">range</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token comment">"..."</span> <span class="token decimal">98</span> <span class="token decimal">99</span> <span class="token decimal">100</span> ]
<span class="token decimal">-10</span> <span class="token decimal">10</span> <span class="token word doc-word">range</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">-10</span> <span class="token decimal">-9</span> <span class="token decimal">-8</span> <span class="token comment">"..."</span> <span class="token decimal">8</span> <span class="token decimal">9</span> <span class="token decimal">10</span> ]
<span class="token decimal">10</span> <span class="token decimal">0</span> <span class="token word doc-word">range</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">10</span> <span class="token decimal">9</span> <span class="token decimal">8</span> <span class="token comment">"..."</span> <span class="token decimal">0</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="to:">
      <a class="word-doc-head" href="#to:">
        to:
        <span class="doc-head-effect">( B to: E -- Rb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">range</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Note: `...` means there's more. These 'leaves:'
 expressions won't run right away."</span>

<span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">100</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token comment">"..."</span> <span class="token decimal">98</span> <span class="token decimal">99</span> <span class="token decimal">100</span> ]
<span class="token decimal">10</span> <span class="token word doc-word">to:</span> <span class="token decimal">0</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">10</span> <span class="token decimal">9</span> <span class="token decimal">8</span> <span class="token comment">"..."</span> <span class="token decimal">0</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="from:">
      <a class="word-doc-head" href="#from:">
        from:
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="tnem41OkrFQ">Block</span> from: <span class="doc-eff-id" data-scope="_lA6ZtmPWng">Begin index</span> to: <span class="doc-eff-id" data-scope="A-bLmyirFKI">End index</span> -- <span class="doc-eff-id" data-scope="UGgau5XYkII">Block slice</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Takes a slice of <span class="doc-eff-id" data-scope="tnem41OkrFQ">Block</span>, starting
at <span class="doc-eff-id" data-scope="_lA6ZtmPWng">Begin index</span>, and ending at <span class="doc-eff-id" data-scope="A-bLmyirFKI">End index</span>. Both ends are inclusive.
Leaves the resulting <span class="doc-eff-id" data-scope="UGgau5XYkII">Block slice</span>.</p>
<p><span class="doc-eff-id" data-scope="UGgau5XYkII">Block slice</span> is an orphan. Both ends are clamped to <span class="doc-eff-id" data-scope="tnem41OkrFQ">Block</span> bounds.</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">from:</span> <span class="token decimal">0</span> <span class="token word doc-word">to:</span> <span class="token decimal">0</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token word doc-word">from:</span> <span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">2</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token word doc-word">from:</span> <span class="token decimal">0</span> <span class="token word doc-word">to:</span> <span class="token decimal">200</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token word doc-word">from:</span> <span class="token decimal">100</span> <span class="token word doc-word">to:</span> <span class="token decimal">200</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="join">
      <a class="word-doc-head" href="#join">
        join
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="c7oYdqv6F78">Form list</span> -- <span class="doc-eff-id" data-scope="es6FuY9-3pY">Quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Stitches enquoted forms from <span class="doc-eff-id" data-scope="c7oYdqv6F78">Form list</span> and
leaves the resulting <span class="doc-eff-id" data-scope="es6FuY9-3pY">Quote</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'A'</span> <span class="token quote">'B'</span> <span class="token quote">'C'</span> ] <span class="token word doc-word">join</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'ABC'</span>

<span class="token decimal">1</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token decimal">2</span> <span class="token word doc-word">$:</span> <span class="token word">y</span>
[ <span class="token word">x</span> <span class="token quote">'; '</span> <span class="token word">y</span> ] <span class="token word doc-word">here</span> <span class="token word doc-word">join</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'1; 2'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sepBy">
      <a class="word-doc-head" href="#sepBy">
        sepBy
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="esTrFWxiVRA">Form list</span> <span class="doc-eff-id" data-scope="u36EKF4-VRE">Delimiter form</span> -- <span class="doc-eff-id" data-scope="oYMlb8WenLI">Quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Stitches enquoted forms from <span class="doc-eff-id" data-scope="esTrFWxiVRA">Form list</span> and leaves the resulting <span class="doc-eff-id" data-scope="oYMlb8WenLI">Quote</span>. Enquotes and
inserts <span class="doc-eff-id" data-scope="u36EKF4-VRE">Delimiter form</span> between the pairs.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'a'</span> <span class="token quote">'b'</span> <span class="token quote">'='</span> <span class="token decimal">1</span> ] <span class="token quote">' '</span> <span class="token word doc-word">sepBy</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'a b = 1'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sepBy:">
      <a class="word-doc-head" href="#sepBy:">
        sepBy:
        <span class="doc-head-effect">( Fl sepBy:/join: D -- Q )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">sepBy</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="join:">
      <a class="word-doc-head" href="#join:">
        join:
        <span class="doc-head-effect">( Fl sepBy:/join: D -- Q )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">sepBy</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="concat!">
      <a class="word-doc-head" href="#concat!">
        concat!
        <span class="doc-head-effect">( B1 B2 -- B1 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Adds elements before cursor in B2
after cursor in B1. Advances the cursor in B1 by the
number of added elements.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] <span class="token word doc-word">concat!</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="concat">
      <a class="word-doc-head" href="#concat">
        concat
        <span class="doc-head-effect">( B1 B2 -- Br )</span>
      </a>
      <div class="word-doc-desc">
        <p>Concatenates two Blocks.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] [ <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] <span class="token word doc-word">concat</span>
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] <span class="token comment">"(a new block!)"</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ls*">
      <a class="word-doc-head" href="#ls*">
        ls*
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="UmmPBoDlqGw">Word list</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="UmmPBoDlqGw">Word list</span> block that contains words
defined (<em>resolvable</em>) in caller and in its relatives.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> [ <span class="token decimal">1</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word doc-word">ls*</span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token comment">"..."</span> <span class="token word">y</span> <span class="token word">x</span> ] ]
</code></pre>
<p>As opposed to <code class="inline-word-ref">ls</code>, which leaves only block's own words:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> [ <span class="token decimal">1</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word doc-word">this</span><span class="token this"></span> <span class="token word doc-word">ls</span><span class="token blockworks"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token word">x</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="hasDesc?">
      <a class="word-doc-head" href="#hasDesc?">
        hasDesc?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="obu49Ei0Ygs">Block</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="obu49Ei0Ygs">Block</span> has a description.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|afterOrToEnd?">
      <a class="word-doc-head" href="#|afterOrToEnd?">
        |afterOrToEnd?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="eFM9oIAvE2o">List block</span> <span class="doc-eff-id" data-scope="VNL3McP2IRE">Condition</span> -- <span class="doc-eff-id" data-scope="PScLxJtwHxY">Skipped forms block</span> true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Slides right (see <code class="inline-word-ref">|slideRight</code>)
through <span class="doc-eff-id" data-scope="eFM9oIAvE2o">List block</span>, executes <span class="doc-eff-id" data-scope="VNL3McP2IRE">Condition</span> block for each form under
the cursor. Stops <em>after</em> form if <span class="doc-eff-id" data-scope="VNL3McP2IRE">Condition</span> block left true for it.
Leaves <span class="doc-eff-id" data-scope="PScLxJtwHxY">Skipped forms block</span>. Leaves true when <span class="doc-eff-id" data-scope="VNL3McP2IRE">Condition</span> matched,
false when reached the end of <span class="doc-eff-id" data-scope="eFM9oIAvE2o">List block</span> without a match.</p>
<p>Note: if <span class="doc-eff-id" data-scope="VNL3McP2IRE">Condition</span> is not a block, it is wrapped like so:
<code>[ C = ]</code>.</p>
<p>Useful for writing parsers for Novika DSLs.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
<span class="token word">a</span> [ <span class="token decimal">4</span> <span class="token word doc-word">=</span> ] <span class="token word doc-word">|afterOrToEnd?</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word">true</span><span class="token boolean"></span> ]
<span class="token word">a</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token word">|</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|afterOrToEnd?:">
      <a class="word-doc-head" href="#|afterOrToEnd?:">
        |afterOrToEnd?:
        <span class="doc-head-effect">( Lb |afterOrToEnd?: C -- Sfb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">|afterOrToEnd?</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|afterOrToEnd">
      <a class="word-doc-head" href="#|afterOrToEnd">
        |afterOrToEnd
        <span class="doc-head-effect">( Lb <span class="doc-eff-id" data-scope="Df2lKLIrJOQ">Condition</span> -- Sfb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">|afterOrToEnd?</code>, but disregards
whether the end was reached instead of <span class="doc-eff-id" data-scope="Df2lKLIrJOQ">Condition</span> matching.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|afterOrToEnd:">
      <a class="word-doc-head" href="#|afterOrToEnd:">
        |afterOrToEnd:
        <span class="doc-head-effect">( Lb |afterOrToEnd: C -- Sfb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">|afterOrToEnd</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|afterOrDie">
      <a class="word-doc-head" href="#|afterOrDie">
        |afterOrDie
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="sncjP_HiuYc">List block</span> <span class="doc-eff-id" data-scope="GSj7t-U9ZCk">Condition</span> -- Sfb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">|afterOrToEnd?</code>, but dies when reached
end of <span class="doc-eff-id" data-scope="sncjP_HiuYc">List block</span> without matching.</p>
<p>When <span class="doc-eff-id" data-scope="GSj7t-U9ZCk">Condition</span> is a block, its desc, if available, is
displayed as the thing that was expected. Otherwise,
<span class="doc-eff-id" data-scope="GSj7t-U9ZCk">Condition</span> itself is displayed.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
<span class="token word">a</span> <span class="token decimal">4</span> <span class="token word doc-word">|afterOrDie</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
<span class="token word">a</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token word">|</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|afterOrDie:">
      <a class="word-doc-head" href="#|afterOrDie:">
        |afterOrDie:
        <span class="doc-head-effect">( Lb |afterOrDie: C -- Sfb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">|afterOrDie</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|beforeOrToEnd?">
      <a class="word-doc-head" href="#|beforeOrToEnd?">
        |beforeOrToEnd?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ZsYYCfYQAiQ">List block</span> C -- Sfb true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Similar to <code class="inline-word-ref">|afterOrToEnd?</code>, but
leaves the cursor in <span class="doc-eff-id" data-scope="ZsYYCfYQAiQ">List block</span> <em>before</em> the matching
item.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
<span class="token word">a</span> <span class="token decimal">4</span> <span class="token word doc-word">|beforeOrToEnd</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
<span class="token word">a</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word">|</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|beforeOrToEnd?:">
      <a class="word-doc-head" href="#|beforeOrToEnd?:">
        |beforeOrToEnd?:
        <span class="doc-head-effect">( Lb |beforeOrToEnd?: C -- Sfb true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">|beforeOrToEnd?</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|beforeOrToEnd">
      <a class="word-doc-head" href="#|beforeOrToEnd">
        |beforeOrToEnd
        <span class="doc-head-effect">( Lb <span class="doc-eff-id" data-scope="E_83jjYqe0E">Condition</span> -- Sfb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">|beforeOrToEnd?</code>, but disregards
whether the end was reached instead of <span class="doc-eff-id" data-scope="E_83jjYqe0E">Condition</span>
matching.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|beforeOrToEnd:">
      <a class="word-doc-head" href="#|beforeOrToEnd:">
        |beforeOrToEnd:
        <span class="doc-head-effect">( Lb |beforeOrToEnd: C -- Sfb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">|beforeOrToEnd</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|beforeOrDie">
      <a class="word-doc-head" href="#|beforeOrDie">
        |beforeOrDie
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="z2WJEfjk3xk">List block</span> C -- Sfb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Similar to <code class="inline-word-ref">|afterOrDie</code>, but leaves the
cursor in <span class="doc-eff-id" data-scope="z2WJEfjk3xk">List block</span> <em>before</em> the matching item.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
<span class="token word">a</span> <span class="token decimal">4</span> <span class="token word doc-word">|beforeOrDie</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
<span class="token word">a</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word">|</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|beforeOrDie:">
      <a class="word-doc-head" href="#|beforeOrDie:">
        |beforeOrDie:
        <span class="doc-head-effect">( Lb |beforeOrDie: C -- Sfb )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">|beforeOrDie</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="tally">
      <a class="word-doc-head" href="#tally">
        tally
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="osUm41PFDe4">List</span> <span class="doc-eff-id" data-scope="tjx94xjWpzM">Block</span> -- <span class="doc-eff-id" data-scope="njFr28egS-A">Stack</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="tjx94xjWpzM">Block</span> with each <code>form count</code> pair,
preceded by previous results of <span class="doc-eff-id" data-scope="tjx94xjWpzM">Block</span> (if any), as the
active <span class="doc-eff-id" data-scope="njFr28egS-A">Stack</span>. Forms are taken from <span class="doc-eff-id" data-scope="osUm41PFDe4">List</span> block. Resulting
<span class="doc-eff-id" data-scope="njFr28egS-A">Stack</span> is left.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">3</span> <span class="token decimal">2</span> <span class="token decimal">1</span> ] [ <span class="token word doc-word">swap</span><span class="token stackworks"></span> <span class="token word doc-word">2echo</span> ] <span class="token word doc-word">tally</span>
<span class="token comment">"STDOUT: 2⏎ 1⏎ (two ones)"</span>
<span class="token comment">"STDOUT: 3⏎ 2⏎ (three twos"</span>
<span class="token comment">"STDOUT: 2⏎ 3⏎ (two threes)"</span>

<span class="token leaves word doc-word">leaves:</span> [ ] <span class="token comment">"all were consumed by 2echo"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="tally:">
      <a class="word-doc-head" href="#tally:">
        tally:
        <span class="doc-head-effect">( L tally: B -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">tally</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sortUsing!:">
      <a class="word-doc-head" href="#sortUsing!:">
        sortUsing!:
        <span class="doc-head-effect">( B sortUsing!: Cb -- B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">sortUsing!</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">3</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">4</span> <span class="token decimal">0</span> <span class="token decimal">-3</span> ] <span class="token word doc-word">sortUsing!:</span> <span class="token word doc-word">-</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">-3</span> <span class="token decimal">0</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sort!">
      <a class="word-doc-head" href="#sort!">
        sort!
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="XXrxwoR38s8">Decimal list block</span> -- <span class="doc-eff-id" data-scope="XXrxwoR38s8">Decimal list block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Inplace sort of <span class="doc-eff-id" data-scope="XXrxwoR38s8">Decimal list block</span>.
Chokes on non-decimal forms.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">3</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">4</span> <span class="token decimal">0</span> <span class="token decimal">-3</span> ] <span class="token word doc-word">sort!</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">-3</span> <span class="token decimal">0</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sortBy!">
      <a class="word-doc-head" href="#sortBy!">
        sortBy!
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="O_BCKzwtcKw">Block</span> <span class="doc-eff-id" data-scope="_hXiVxhqpjY">Mapper block</span> -- <span class="doc-eff-id" data-scope="O_BCKzwtcKw">Block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Inplace sort for <span class="doc-eff-id" data-scope="O_BCKzwtcKw">Block</span> using the
<span class="doc-eff-id" data-scope="_hXiVxhqpjY">Mapper block</span>, which must be able to map <em>all</em> forms
in <span class="doc-eff-id" data-scope="O_BCKzwtcKw">Block</span> to a decimal.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'hi'</span> <span class="token quote">'worldish'</span> <span class="token quote">'hi'</span> <span class="token quote">'foobar'</span> ] [ <span class="token word doc-word">count</span><span class="token blockworks"></span> ] <span class="token word doc-word">sortBy!</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token quote">'hi'</span> <span class="token quote">'hi'</span> <span class="token quote">'foobar'</span> <span class="token quote">'worldish'</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sortBy!:">
      <a class="word-doc-head" href="#sortBy!:">
        sortBy!:
        <span class="doc-head-effect">( B sortBy!: Mb -- B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">sortBy!</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'hi'</span> <span class="token quote">'worldish'</span> <span class="token quote">'hi'</span> <span class="token quote">'foobar'</span> ] <span class="token word doc-word">sortBy!:</span> <span class="token word doc-word">count</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token quote">'hi'</span> <span class="token quote">'hi'</span> <span class="token quote">'foobar'</span> <span class="token quote">'worldish'</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|around">
      <a class="word-doc-head" href="#|around">
        |around
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="qrEucowLnwI">List</span> N -- <span class="doc-eff-id" data-scope="ZevBlJXbWKU">Forms around block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves a <span class="doc-eff-id" data-scope="ZevBlJXbWKU">Forms around block</span> with N/2 forms
before the cursor, and N/2 forms after the cursor in <span class="doc-eff-id" data-scope="qrEucowLnwI">List</span>.</p>
<p><span class="doc-eff-id" data-scope="ZevBlJXbWKU">Forms around block</span> may consist of less than N forms, but only
when there are less than N forms in <span class="doc-eff-id" data-scope="qrEucowLnwI">List</span> (in this case, <span class="doc-eff-id" data-scope="ZevBlJXbWKU">Forms around block</span> is essentially a shallow copy of <span class="doc-eff-id" data-scope="qrEucowLnwI">List</span>).</p>
<p><span class="doc-eff-id" data-scope="ZevBlJXbWKU">Forms around block</span> is an orphan with two dictionary entries:
<code>start</code>, which stores the index of the first item in <span class="doc-eff-id" data-scope="qrEucowLnwI">List</span>,
and <code>end</code>, which stores the index of the last item in <span class="doc-eff-id" data-scope="qrEucowLnwI">List</span>.</p>
<p>Dies when N is zero or when <span class="doc-eff-id" data-scope="qrEucowLnwI">List</span> is empty, because in these
cases it is impossible to find the pivot form.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token word doc-word">$:</span> <span class="token word">block</span>
<span class="token word">block</span> <span class="token decimal">2</span> <span class="token word doc-word">|to</span><span class="token blockworks"></span>
<span class="token word">block</span> <span class="token word doc-word">echo</span> <span class="token comment">"STDOUT: [ 1 2 | 3 4 ]⏎ "</span>
<span class="token word">block</span> <span class="token decimal">2</span> <span class="token word doc-word">|around</span> <span class="token word doc-word">echo</span> <span class="token comment">"STDOUT: [ 2 3 · ${start :: 1} ${end :: 3} ]⏎ "</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|ring">
      <a class="word-doc-head" href="#|ring">
        |ring
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="-j-eFjPiVqE">Block</span> N -- <span class="doc-eff-id" data-scope="DYcsrFKPiMg">Ring block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves a <span class="doc-eff-id" data-scope="DYcsrFKPiMg">Ring block</span> of N (if possible)
forms left and right of the cursor in <span class="doc-eff-id" data-scope="-j-eFjPiVqE">Block</span>. If either
side contains less forms than N, leaves all forms found
in it. Puts cursor in <span class="doc-eff-id" data-scope="DYcsrFKPiMg">Ring block</span> after last form in the
left-hand side of the ring.</p>
<p>Dies if N &lt;= 0 (there are only &gt;zero rings). Dies if <span class="doc-eff-id" data-scope="-j-eFjPiVqE">Block</span>
is empty (because it cannot contain &gt;zero rings).</p>
<p><span class="doc-eff-id" data-scope="DYcsrFKPiMg">Ring block</span> also holds <span class="doc-eff-id" data-scope="-j-eFjPiVqE">Block</span> index of where the first
form of the ring is (entry <code>firstAt</code>), and where the
last form of the ring is (entry <code>lastAt</code>).</p>
<p>Here is a diagram which may help you understand what a
ring is:</p>
<pre class="language-text"><code class="language-text">┌───────────────────────┐
│ 3 |ring               │
│                       │
│   ┌───────────────┐   │
│   │ 2 |ring       │   │
│   │               │   │
│   │   ┌───────┐   │   │
│   │   │1 |ring│   │   │
│   │   │       │   │   │
│ 1 │ 2 │ 3 | 4 │ 5 │ 6 │
│   │   │       │   │   │
│   │   └───────┘   │   │
│   │               │   │
│   └───────────────┘   │
│                       │
└───────────────────────┘
</code></pre>
<p>And in code:</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token word">|</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] <span class="token word doc-word">$:</span> <span class="token word">block</span>

<span class="token word">block</span> <span class="token decimal">1</span> <span class="token word doc-word">|ring</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ 3 | 4 · ${firstAt :: 2} ${lastAt :: 3} ]'</span>
<span class="token word">block</span> <span class="token decimal">2</span> <span class="token word doc-word">|ring</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ 2 3 | 4 5 · ${firstAt :: 1} ${lastAt :: 4} ]'</span>
<span class="token word">block</span> <span class="token decimal">3</span> <span class="token word doc-word">|ring</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ 1 2 3 | 4 5 6 · ${firstAt :: 0} ${lastAt :: 5} ]'</span>
<span class="token word">block</span> <span class="token decimal">4</span> <span class="token word doc-word">|ring</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ 1 2 3 | 4 5 6 · ${firstAt :: 0} ${lastAt :: 5} ]'</span>
<span class="token word">block</span> <span class="token decimal">100</span> <span class="token word doc-word">|ring</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ 1 2 3 | 4 5 6 · ${firstAt :: 0} ${lastAt :: 5} ]'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sample">
      <a class="word-doc-head" href="#sample">
        sample
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="-keKMIoU-a8">Block</span> -- <span class="doc-eff-id" data-scope="a-58rMRKG-4">Random form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves a <span class="doc-eff-id" data-scope="a-58rMRKG-4">Random form</span> from the given <span class="doc-eff-id" data-scope="-keKMIoU-a8">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token word doc-word">sample</span> <span class="token leaves word doc-word">leaves:</span> <span class="token comment">"... a random form from the block, let's say 2"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="samples">
      <a class="word-doc-head" href="#samples">
        samples
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="A8UNYsSsDQM">Block</span> <span class="doc-eff-id" data-scope="s9M73QAXJuU">Count</span> samples -- S )</span>
      </a>
      <div class="word-doc-desc">
        <p>Samples the given <span class="doc-eff-id" data-scope="A8UNYsSsDQM">Block</span> <span class="doc-eff-id" data-scope="s9M73QAXJuU">Count</span> times,
and leaves the resulting block of Samples.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token decimal">2</span> <span class="token word doc-word">samples</span> <span class="token leaves word doc-word">leaves:</span> <span class="token comment">"... [ (a random form) (a random form) ]"</span>
<span class="token quote">'hello world'</span> <span class="token decimal">2</span> <span class="token word doc-word">samples</span> <span class="token leaves word doc-word">leaves:</span> <span class="token comment">"... [ (a random quote) (a random quote) ]"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sample:">
      <a class="word-doc-head" href="#sample:">
        sample:
        <span class="doc-head-effect">( B sample: C -- S )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">samples</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> ] <span class="token word doc-word">sample:</span> <span class="token decimal">2</span> <span class="token leaves word doc-word">leaves:</span> <span class="token comment">"... [ (a random form) (a random form) ]"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="flat:deep">
      <a class="word-doc-head" href="#flat:deep">
        flat:deep
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="TDEHxZ9gQp8">Block</span> -- <span class="doc-eff-id" data-scope="q0MqmJaMeJg">Deeply flattened block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="q0MqmJaMeJg">Deeply flattened block</span> for the
given <span class="doc-eff-id" data-scope="TDEHxZ9gQp8">Block</span>.</p>
<p>Self-references are ignored. <strong>Most importantly</strong>, deeply
flattened block is a child of <span class="doc-eff-id" data-scope="TDEHxZ9gQp8">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">flat</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">flat</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
[ [ <span class="token decimal">1</span> ] [ <span class="token decimal">2</span> ] [ <span class="token decimal">3</span> ] ] <span class="token word doc-word">flat</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
<span class="token comment">"... etc."</span>

[ [ <span class="token decimal">100</span> ] <span class="token word doc-word">$:</span> <span class="token word">x</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">foo</span>

<span class="token word">foo</span> <span class="token word doc-word">flat</span> <span class="token word doc-word">$:</span> <span class="token word">flattened</span>
<span class="token word">flattened</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ] ]
<span class="token word">flattened</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token comment">"... etc."</span>

[ ] <span class="token word doc-word">$:</span> <span class="token word">bar</span>
<span class="token word">bar</span> <span class="token word">bar</span> <span class="token word doc-word">shove</span><span class="token blockworks"></span>
<span class="token word">bar</span> <span class="token word doc-word">flat</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="flat">
      <a class="word-doc-head" href="#flat">
        flat
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="OTVkGSmMrIg">Block</span> -- <span class="doc-eff-id" data-scope="DaPscReQ9Eo">Deeply flattened block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="DaPscReQ9Eo">Deeply flattened block</span> for the
given <span class="doc-eff-id" data-scope="OTVkGSmMrIg">Block</span>.</p>
<p>Self-references are ignored. <strong>Most importantly</strong>, deeply
flattened block is a child of <span class="doc-eff-id" data-scope="OTVkGSmMrIg">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">flat</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">flat</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
[ [ <span class="token decimal">1</span> ] [ <span class="token decimal">2</span> ] [ <span class="token decimal">3</span> ] ] <span class="token word doc-word">flat</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
<span class="token comment">"... etc."</span>

[ [ <span class="token decimal">100</span> ] <span class="token word doc-word">$:</span> <span class="token word">x</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">foo</span>

<span class="token word">foo</span> <span class="token word doc-word">flat</span> <span class="token word doc-word">$:</span> <span class="token word">flattened</span>
<span class="token word">flattened</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ] ]
<span class="token word">flattened</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
<span class="token comment">"... etc."</span>

[ ] <span class="token word doc-word">$:</span> <span class="token word">bar</span>
<span class="token word">bar</span> <span class="token word">bar</span> <span class="token word doc-word">shove</span><span class="token blockworks"></span>
<span class="token word">bar</span> <span class="token word doc-word">flat</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="gsub">
      <a class="word-doc-head" href="#gsub">
        gsub
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="aZfceweH0Pw">Block</span> <span class="doc-eff-id" data-scope="yQ-44UAem5s">Pattern</span> <span class="doc-eff-id" data-scope="kc_zfBKQHe4">Replacement</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Global (of all occurences), deep (nesting
doesn't matter) substitution of <span class="doc-eff-id" data-scope="yQ-44UAem5s">Pattern</span> with <span class="doc-eff-id" data-scope="kc_zfBKQHe4">Replacement</span>
in <span class="doc-eff-id" data-scope="aZfceweH0Pw">Block</span>.</p>
<p>Some important points:</p>
<ul>
<li>
<p>Self-references are skipped.</p>
</li>
<li>
<p>This word goes through the whole block, no matter where the
cursor was beforehand, sliding the latter <em>back to front</em>
(from the end to the beginning), and afterwards restoring its
position to that before substitution (taking growth or shrinkage
due to substitution into account).</p>
</li>
<li>
<p>If <span class="doc-eff-id" data-scope="yQ-44UAem5s">Pattern</span> is a block, it is opened with <span class="doc-eff-id" data-scope="aZfceweH0Pw">Block</span> as the stack
and cursor just after the form-to-check. This word then expects
<span class="doc-eff-id" data-scope="yQ-44UAem5s">Pattern</span> to leave a truthy/falsey value <em>for whether the visited
form should be replaced</em> with <span class="doc-eff-id" data-scope="kc_zfBKQHe4">Replacement</span>.</p>
</li>
<li>
<p>The stack effect for <span class="doc-eff-id" data-scope="yQ-44UAem5s">Pattern</span>, in case it is a block, must be
the following: <code>( ... F -- ... F true/false )</code>, where F is the
form to check. Otherwise, <em>stable behavior is yours to ensure</em>!</p>
</li>
<li>
<p>If <span class="doc-eff-id" data-scope="yQ-44UAem5s">Pattern</span> is not a block, the following template block is
used instead: <code>[ dup Pattern = ]</code>.</p>
</li>
<li>
<p><span class="doc-eff-id" data-scope="kc_zfBKQHe4">Replacement</span>, when this word decides it's time to use it, is
opened with <span class="doc-eff-id" data-scope="aZfceweH0Pw">Block</span> as the stack and cursor as if it was after
the form- to-replace, <em>but without the latter on the stack</em>.
Insertion is expected. Therefore, the stack effect of <span class="doc-eff-id" data-scope="kc_zfBKQHe4">Replacement</span>
is recommended to be <code>( -- ... )</code> where <code>...</code> stands for one
or more forms. Anything is possible, though, even cursor movement.
But in this case remember that <em>stable behavior is yours to ensure</em>.</p>
</li>
</ul>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">`a</span> <span class="token word">`b</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">$:</span> <span class="token word">temp</span>

<span class="token word">temp</span> <span class="token qword">#`a</span> <span class="token decimal">100</span> <span class="token word doc-word">gsub</span>
<span class="token word">temp</span> <span class="token qword">#`b</span> <span class="token decimal">200</span> <span class="token word doc-word">gsub</span>
<span class="token word">temp</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">100</span> <span class="token decimal">200</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] ]
<span class="token word">temp</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">300</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="gsub:">
      <a class="word-doc-head" href="#gsub:">
        gsub:
        <span class="doc-head-effect">( B P gsub: R -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Infix version of <code class="inline-word-ref">gsub</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word">`cmd</span>
  <span class="token decimal">200</span> <span class="token word">`cmd</span> ] <span class="token word doc-word">$:</span> <span class="token word">block</span>

<span class="token word">block</span> <span class="token qword">#`cmd</span> <span class="token word doc-word">gsub:</span> <span class="token qword">#echo</span>
<span class="token word">block</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">100</span> <span class="token word doc-word">echo</span> <span class="token decimal">200</span> <span class="token word doc-word">echo</span> ] ]
<span class="token word">block</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token comment">"STDOUT: 100⏎200⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="gsubOn:">
      <a class="word-doc-head" href="#gsubOn:">
        gsubOn:
        <span class="doc-head-effect">( B R gsubOn: P -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Another infix version of <code class="inline-word-ref">gsub</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word">`cmdA</span>
  <span class="token decimal">200</span> <span class="token word">`cmdB</span> ] <span class="token word doc-word">$:</span> <span class="token word">block</span>

<span class="token word">block</span> [ <span class="token decimal">2</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> <span class="token qword">#echo</span> ] <span class="token word doc-word">gsubOn:</span> <span class="token qword">#`cmdA</span>
<span class="token word">block</span> [ <span class="token decimal">4</span> <span class="token word doc-word">*</span><span class="token magnitudal"></span> <span class="token qword">#echo</span> ] <span class="token word doc-word">gsubOn:</span> <span class="token qword">#`cmdB</span>

<span class="token word">block</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">200</span> <span class="token word doc-word">echo</span> <span class="token decimal">800</span> <span class="token word doc-word">echo</span> ] ]
<span class="token word">block</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token comment">"STDOUT: 200⏎800⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:width">
      <a class="word-doc-head" href="#console:width">
        console:width
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="QrI8MN2Xd5Y">Console width</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="QrI8MN2Xd5Y">Console width</span> (in columns).</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:height">
      <a class="word-doc-head" href="#console:height">
        console:height
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="FRXZ5Obilb8">Console height</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="FRXZ5Obilb8">Console height</span> (in rows).</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="&lt;=">
      <a class="word-doc-head" href="#&lt;=">
        &lt;=
        <span class="doc-head-effect">( A B -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A &lt;= B.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="&gt;">
      <a class="word-doc-head" href="#&gt;">
        &gt;
        <span class="doc-head-effect">( A B -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A &gt; B.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="&gt;=">
      <a class="word-doc-head" href="#&gt;=">
        &gt;=
        <span class="doc-head-effect">( A B -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A &gt;= B.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="zero?">
      <a class="word-doc-head" href="#zero?">
        zero?
        <span class="doc-head-effect">( A -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A = 0</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="positive?">
      <a class="word-doc-head" href="#positive?">
        positive?
        <span class="doc-head-effect">( A -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A &gt;= 0</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="negative?">
      <a class="word-doc-head" href="#negative?">
        negative?
        <span class="doc-head-effect">( A -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A &lt; 9</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="/?">
      <a class="word-doc-head" href="#/?">
        /?
        <span class="doc-head-effect">( A B -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A is divisible by B.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="even?">
      <a class="word-doc-head" href="#even?">
        even?
        <span class="doc-head-effect">( N -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A is even (divisible by two).</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="odd?">
      <a class="word-doc-head" href="#odd?">
        odd?
        <span class="doc-head-effect">( N -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A is odd.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="empty?">
      <a class="word-doc-head" href="#empty?">
        empty?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="pxHFYuC4y-o">Block</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="pxHFYuC4y-o">Block</span> is empty.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="false?">
      <a class="word-doc-head" href="#false?">
        false?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="9lFt_lnwm98">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="9lFt_lnwm98">Form</span> is <code>false</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="true?">
      <a class="word-doc-head" href="#true?">
        true?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="zYTAPNU2ah0">Form</span> --  true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Converts <span class="doc-eff-id" data-scope="zYTAPNU2ah0">Form</span> into boolean.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="not">
      <a class="word-doc-head" href="#not">
        not
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="5jS-n6FUDhw">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves inverse boolean for <span class="doc-eff-id" data-scope="5jS-n6FUDhw">Form</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="runTestsInGroup:">
      <a class="word-doc-head" href="#runTestsInGroup:">
        runTestsInGroup:
        <span class="doc-head-effect">( runTestsInGroup: <span class="doc-eff-id" data-scope="FzL0tHRLmJE">Group</span> -- <span class="doc-eff-id" data-scope="esmHsmQggF4">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Runs all test cases under <span class="doc-eff-id" data-scope="FzL0tHRLmJE">Group</span>.
Reports the results on-the-fly. Dies if <span class="doc-eff-id" data-scope="FzL0tHRLmJE">Group</span> doesn't exist.
Leaves <span class="doc-eff-id" data-scope="esmHsmQggF4">Boolean</span> for whether all tests in <span class="doc-eff-id" data-scope="FzL0tHRLmJE">Group</span> succeeded.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="describe">
      <a class="word-doc-head" href="#describe">
        describe
        <span class="doc-head-effect">( describe <span class="doc-eff-id" data-scope="BQrSKg5Hygs">Description quote</span> <span class="doc-eff-id" data-scope="MmmiVfbBaPc">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Groups multiple test cases (listed
in <span class="doc-eff-id" data-scope="MmmiVfbBaPc">Block</span>) under a single <span class="doc-eff-id" data-scope="BQrSKg5Hygs">Description quote</span>.</p>
<p>Describes can be grouped under so-called <em>test groups</em>. Unless
you provide a group (or several) yourself, the describe will
belong to the test group called 'rogue'.</p>
<p>You can specify one or more groups the describe will belong
to using <code>in</code>. The following describes are grouped under 'rogue':</p>
<pre class="language-novika"><code class="language-novika"><span class="token word doc-word">describe</span> <span class="token quote">'Foo'</span> [
  <span class="token word">it</span> <span class="token word">should</span> <span class="token quote">'work'</span> [ <span class="token comment">"..."</span> ]
]

<span class="token word doc-word">describe</span> <span class="token quote">'Bar'</span> [
  <span class="token word">it</span> <span class="token word">should</span> <span class="token quote">'a'</span> [ <span class="token comment">"..."</span> ]
  <span class="token word">it</span> <span class="token word">should</span> <span class="token quote">'b'</span> [ <span class="token comment">"..."</span> ]
]
</code></pre>
<p>The following describes are grouped under 'foo':</p>
<pre class="language-novika"><code class="language-novika"><span class="token word doc-word">describe</span> <span class="token quote">'Foo'</span> [
  <span class="token word">in</span> <span class="token word">foo</span>

  <span class="token word">it</span> <span class="token word">should</span> <span class="token quote">'work'</span> [ <span class="token comment">"..."</span> ]
]

<span class="token word doc-word">describe</span> <span class="token quote">'Bar'</span> [
  <span class="token word">in</span> <span class="token word">foo</span>

  <span class="token word">it</span> <span class="token word">should</span> <span class="token quote">'a'</span> [ <span class="token comment">"..."</span> ]
  <span class="token word">it</span> <span class="token word">should</span> <span class="token quote">'b'</span> [ <span class="token comment">"..."</span> ]
]
</code></pre>
<p>You can run a test group using the word <code class="inline-word-ref">runTestsInGroup:</code>.
It will run all tests and echo the test report to the standard
output on the fly. With describes as above, that is, belonging
to the group 'foo', you can run them like so:</p>
<pre class="language-novika"><code class="language-novika"><span class="token word doc-word">runTestsInGroup:</span> <span class="token word">foo</span>
</code></pre>
<p>Describes can belong to multiple groups:</p>
<pre class="language-novika"><code class="language-novika"><span class="token word doc-word">describe</span> <span class="token quote">'Foo'</span> [
  <span class="token word">in</span> <span class="token word">a</span>
  <span class="token word">in</span> <span class="token word">b</span>

  <span class="token word">it</span> <span class="token word">should</span> <span class="token quote">'happy path'</span> [ <span class="token word">true</span><span class="token boolean"></span> <span class="token word">true</span><span class="token boolean"></span> <span class="token word">assert=</span> ]
]

<span class="token word doc-word">describe</span> <span class="token quote">'Bar'</span> [
  <span class="token word">in</span> <span class="token word">a</span>

  <span class="token word">it</span> <span class="token word">should</span> <span class="token quote">'sad path'</span> [ <span class="token word">true</span><span class="token boolean"></span> <span class="token word">false</span><span class="token boolean"></span> <span class="token word">assert=</span> ]
]

<span class="token word doc-word">runTestsInGroup:</span> <span class="token word">a</span>  <span class="token comment">"runs Foo and Bar"</span>
<span class="token word doc-word">runTestsInGroup:</span> <span class="token word">b</span>  <span class="token comment">"runs Foo"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="leaves:">
      <a class="word-doc-head" href="#leaves:">
        leaves:
        <span class="doc-head-effect">( ... leaves: <span class="doc-eff-id" data-scope="zt8wLqHQjx0">Block</span> -- ... )</span>
      </a>
      <div class="word-doc-desc">
        <p>Compares active stack with
<span class="doc-eff-id" data-scope="zt8wLqHQjx0">Block</span>: noop if equal via <code class="inline-word-ref">=</code>, otherwise, dies. Note that
only N last items in active stack are compared with <span class="doc-eff-id" data-scope="zt8wLqHQjx0">Block</span>,
where N is the amount of items in <span class="doc-eff-id" data-scope="zt8wLqHQjx0">Block</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> ] <span class="token comment">"Stack has 100 now."</span>
<span class="token decimal">200</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> <span class="token decimal">200</span> ] <span class="token comment">"Stack has 100 and 200."</span>
<span class="token decimal">300</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">300</span> ] <span class="token comment">"Stack has 100 and 200 and 300"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="choose">
      <a class="word-doc-head" href="#choose">
        choose
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="e5_Xy6kaIOA">Form</span> <span class="doc-eff-id" data-scope="gEbZAJWwM9c">Case list</span> -- <span class="doc-eff-id" data-scope="q9TUHPAObiQ">Case body</span>' )</span>
      </a>
      <div class="word-doc-desc">
        <p>High-level conditional. Acts similar to <code>case</code>
or <code>switch</code> in other languages. Takes a <span class="doc-eff-id" data-scope="e5_Xy6kaIOA">Form</span> to match over, and
a <span class="doc-eff-id" data-scope="gEbZAJWwM9c">Case list</span> in the form <code>[ Condition Case-Body Condition Case-Body ... ]</code>.
Leaves the result of <span class="doc-eff-id" data-scope="q9TUHPAObiQ">Case body</span> corresponding to the condition that
matched <span class="doc-eff-id" data-scope="e5_Xy6kaIOA">Form</span>, otherwise (if no cases matched), <span class="doc-eff-id" data-scope="e5_Xy6kaIOA">Form</span> itself.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">to:</span> <span class="token decimal">100</span> <span class="token word doc-word">each:</span> [
  [ [ <span class="token decimal">15</span> <span class="token word doc-word">/?</span> ] <span class="token quote">'FizzBuzz'</span>
    [  <span class="token decimal">5</span> <span class="token word doc-word">/?</span> ] <span class="token quote">'Buzz'</span>
    [  <span class="token decimal">3</span> <span class="token word doc-word">/?</span> ] <span class="token quote">'Fizz'</span>
  ] <span class="token word doc-word">choose</span> <span class="token word doc-word">echo</span>
]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="${">
      <a class="word-doc-head" href="#${">
        ${
        <span class="doc-head-effect">( E... -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">$:</code> but allows to define multiple pusher
Entries simultaneously, and in the 'human-readable' order.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">${</span> <span class="token word">x</span> <span class="token word">y</span> <span class="token word">}</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">@:</span> <span class="token word">point</span>

<span class="token decimal">100</span> <span class="token decimal">200</span> <span class="token word">point</span> <span class="token word doc-word">-></span> [ <span class="token word">x</span> <span class="token word">y</span> ]
  <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">100</span> <span class="token decimal">200</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="@{">
      <a class="word-doc-head" href="#@{">
        @{
        <span class="doc-head-effect">( E... -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">@:</code>, but allows to define multiple opener
Entries simultaneously, and in the 'human-readable' order.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">@{</span> <span class="token word">x</span> <span class="token word">y</span> <span class="token word">}</span>

  [ <span class="token word doc-word">bi*:</span> [<span class="token word">x</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span>] [<span class="token word">y</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span>] <span class="token word doc-word">={</span> <span class="token word">x</span> <span class="token word">y</span> <span class="token word">}</span> ] <span class="token word doc-word">@:</span> <span class="token word">move</span>

  <span class="token word doc-word">this</span><span class="token this"></span>
] <span class="token word doc-word">@:</span> <span class="token word">point</span>

<span class="token comment">"Point A has decimals under X and Y"</span>
<span class="token decimal">100</span> <span class="token decimal">200</span> <span class="token word">point</span> <span class="token word doc-word">$:</span> <span class="token word">A</span>

<span class="token comment">"Point B is inset some..."</span>
[ <span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token decimal">10</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span><span class="token magnitudal"></span> ] [ <span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token decimal">5</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span><span class="token magnitudal"></span> ] <span class="token word">point</span> <span class="token word doc-word">$:</span> <span class="token word">B</span>

<span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> <span class="token decimal">200</span> ]
<span class="token word">B</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">B</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">110</span> <span class="token decimal">205</span> ]

<span class="token comment">"Move A some..."</span>
<span class="token decimal">10</span> <span class="token decimal">10</span> <span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">move</span>

<span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">110</span> <span class="token decimal">210</span> ]
<span class="token word">B</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">B</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">120</span> <span class="token decimal">215</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="={">
      <a class="word-doc-head" href="#={">
        ={
        <span class="doc-head-effect">( E... -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">=:</code>, but allows to submit multiple Entries
simultaneously, and in the 'human-readable' order.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">@{</span> <span class="token word">x</span> <span class="token word">y</span> <span class="token word">}</span>

  [ <span class="token word doc-word">={</span> <span class="token word">x</span> <span class="token word">y</span> <span class="token word">}</span> ] <span class="token word doc-word">@:</span> <span class="token word">update</span>

  <span class="token word doc-word">this</span><span class="token this"></span>
] <span class="token word doc-word">@:</span> <span class="token word">point</span>

<span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word">point</span> <span class="token word doc-word">$:</span> <span class="token word">A</span>

<span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">0</span> <span class="token decimal">0</span> ]

<span class="token decimal">100</span> <span class="token decimal">200</span> <span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">update</span>

<span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word">A</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> <span class="token decimal">200</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:keysym">
      <a class="word-doc-head" href="#sdl:keysym">
        sdl:keysym
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>The SDL keysym structure, used in key events.</p>
<p>If you are looking for translated character input, see
the <code class="inline-word-ref">sdl:textInputEvent</code>.</p>
<ul>
<li><code>scancode</code>: SDL physical key code (see <code>sdl:scancode:*</code>)</li>
<li><code>keycode</code>: SDL virtual key code.</li>
<li><code class="inline-word-ref">mod</code>: current key modifiers.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:commonEvent">
      <a class="word-doc-head" href="#sdl:commonEvent">
        sdl:commonEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Fields shared by every event.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:displayEvent">
      <a class="word-doc-head" href="#sdl:displayEvent">
        sdl:displayEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Display state change event.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>display</code>: the associated display index.</li>
<li><code>event</code>: one of <code>sdl:displayEvent:*</code>.</li>
<li><code>data1</code>: event dependent data.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:windowEvent">
      <a class="word-doc-head" href="#sdl:windowEvent">
        sdl:windowEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Window state change event.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>windowID</code>: the associated window.</li>
<li><code>event</code>: one of <code>sdl:windowEvent:*</code>.</li>
<li><code>data1</code>: event dependent data.</li>
<li><code>data2</code>: event dependent data.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:keyboardEvent">
      <a class="word-doc-head" href="#sdl:keyboardEvent">
        sdl:keyboardEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Keyboard button event.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>windowID</code>: The window with keyboard focus, if any.</li>
<li><code>state</code>: <code>sdl:pressedState</code> or <code>sdl:releasedState</code></li>
<li><code class="inline-word-ref">repeat</code>: non-zero if this is a key repeat</li>
<li><code>event</code>: one of <code>sdl:windowEvent:*</code>.</li>
<li><code>keysym</code>: the key that was pressed or released, see <code class="inline-word-ref">sdl:keysym</code>.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:textEditingEvent">
      <a class="word-doc-head" href="#sdl:textEditingEvent">
        sdl:textEditingEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Keyboard text editing event.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>windowID</code>: The window with keyboard focus, if any.</li>
<li><code>text</code>: points to 32 <code>u8</code>s of the the editing text.</li>
<li><code>start</code>: the start cursor of selected editing text.</li>
<li><code>length</code>: the length of selected editing text.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:textEditingEvent*">
      <a class="word-doc-head" href="#sdl:textEditingEvent*">
        sdl:textEditingEvent*
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Extended keyboard text editing event when text would be
truncated if stored in the text buffer <code class="inline-word-ref">sdl:textEditingEvent</code>.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>windowID</code>: The window with keyboard focus, if any.</li>
<li><code>text</code>: the editing text, which should be freed with <code>sdl:free</code>,
and will not be NULL.</li>
<li><code>start</code>: the start cursor of selected editing text.</li>
<li><code>length</code>: the length of selected editing text.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:textInputEvent">
      <a class="word-doc-head" href="#sdl:textInputEvent">
        sdl:textInputEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Keyboard text input event.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>windowID</code>: The window with keyboard focus, if any.</li>
<li><code>text</code>: points to 32 <code>u8</code>s of the the editing text.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:mouseMotionEvent">
      <a class="word-doc-head" href="#sdl:mouseMotionEvent">
        sdl:mouseMotionEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Mouse motion event.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>windowID</code>: The window with mouse focus, if any.</li>
<li><code>which</code>: the mouse instance id, or <code>sdl:touchMouseId</code></li>
<li><code>state</code>: the current button state (<code>sdl:pressedState</code> or <code>sdl:releasedState</code>).</li>
<li><code>x</code>: X coordinate, relative to window.</li>
<li><code>y</code>: Y coordinate, relative to window.</li>
<li><code>xrel</code>: The relative motion in the X direction.</li>
<li><code>yrel</code>: The relative motion in the Y direction.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:mouseButtonEvent">
      <a class="word-doc-head" href="#sdl:mouseButtonEvent">
        sdl:mouseButtonEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Mouse button event.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>windowID</code>: The window with mouse focus, if any.</li>
<li><code>which</code>: the mouse instance id, or <code>sdl:touchMouseId</code>.</li>
<li><code>button</code>: the mouse button index.</li>
<li><code>state</code>: the current button state (<code>sdl:pressedState</code> or <code>sdl:releasedState</code>).</li>
<li><code>clicks</code>: 1 for single-click, 2 for double-click, etc.</li>
<li><code>x</code>: X coordinate, relative to window.</li>
<li><code>y</code>: Y coordinate, relative to window.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:mouseWheelEvent">
      <a class="word-doc-head" href="#sdl:mouseWheelEvent">
        sdl:mouseWheelEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Mouse wheel event structure.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>windowID</code>: The window with mouse focus, if any.</li>
<li><code>which</code>: the mouse instance id, or <code>sdl:touchMouseId</code>.</li>
<li><code>x</code>: the amount scrolled horizontally, positive to the right
and negative to the left.</li>
<li><code>y</code>: the amount scrolled vertically, positive away from the
user and negative toward the user.</li>
<li><code>direction</code>: set to one of <code>sdl:mouseWheel:*</code>. When
<code>sdl:mouseWheel:flipped</code>, the values in X and Y will be
opposite. Multiply by -1 to change them back.</li>
<li><code>preciseX</code>: the amount scrolled horizontally, positive to the
right and negative to the left, with float precision.</li>
<li><code>preciseY</code>: The amount scrolled vertically, positive away from
the user and negative toward the user, with float precision.</li>
<li><code>mouseX</code>: X coordinate, relative to window.</li>
<li><code>mouseY</code>: Y coordinate, relative to window.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:dropEvent">
      <a class="word-doc-head" href="#sdl:dropEvent">
        sdl:dropEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>An event used to request a file open by the system.
This event is enabled by default, you can disable it
with <code>sdl:eventState</code>.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
<li><code>file</code>: points to the file name, which should be freed with
<code>sdl:free</code>. Is NULL on begin/complete.</li>
<li><code>windowID</code>: the window that was dropped on, if any.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:quitEvent">
      <a class="word-doc-head" href="#sdl:quitEvent">
        sdl:quitEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>The &quot;quit requested&quot; event.</p>
<ul>
<li><code>timestamp</code>: in milliseconds, populated using <code class="inline-word-ref">sdl:ticks</code>.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:event">
      <a class="word-doc-head" href="#sdl:event">
        sdl:event
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>General event structure.</p>
<ul>
<li><code>type</code>: event type, shared with all events.</li>
</ul>
<p>The following is a list of event types/fields that are implemented.
Those that are simply <code>pointer</code>s are unimplemented.</p>
<ul>
<li><code>common</code>: common event data (see <code class="inline-word-ref">sdl:commonEvent</code>).</li>
<li><code>display</code>: display event data (see <code class="inline-word-ref">sdl:displayEvent</code>).</li>
<li><code>window</code>: window event data (see <code class="inline-word-ref">sdl:windowEvent</code>).</li>
<li><code>key</code>: keyboard event data (see <code class="inline-word-ref">sdl:keyboardEvent</code>).</li>
<li><code>edit</code>: text editing event data (see <code class="inline-word-ref">sdl:textEditingEvent</code>).</li>
<li><code>edit*</code>: extended text editing event data (see <code class="inline-word-ref">sdl:textEditingEvent*</code>).</li>
<li><code>text</code>: text input event data (see <code class="inline-word-ref">sdl:textInputEvent</code>).</li>
<li><code>motion</code>: mouse motion event data (see <code class="inline-word-ref">sdl:mouseMotionEvent</code>).</li>
<li><code>button</code>: mouse button event data (see <code class="inline-word-ref">sdl:mouseButtonEvent</code>).</li>
<li><code>wheel</code>: mouse wheel event data (see <code class="inline-word-ref">sdl:mouseWheelEvent</code>).</li>
<li><code>quit</code>: quit request event data (see <code class="inline-word-ref">sdl:quitEvent</code>).</li>
<li><code class="inline-word-ref">drop</code>: drag and drop event data (see <code class="inline-word-ref">sdl:dropEvent</code>).</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:intPoint">
      <a class="word-doc-head" href="#sdl:intPoint">
        sdl:intPoint
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>The structure that defines a point (integer).</p>
<ul>
<li><code>x</code>: the X coordinate of the point.</li>
<li><code>y</code>: the Y coordinate of the point.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:floatPoint">
      <a class="word-doc-head" href="#sdl:floatPoint">
        sdl:floatPoint
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>The structure that defines a point (floating point).</p>
<ul>
<li><code>x</code>: the X coordinate of the point.</li>
<li><code>y</code>: the Y coordinate of the point.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:intRect">
      <a class="word-doc-head" href="#sdl:intRect">
        sdl:intRect
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>A rectangle, with the origin at the upper left (integer).</p>
<ul>
<li><code>x</code>: the X coordinate of the rectangle.</li>
<li><code>y</code>: the Y coordinate of the rectangle.</li>
<li><code>w</code>: width of the rectangle.</li>
<li><code>h</code>: height of the rectangle.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:floatRect">
      <a class="word-doc-head" href="#sdl:floatRect">
        sdl:floatRect
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>A rectangle, with the origin at the upper left (floating point).</p>
<ul>
<li><code>x</code>: the X coordinate of the rectangle.</li>
<li><code>y</code>: the Y coordinate of the rectangle.</li>
<li><code>w</code>: width of the rectangle.</li>
<li><code>h</code>: height of the rectangle.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:intRectsIntersect?">
      <a class="word-doc-head" href="#sdl:intRectsIntersect?">
        sdl:intRectsIntersect?
        <span class="doc-head-effect">( R1 R2 -- 0/1 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether the two integer Rectangles
intersect. If either is null will leave 0.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:floatRectsIntersect?">
      <a class="word-doc-head" href="#sdl:floatRectsIntersect?">
        sdl:floatRectsIntersect?
        <span class="doc-head-effect">( R1 R2 -- 0/1 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether the two floating point
Rectangles intersect. If either is null will leave 0.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:writeIntRectIntersection?">
      <a class="word-doc-head" href="#sdl:writeIntRectIntersection?">
        sdl:writeIntRectIntersection?
        <span class="doc-head-effect">( R1 R2 <span class="doc-eff-id" data-scope="mzlcbwKpYrY">Result hole</span> -- 0/1 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Calculate the intersection of two integer
Rectangles and writes it into <span class="doc-eff-id" data-scope="mzlcbwKpYrY">Result hole</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:writeFloatRectIntersection?">
      <a class="word-doc-head" href="#sdl:writeFloatRectIntersection?">
        sdl:writeFloatRectIntersection?
        <span class="doc-head-effect">( R1 R2 <span class="doc-eff-id" data-scope="hky6TZztN7U">Result hole</span> -- 0/1 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Calculate the intersection of two floating
point Rectangles and writes it into <span class="doc-eff-id" data-scope="hky6TZztN7U">Result hole</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:writeIntRectUnion?">
      <a class="word-doc-head" href="#sdl:writeIntRectUnion?">
        sdl:writeIntRectUnion?
        <span class="doc-head-effect">( R1 R2 <span class="doc-eff-id" data-scope="D3W7xXVObTk">Result hole</span> -- 0/1 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Calculate the union of two integer Rectangles
and writes it into <span class="doc-eff-id" data-scope="D3W7xXVObTk">Result hole</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:writeFloatRectUnion?">
      <a class="word-doc-head" href="#sdl:writeFloatRectUnion?">
        sdl:writeFloatRectUnion?
        <span class="doc-head-effect">( R1 R2 <span class="doc-eff-id" data-scope="y1qO3cvdT_Q">Result hole</span> -- 0/1 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Calculate the union of two floating point
Rectangles and write it into <span class="doc-eff-id" data-scope="y1qO3cvdT_Q">Result hole</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:color">
      <a class="word-doc-head" href="#sdl:color">
        sdl:color
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Represents a color.</p>
<ul>
<li><code>r</code>: the red component in the range 0-255.</li>
<li><code>g</code>: the green component in the range 0-255.</li>
<li><code>b</code>: the blue component in the range 0-255.</li>
<li><code>a</code>: the alpha component in the range 0-255.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:palette">
      <a class="word-doc-head" href="#sdl:palette">
        sdl:palette
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Palette information.</p>
<ul>
<li><code>ncolors</code>: the number of colors in the palette.</li>
<li><code>colors</code>: an array of <code class="inline-word-ref">sdl:color</code>s representing the palette.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:pixelFormat">
      <a class="word-doc-head" href="#sdl:pixelFormat">
        sdl:pixelFormat
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>Pixel format information. Everything is read-only.</p>
<ul>
<li><code>format</code>: one of <code>sdl:pixelFormat:*</code></li>
<li><code>palette</code>: an <code class="inline-word-ref">sdl:palette</code> structure associated with this pixel
format, or null if the format doesn't have a palette.</li>
<li><code>bitsPerPixel</code>: the number of significant bits in a pixel value,
e.g.: 8, 15, 16, 24, 32.</li>
<li><code>bytesPerPixel</code>: the number of bytes required to hold a pixel
value, e.g.: 1, 2, 3, 4.</li>
<li><code>rmask</code>: a mask representing the location of the red component
of the pixel.</li>
<li><code>gmask</code>: a mask representing the location of the green component
of the pixel.</li>
<li><code>bmask</code>: a mask representing the location of the blue component
of the pixel.</li>
<li><code>amask</code>: a mask representing the location of the alpha component
of the pixel or 0 if the pixel format doesn't have any alpha
information.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:surface">
      <a class="word-doc-head" href="#sdl:surface">
        sdl:surface
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>A collection of pixels used in software blitting.</p>
<ul>
<li>Read-only <code>format</code>: the format of the pixels stored in the
surface.  See <code class="inline-word-ref">sdl:pixelFormat</code>.</li>
<li>Read-only <code>w</code>, <code>h</code>: the width and height in pixels.</li>
<li>Read-only <code>pitch</code>: the length of a row of pixels in bytes.</li>
<li>Read-write <code>pixels</code>: the pointer to the actual pixel data.</li>
<li>Read-write <code>userdata</code>: an arbitrary pointer you can set.</li>
<li>Read-only <code>clipRect</code>: an <code class="inline-word-ref">sdl:intRect</code> structure used to clip
blits to the surface. Can be set by <code>sdl:setClipRect</code>.</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:init">
      <a class="word-doc-head" href="#sdl:init">
        sdl:init
        <span class="doc-head-effect">( F -- S )</span>
      </a>
      <div class="word-doc-desc">
        <p>Initializes the SDL library given subsystem initialization
Flags (any of <code>sdl:init:*</code> OR'd together). Leaves 0 on success or a negative
error code on failure; use <code class="inline-word-ref">sdl:error</code> for more information.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:deinit">
      <a class="word-doc-head" href="#sdl:deinit">
        sdl:deinit
        <span class="doc-head-effect">( F -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Shuts down specific SDL subsystems given any of the flags
used by <code class="inline-word-ref">sdl:init</code>.</p>
<p>You still need to call <code class="inline-word-ref">sdl:quit</code> even if you close all open subsystems
with <code class="inline-word-ref">sdl:deinit</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:createWindow">
      <a class="word-doc-head" href="#sdl:createWindow">
        sdl:createWindow
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="z18_c8iAvhA">Title</span> X Y <span class="doc-eff-id" data-scope="k5lRWU5h4ag">Width</span> <span class="doc-eff-id" data-scope="TRJOfknpDfc">Height</span> F -- <span class="doc-eff-id" data-scope="BU2HCj1d_hY">Pointer</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a window and leaves a <span class="doc-eff-id" data-scope="BU2HCj1d_hY">Pointer</span> to it
(or null if there was an error).</p>
<p>The window is created with the given <span class="doc-eff-id" data-scope="z18_c8iAvhA">Title</span>, at the specified X and Y
coordinates (these can also be set to <code>sdl:window:centered</code> or
<code>sdl:window:positionUndefined</code>), with the specified <span class="doc-eff-id" data-scope="k5lRWU5h4ag">Width</span> and <span class="doc-eff-id" data-scope="TRJOfknpDfc">Height</span>
(in screen coordinates), and according to Flags.</p>
<p>See <code>sdl:window:*</code> for Flags.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:createRenderer">
      <a class="word-doc-head" href="#sdl:createRenderer">
        sdl:createRenderer
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="rFsQlEfu1gk">Window pointer</span> <span class="doc-eff-id" data-scope="zcJOhKiwXVI">Index</span> F -- P )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a 2D rendering context for a <span class="doc-eff-id" data-scope="rFsQlEfu1gk">Window pointer</span>
and leaves a pointer to it (or null if there was an error).</p>
<p><span class="doc-eff-id" data-scope="rFsQlEfu1gk">Window pointer</span> is a pointer to the window where rendering is displayed.</p>
<p><span class="doc-eff-id" data-scope="zcJOhKiwXVI">Index</span> is the index of the rendering driver to initialize, or -1 to
initialize the first one supporting the requested flags.</p>
<p>Flags is one or more <code>sdl:renderer:*</code> flags OR'd together.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:error">
      <a class="word-doc-head" href="#sdl:error">
        sdl:error
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_GetError]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ticks">
      <a class="word-doc-head" href="#sdl:ticks">
        sdl:ticks
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_GetTicks]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:renderClear">
      <a class="word-doc-head" href="#sdl:renderClear">
        sdl:renderClear
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_RenderClear]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:setRenderDrawColor">
      <a class="word-doc-head" href="#sdl:setRenderDrawColor">
        sdl:setRenderDrawColor
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_SetRenderDrawColor]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:fillRect">
      <a class="word-doc-head" href="#sdl:fillRect">
        sdl:fillRect
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_RenderFillRect]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:textureFromSurface">
      <a class="word-doc-head" href="#sdl:textureFromSurface">
        sdl:textureFromSurface
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_CreateTextureFromSurface]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:destroyTexture">
      <a class="word-doc-head" href="#sdl:destroyTexture">
        sdl:destroyTexture
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_DestroyTexture]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:renderCopy">
      <a class="word-doc-head" href="#sdl:renderCopy">
        sdl:renderCopy
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_RenderCopy]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:renderPresent">
      <a class="word-doc-head" href="#sdl:renderPresent">
        sdl:renderPresent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_RenderPresent]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:pollEvent">
      <a class="word-doc-head" href="#sdl:pollEvent">
        sdl:pollEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_PollEvent]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:waitEvent">
      <a class="word-doc-head" href="#sdl:waitEvent">
        sdl:waitEvent
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_WaitEvent]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:freeSurface">
      <a class="word-doc-head" href="#sdl:freeSurface">
        sdl:freeSurface
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_FreeSurface]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:quit">
      <a class="word-doc-head" href="#sdl:quit">
        sdl:quit
        <span class="doc-head-effect"></span>
      </a>
      <div class="word-doc-desc">
        <p>[foreign function: SDL_Quit]</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ensure">
      <a class="word-doc-head" href="#sdl:ensure">
        sdl:ensure
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="XvyD-eOKDeY">Status</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Dies with <code class="inline-word-ref">sdl:error</code> if <span class="doc-eff-id" data-scope="XvyD-eOKDeY">Status</span> is negative.</p>
<p>Some SDL and SDL TTF functions return negative integers
to signal an error. In this case, this word will die
preventing the following code to be executed, so you
don't have to worry about handling SDl errors.</p>
<p>Note that by dying you may cause some resources to <em>not</em>
be freed. Keeping track of that is a task for a higher-
level wrapper around these bingings. This word nor any
word that is part of these bindings won't do anything
about it.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:notNull">
      <a class="word-doc-head" href="#sdl:notNull">
        sdl:notNull
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="gG9kHFzfUz0">Pointer</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Dies if <span class="doc-eff-id" data-scope="gG9kHFzfUz0">Pointer</span> is NULL, that is, if <span class="doc-eff-id" data-scope="gG9kHFzfUz0">Pointer</span>
is equal to <code>0</code>.</p>
<p>Novika uses decimals to represent pointers, which is unsafe
but OK for such low-level code. This word allows you to catch
and die on NULLs rather than handling them explicitly, which
is a bit more tedious.</p>
<p>Note that by dying you may cause some resources to <em>not</em>
be freed. Keeping track of that is a task for a higher-
level wrapper around these bingings. This word nor any
word that is part of these bindings won't do anything
about it.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ttf:init">
      <a class="word-doc-head" href="#sdl:ttf:init">
        sdl:ttf:init
        <span class="doc-head-effect">( -- 0/-1 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Initializes the truetype font API.</p>
<p>Must be called before using other functions in this
library, except <code>sdl:ttf:init?</code>. SDL does not have to
be initialized before this call.</p>
<p>Leaves 0 if initialization was successful or -1 if an
error occured. Use <code class="inline-word-ref">sdl:error</code> to get a human-readable
error message for this word and for words in this library
which leave 0/-1 to signal an error.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ttf:quit">
      <a class="word-doc-head" href="#sdl:ttf:quit">
        sdl:ttf:quit
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Shuts down and cleans up the truetype font API.</p>
<p>After calling this the <code>sdl:ttf</code> library functions should
not be used, except for <code>sdl:ttf:init?</code>. You may, of course,
use <code class="inline-word-ref">sdl:ttf:init</code> to use the functionality again.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ttf:open">
      <a class="word-doc-head" href="#sdl:ttf:open">
        sdl:ttf:open
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="adqRI3gwqpE">File name</span> <span class="doc-eff-id" data-scope="eErMT8vefsI">Point size</span> -- <span class="doc-eff-id" data-scope="dq94AWm74a4">Font pointer</span>/0 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Loads and leaves <span class="doc-eff-id" data-scope="dq94AWm74a4">Font pointer</span> from the
provided <span class="doc-eff-id" data-scope="adqRI3gwqpE">File name</span>, uses the given <span class="doc-eff-id" data-scope="eErMT8vefsI">Point size</span>. The latter
basically translates to pixel height.</p>
<p>Leaves NULL (0) on error.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ttf:close">
      <a class="word-doc-head" href="#sdl:ttf:close">
        sdl:ttf:close
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="SVtrYb-Sj-A">Foint pointer</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Free the memory used by font at <span class="doc-eff-id" data-scope="SVtrYb-Sj-A">Foint pointer</span>,
and free font itself as well. Do not use font after this
without loading a new font to it.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ttf:putSize">
      <a class="word-doc-head" href="#sdl:ttf:putSize">
        sdl:ttf:putSize
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="8yPN7YDr7vA">Font pointer</span> <span class="doc-eff-id" data-scope="onjfwmvWeS8">Quote</span> <span class="doc-eff-id" data-scope="jHuogFUMp94">Width hole</span> <span class="doc-eff-id" data-scope="wJ5jhl3Yt3U">Height hole</span> -- 0/-1 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Calculates the resulting surface
size of <span class="doc-eff-id" data-scope="onjfwmvWeS8">Quote</span> rendered using the font behind <span class="doc-eff-id" data-scope="8yPN7YDr7vA">Font pointer</span>.
Width is put into <span class="doc-eff-id" data-scope="jHuogFUMp94">Width hole</span>, and height is put into
<span class="doc-eff-id" data-scope="wJ5jhl3Yt3U">Height hole</span>.</p>
<p>Consider using <code class="inline-word-ref">sdl:ttf:size</code> which create and read from the
holes for you.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ttf:getSolidSurface">
      <a class="word-doc-head" href="#sdl:ttf:getSolidSurface">
        sdl:ttf:getSolidSurface
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="YkIPLen3Ecc">Font pointer</span> <span class="doc-eff-id" data-scope="adzrCnOtTuk">Quote</span> Fc -- <span class="doc-eff-id" data-scope="zGkvKsd_JUY">Surface pointer</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Renders <span class="doc-eff-id" data-scope="adzrCnOtTuk">Quote</span> painted with Foreground
<code class="inline-word-ref">sdl:color</code> using font behind <span class="doc-eff-id" data-scope="YkIPLen3Ecc">Font pointer</span>. Leaves <span class="doc-eff-id" data-scope="zGkvKsd_JUY">Surface pointer</span> to a new surface containing the rendered quote,
<em>which you must free when it becomes unused</em>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ttf:getShadedSurface">
      <a class="word-doc-head" href="#sdl:ttf:getShadedSurface">
        sdl:ttf:getShadedSurface
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="jaI62eGiTm8">Font pointer</span> <span class="doc-eff-id" data-scope="MOcaC_ujeJs">Quote</span> <span class="doc-eff-id" data-scope="MmT0rYKqthc">Foreground color</span> <span class="doc-eff-id" data-scope="MCzSE_RFzeI">Background color</span> -- <span class="doc-eff-id" data-scope="ZBBZWrzQnj0">Surface pointer</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Renders <span class="doc-eff-id" data-scope="MOcaC_ujeJs">Quote</span> painted with <span class="doc-eff-id" data-scope="MmT0rYKqthc">Foreground color</span> (an <code>sdl:color~</code>) with background of <span class="doc-eff-id" data-scope="MCzSE_RFzeI">Background color</span>
(also an <code>sdl:color~</code>), using font behind <span class="doc-eff-id" data-scope="jaI62eGiTm8">Font pointer</span>. Leaves
<span class="doc-eff-id" data-scope="ZBBZWrzQnj0">Surface pointer</span> to a new surface containing the rendered quote,
<em>which you must free when it becomes unused</em>.</p>
<p>Slower but sharper than <code class="inline-word-ref">sdl:ttf:getSolidSurface</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ttf:getBlendedSurface">
      <a class="word-doc-head" href="#sdl:ttf:getBlendedSurface">
        sdl:ttf:getBlendedSurface
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="t_ciLHaPJBk">Font pointer</span> <span class="doc-eff-id" data-scope="jTJH-Al_l48">Quote</span> <span class="doc-eff-id" data-scope="qZ6dQX1XnvI">Foreground color</span> -- <span class="doc-eff-id" data-scope="cXz4Ln6KKNI">Surface pointer</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Renders <span class="doc-eff-id" data-scope="jTJH-Al_l48">Quote</span> painted with <span class="doc-eff-id" data-scope="qZ6dQX1XnvI">Foreground color</span> (an <code>sdl:color~</code>), using font behind <span class="doc-eff-id" data-scope="t_ciLHaPJBk">Font pointer</span>. Leaves
<span class="doc-eff-id" data-scope="cXz4Ln6KKNI">Surface pointer</span> to a new surface containing the rendered quote,
<em>which you must free when it becomes unused</em>.</p>
<p>The sharpest but slowest way to render text. Text is blended
with whatever is behind.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sdl:ttf:size">
      <a class="word-doc-head" href="#sdl:ttf:size">
        sdl:ttf:size
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="7LQYRYYkWr8">Font pointer</span> <span class="doc-eff-id" data-scope="MpMmyc8gXFk">Quote</span> -- <span class="doc-eff-id" data-scope="IHZ_tLfOCCY">Width</span> <span class="doc-eff-id" data-scope="Q09nIgBFQes">Height</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Calculates and leaves <span class="doc-eff-id" data-scope="IHZ_tLfOCCY">Width</span> and <span class="doc-eff-id" data-scope="Q09nIgBFQes">Height</span> of <span class="doc-eff-id" data-scope="MpMmyc8gXFk">Quote</span>
rendered using the font behind <span class="doc-eff-id" data-scope="7LQYRYYkWr8">Font pointer</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="novika:version">
      <a class="word-doc-head" href="#novika:version">
        novika:version
        <span class="doc-head-effect">( -- Vq )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves Version of the frontend as a quote.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="novika:capabilities">
      <a class="word-doc-head" href="#novika:capabilities">
        novika:capabilities
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="exHY0VJwhcc">List block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Lists the ids of capabilities provided by the
frontend in <span class="doc-eff-id" data-scope="exHY0VJwhcc">List block</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Yours may differ!"</span>
<span class="token word doc-word">novika:capabilities</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token quote">'essential'</span> <span class="token quote">'colors'</span> <span class="token quote">'console'</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="withEchoFg">
      <a class="word-doc-head" href="#withEchoFg">
        withEchoFg
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="uyaUFLVkWvQ">Color</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Pushes <span class="doc-eff-id" data-scope="uyaUFLVkWvQ">Color</span> form onto the echo foreground
color stack.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="withEchoBg">
      <a class="word-doc-head" href="#withEchoBg">
        withEchoBg
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="8prnu5bSpbY">Color</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Pushes <span class="doc-eff-id" data-scope="8prnu5bSpbY">Color</span> form onto the echo background
color stack.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="dropEchoFg">
      <a class="word-doc-head" href="#dropEchoFg">
        dropEchoFg
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Drops a color from the echo foreground color stack.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="dropEchoBg">
      <a class="word-doc-head" href="#dropEchoBg">
        dropEchoBg
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Drops a color from the echo background color stack.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="withReverseAppendEcho">
      <a class="word-doc-head" href="#withReverseAppendEcho">
        withReverseAppendEcho
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="CV_817kTe-k">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Appends <span class="doc-eff-id" data-scope="CV_817kTe-k">Form</span> with foreground and background
colors swapped with each other (background color is set
to foreground color, and vice versa).</p>
<p>Note: if unsupported by the output stream, will print
<span class="doc-eff-id" data-scope="CV_817kTe-k">Form</span> as-is.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="withEmphasisAppendEcho">
      <a class="word-doc-head" href="#withEmphasisAppendEcho">
        withEmphasisAppendEcho
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="a5jD8yWH8Go">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">withColorAppendEcho</code>, but also emphasizes
echo of <span class="doc-eff-id" data-scope="a5jD8yWH8Go">Form</span>. Bold style is used by default, but implementors
may choose e.g. italic.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="withColorAppendEcho">
      <a class="word-doc-head" href="#withColorAppendEcho">
        withColorAppendEcho
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="JNOEOfEbN3U">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Appends <span class="doc-eff-id" data-scope="JNOEOfEbN3U">Form</span> with last color from the echo
foreground color stack set as foreground color, and
last color from the echo background stack set as background
color, to the standard output stream.</p>
<p>Note: some implementations (particularly Novika's default
implementation) choose to restrict foreground and background
colors to system's basic 16 colors for compatibility &amp;
portability. If you want more cross-platform control over
colors (and pretty much everything else), take a look at
console capability.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="appendEcho">
      <a class="word-doc-head" href="#appendEcho">
        appendEcho
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Alsgvr30Kuc">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Enquotes and appends <span class="doc-eff-id" data-scope="Alsgvr30Kuc">Form</span> to the standard
output stream.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="readLine">
      <a class="word-doc-head" href="#readLine">
        readLine
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="eN8B_yi8yJU">Prompt form</span> -- <span class="doc-eff-id" data-scope="He_MYCAEp1g">Answer quote</span> true / false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Enquotes and prints <span class="doc-eff-id" data-scope="eN8B_yi8yJU">Prompt form</span> to the standard output stream. Waits for the user
to answer, enquotes the answer and leaves it.</p>
<p>If user answered the prompt, leaves <span class="doc-eff-id" data-scope="He_MYCAEp1g">Answer quote</span> followed
by boolean true. Otherwise, leaves boolean false.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'What is your name? '</span> <span class="token word doc-word">readLine</span> <span class="token word doc-word">=></span><span class="token control"></span> <span class="token word doc-word">echo</span>

<span class="token comment">"INPUT: What is your name? John Doe⏎"</span>
<span class="token comment">"STDOUT: John Doe⏎"</span>

<span class="token comment">"INPUT: What is your name? &lt;Ctrl-D>"</span>
<span class="token comment">"[Program exits]"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="reportError">
      <a class="word-doc-head" href="#reportError">
        reportError
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ytelm6tPWTk">Error object</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Reports about an error to the standard error
stream, given an <span class="doc-eff-id" data-scope="ytelm6tPWTk">Error object</span>.</p>
<p>You can obtain an error object by, e.g., catching it
in <code>__died__</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="monotonic">
      <a class="word-doc-head" href="#monotonic">
        monotonic
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="Iyjujv3-EZ4">Reading</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves a <span class="doc-eff-id" data-scope="Iyjujv3-EZ4">Reading</span> from the monotonic clock to
measure elapsed time, in milliseconds.</p>
<p>Values from the monotonic clock and wall clock are not
comparable. Monotonic clock should be independent from
discontinuous jumps in the system time, such as leap
seconds, time zone adjustments or manual changes to the
computer's clock.</p>
<pre class="language-novika"><code class="language-novika"><span class="token word doc-word">monotonic</span> <span class="token word doc-word">$:</span> <span class="token word">start</span>
<span class="token decimal">20</span> <span class="token word doc-word">nap</span>
<span class="token word doc-word">monotonic</span> <span class="token word doc-word">$:</span> <span class="token word">end</span>
<span class="token word">end</span> <span class="token word">start</span> <span class="token word doc-word">-</span><span class="token magnitudal"></span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 20⏎ (approximately)"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="nap">
      <a class="word-doc-head" href="#nap">
        nap
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="_ZPLvfV3JYU">Duration</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Sleeps a <span class="doc-eff-id" data-scope="_ZPLvfV3JYU">Duration</span> of time, given in <em>milliseconds</em>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="bye">
      <a class="word-doc-head" href="#bye">
        bye
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="LUWNVzV-1Rk">Exit code</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Ends the program with the given decimal <span class="doc-eff-id" data-scope="LUWNVzV-1Rk">Exit code</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="rgb">
      <a class="word-doc-head" href="#rgb">
        rgb
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="q13FXpuEng4">Red</span> <span class="doc-eff-id" data-scope="GJ8mIJ0SH5c">Green</span> <span class="doc-eff-id" data-scope="PO4h7oUaOKs">Blue</span> -- <span class="doc-eff-id" data-scope="hUU3w-XQKuA">Color form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a <span class="doc-eff-id" data-scope="hUU3w-XQKuA">Color form</span> from three decimals
<span class="doc-eff-id" data-scope="q13FXpuEng4">Red</span> (0-255), <span class="doc-eff-id" data-scope="GJ8mIJ0SH5c">Green</span> (0-255), and <span class="doc-eff-id" data-scope="PO4h7oUaOKs">Blue</span> (0-255).</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">36</span> <span class="token decimal">255</span> <span class="token decimal">255</span> <span class="token word doc-word">rgb</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(36, 255 ,255)'</span>
<span class="token word">```</span>'</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="getRGB">
      <a class="word-doc-head" href="#getRGB">
        getRGB
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="1qX-JibSVmc">Color form</span> -- <span class="doc-eff-id" data-scope="0UfCzlxPAAY">Red</span> <span class="doc-eff-id" data-scope="yWcNzX4Ioqg">Green</span> <span class="doc-eff-id" data-scope="cIc1oyGbIXE">Blue</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="0UfCzlxPAAY">Red</span>, <span class="doc-eff-id" data-scope="yWcNzX4Ioqg">Green</span>, <span class="doc-eff-id" data-scope="cIc1oyGbIXE">Blue</span> values for a
<span class="doc-eff-id" data-scope="1qX-JibSVmc">Color form</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token decimal">25</span> <span class="token decimal">3</span> <span class="token word doc-word">rgb</span> <span class="token comment">"rgb(0, 25, 3)"</span> <span class="token word doc-word">getRGB</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">0</span> <span class="token decimal">25</span> <span class="token decimal">3</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="hsl">
      <a class="word-doc-head" href="#hsl">
        hsl
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="PbsLhnJw58Q">Hue</span> <span class="doc-eff-id" data-scope="A4pCcngzWUY">Saturation</span> <span class="doc-eff-id" data-scope="YLQvC7DL-SI">Lightness</span> -- <span class="doc-eff-id" data-scope="_pmgd18l_PA">Color form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a <span class="doc-eff-id" data-scope="_pmgd18l_PA">Color form</span> from three decimals
<span class="doc-eff-id" data-scope="PbsLhnJw58Q">Hue</span> (0-360, degrees), <span class="doc-eff-id" data-scope="A4pCcngzWUY">Saturation</span> (0-100, percents),
<span class="doc-eff-id" data-scope="YLQvC7DL-SI">Lightness</span> (0-100, percents).</p>
<p>Since color forms are stored in RGB, the HSL color is
first converted into RGB.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">206</span> <span class="token decimal">35</span> <span class="token decimal">46</span> <span class="token word doc-word">hsl</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(76, 123, 158)'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="getHSL">
      <a class="word-doc-head" href="#getHSL">
        getHSL
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="0wYnSbybztM">Color form</span> -- <span class="doc-eff-id" data-scope="vqhZZkq8WOE">Hue</span> <span class="doc-eff-id" data-scope="bOOTJQb_v0k">Saturation</span> <span class="doc-eff-id" data-scope="NXTuue-GpdM">Lightness</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="vqhZZkq8WOE">Hue</span>, <span class="doc-eff-id" data-scope="bOOTJQb_v0k">Saturation</span>, <span class="doc-eff-id" data-scope="NXTuue-GpdM">Lightness</span> for
a <span class="doc-eff-id" data-scope="0wYnSbybztM">Color form</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">206</span> <span class="token decimal">35</span> <span class="token decimal">46</span> <span class="token word doc-word">hsl</span> <span class="token comment">"rgb(76, 123, 158)"</span> <span class="token word doc-word">getHSL</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">206</span> <span class="token decimal">35</span> <span class="token decimal">46</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="hsv">
      <a class="word-doc-head" href="#hsv">
        hsv
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="vqwxH-ir5O8">Hue</span> <span class="doc-eff-id" data-scope="FqQ_z9LGV_8">Saturation</span> <span class="doc-eff-id" data-scope="1BR4Z0kFxus">Value</span> -- <span class="doc-eff-id" data-scope="cr6wSeJg1qU">Color form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a <span class="doc-eff-id" data-scope="cr6wSeJg1qU">Color form</span> from three decimals
<span class="doc-eff-id" data-scope="vqwxH-ir5O8">Hue</span> (0-360, degrees), <span class="doc-eff-id" data-scope="FqQ_z9LGV_8">Saturation</span> (0-100, percents),
<span class="doc-eff-id" data-scope="1BR4Z0kFxus">Value</span> (0-100, percents).</p>
<p>Since color forms are stored in RGB, the HSV color is
first converted into RGB.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">120</span> <span class="token decimal">100</span> <span class="token decimal">100</span> <span class="token word doc-word">hsv</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(0, 255, 0)'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="getHSV">
      <a class="word-doc-head" href="#getHSV">
        getHSV
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="XWSPiULfOgw">Color form</span> -- <span class="doc-eff-id" data-scope="jnuIQu4wzVc">Hue</span> <span class="doc-eff-id" data-scope="0XlpMFbvjO4">Saturation</span> <span class="doc-eff-id" data-scope="wV5O-F8fCC4">Value</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="jnuIQu4wzVc">Hue</span>, <span class="doc-eff-id" data-scope="0XlpMFbvjO4">Saturation</span>, <span class="doc-eff-id" data-scope="wV5O-F8fCC4">Value</span> for a
<span class="doc-eff-id" data-scope="XWSPiULfOgw">Color form</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">180</span> <span class="token decimal">100</span> <span class="token decimal">50</span> <span class="token word doc-word">hsv</span> <span class="token comment">"rgb(0,128,128)"</span> <span class="token word doc-word">getHSV</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">180</span> <span class="token decimal">100</span> <span class="token decimal">50</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="lch">
      <a class="word-doc-head" href="#lch">
        lch
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="o1At7Ju_34M">Lightness</span> <span class="doc-eff-id" data-scope="G1u4cIPUfUM">Chroma</span> <span class="doc-eff-id" data-scope="8uR02ZTU9tQ">Hue</span> -- <span class="doc-eff-id" data-scope="5dfom1pzDeA">Color form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a <span class="doc-eff-id" data-scope="5dfom1pzDeA">Color form</span> from three decimals
<span class="doc-eff-id" data-scope="o1At7Ju_34M">Lightness</span> (0-100), <span class="doc-eff-id" data-scope="G1u4cIPUfUM">Chroma</span> (0-132), <span class="doc-eff-id" data-scope="8uR02ZTU9tQ">Hue</span> (0-360).</p>
<p>Since color forms are stored as RGB, the LCH color is
first converted into RGB.</p>
<p>LCH colors are tricky to implement but very fun to use.
That's why they're in Novika's standard library.</p>
<p>CIELAB encloses more colors than sRGB, so some conversion
imprecisions <em>are</em> to be expected because some colors just
fall out of sRGB gamut (lossiness is especially noticeable
in LCH -&gt; RGB -&gt; LCH conversions, but it stabilizes on the
last step because the last step's LCH is guraranteed to be
inside the sRGB gamut).</p>
<p>Any color out of the sRGB gamut is brought into the sRGB
gamut by lowering chroma until it's in the sRGB bounds.</p>
<p>Here is a 'good' conversion, meaning it nicely closes
on itself:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">78</span> <span class="token decimal">74</span> <span class="token decimal">133</span> <span class="token word doc-word">lch</span> <span class="token word doc-word">$:</span> <span class="token word">color</span>

<span class="token word">color</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(122, 215, 85)'</span>
<span class="token word">color</span> <span class="token word doc-word">getLCH</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">78</span> <span class="token decimal">74</span> <span class="token decimal">133</span> ]
<span class="token word">color</span> <span class="token word doc-word">getLCH</span> <span class="token word doc-word">lch</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(122, 215, 85)'</span>'
<span class="token comment">"And so on..."</span>
</code></pre>
<p>And here is a bad conversion. At first, though, for it
does stabilize after a few rounds as it falls firmly
into the sRGB color space.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">74</span> <span class="token decimal">107</span> <span class="token decimal">26</span> <span class="token word doc-word">lch</span> <span class="token word doc-word">$:</span> <span class="token word">color</span>
<span class="token word">color</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(255, 154, 151)'</span>

<span class="token comment">"Note how many chroma units we lose! Plus, Lab and
 LCH have hue shift on chroma changes, hence 26 -> 25."</span>
<span class="token word">color</span> <span class="token word doc-word">getLCH</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">74</span> <span class="token decimal">41</span> <span class="token decimal">25</span> ]

<span class="token word">color</span> <span class="token word doc-word">getLCH</span> <span class="token word doc-word">lch</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(255, 154, 152)'</span>

<span class="token word">color</span> <span class="token word doc-word">getLCH</span> <span class="token word doc-word">lch</span> <span class="token word doc-word">getLCH</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">74</span> <span class="token decimal">41</span> <span class="token decimal">25</span> ]
<span class="token comment">"... and so on, conversion had stabilized ..."</span>
</code></pre>
<p>You don't necessarily have to think about this, because
the resulting colors do look very similar, differing in
points rather than magnitudes. Just be aware that the
conversion method used by this word and <code class="inline-word-ref">getLCH</code> is lossy
in some cases.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="getLCH">
      <a class="word-doc-head" href="#getLCH">
        getLCH
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="CM9boaRE_JE">Color form</span> -- <span class="doc-eff-id" data-scope="blEOEkOdg5M">Lightness</span> <span class="doc-eff-id" data-scope="aHAG0hQ5fOY">Chroma</span> <span class="doc-eff-id" data-scope="ocSc5Z3CyGY">Hue</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="blEOEkOdg5M">Lightness</span>, <span class="doc-eff-id" data-scope="aHAG0hQ5fOY">Chroma</span>, <span class="doc-eff-id" data-scope="ocSc5Z3CyGY">Hue</span> for a <span class="doc-eff-id" data-scope="CM9boaRE_JE">Color form</span>. Please read documentation for <code class="inline-word-ref">lch</code> to understand
why <code>a b c lch getLCH</code> might not leave <code>a b c</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">78</span> <span class="token decimal">74</span> <span class="token decimal">133</span> <span class="token word doc-word">lch</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(122, 215, 85)'</span>
<span class="token decimal">78</span> <span class="token decimal">74</span> <span class="token decimal">133</span> <span class="token word doc-word">lch</span> <span class="token word doc-word">getLCH</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">78</span> <span class="token decimal">74</span> <span class="token decimal">133</span> ]

<span class="token decimal">74</span> <span class="token decimal">107</span> <span class="token decimal">26</span> <span class="token word doc-word">lch</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(255, 154, 152)'</span>

<span class="token comment">"Chroma lowered to fit into sRGB. Lab and LCH have hue
 shift on chroma changes, 26 -> 25"</span>
<span class="token decimal">74</span> <span class="token decimal">107</span> <span class="token decimal">26</span> <span class="token word doc-word">lch</span> <span class="token word doc-word">getLCH</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">74</span> <span class="token decimal">41</span> <span class="token decimal">25</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="withAlpha">
      <a class="word-doc-head" href="#withAlpha">
        withAlpha
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="t73nfGFwWL0">Color form</span> <span class="doc-eff-id" data-scope="OaEc3JdCocw">Alpha</span> -- <span class="doc-eff-id" data-scope="t73nfGFwWL0">Color form</span>' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="t73nfGFwWL0">Color form</span> with alpha channel
set to <span class="doc-eff-id" data-scope="OaEc3JdCocw">Alpha</span> (0-255).</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token decimal">25</span> <span class="token decimal">3</span> <span class="token word doc-word">rgb</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(0, 25, 3)'</span>
<span class="token decimal">0</span> <span class="token decimal">25</span> <span class="token decimal">3</span> <span class="token word doc-word">rgb</span> <span class="token decimal">100</span> <span class="token word doc-word">withAlpha</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgba(0, 25, 3, 100)'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="getAlpha">
      <a class="word-doc-head" href="#getAlpha">
        getAlpha
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="3xAjaj_90yE">Color form</span> -- <span class="doc-eff-id" data-scope="m5Py9rwGyq4">Alpha</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="m5Py9rwGyq4">Alpha</span> for the given <span class="doc-eff-id" data-scope="3xAjaj_90yE">Color form</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token decimal">25</span> <span class="token decimal">3</span> <span class="token word doc-word">rgb</span> <span class="token word doc-word">getAlpha</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">255</span> <span class="token comment">"Opaque = 255"</span>
<span class="token decimal">0</span> <span class="token decimal">25</span> <span class="token decimal">3</span> <span class="token word doc-word">rgb</span> <span class="token decimal">100</span> <span class="token word doc-word">withAlpha</span> <span class="token word doc-word">getAlpha</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="fromPalette">
      <a class="word-doc-head" href="#fromPalette">
        fromPalette
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ngITCzzecMc">Color from</span> <span class="doc-eff-id" data-scope="Mqmqa1Ih4bM">Palette block</span> -- <span class="doc-eff-id" data-scope="p8ZFCvp3-ow">Closest color</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="p8ZFCvp3-ow">Closest color</span> form to <span class="doc-eff-id" data-scope="ngITCzzecMc">Color from</span>
a <span class="doc-eff-id" data-scope="Mqmqa1Ih4bM">Palette block</span>. How close the color is is determined by
distance: the <span class="doc-eff-id" data-scope="p8ZFCvp3-ow">Closest color</span> is that color in <span class="doc-eff-id" data-scope="Mqmqa1Ih4bM">Palette block</span>
to which Color has least (minimum) distance.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span>
  <span class="token decimal">255</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span>
  <span class="token decimal">0</span> <span class="token decimal">255</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span>
  <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token decimal">255</span> <span class="token word doc-word">rgb</span>
  <span class="token decimal">255</span> <span class="token decimal">255</span> <span class="token decimal">255</span> <span class="token word doc-word">rgb</span>
] <span class="token word doc-word">vals</span> <span class="token word doc-word">$:</span> <span class="token word">pal</span>

<span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span> <span class="token word">pal</span> <span class="token word doc-word">fromPalette</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(0, 0, 0)'</span>
<span class="token decimal">76</span> <span class="token decimal">175</span> <span class="token decimal">80</span> <span class="token word doc-word">rgb</span> <span class="token word">pal</span> <span class="token word doc-word">fromPalette</span> <span class="token comment">"greenish"</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(0, 255, 0)'</span>
<span class="token decimal">220</span> <span class="token decimal">237</span> <span class="token decimal">200</span> <span class="token word doc-word">rgb</span> <span class="token word">pal</span> <span class="token word doc-word">fromPalette</span> <span class="token comment">"very light green"</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(255, 255, 255)'</span>
<span class="token decimal">74</span> <span class="token decimal">20</span> <span class="token decimal">140</span> <span class="token word doc-word">rgb</span> <span class="token word">pal</span> <span class="token word doc-word">fromPalette</span> <span class="token comment">"very dark purple"</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(255, 0, 0)'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="prototype">
      <a class="word-doc-head" href="#prototype">
        prototype
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="1k_ND1msEvU">Block</span> -- <span class="doc-eff-id" data-scope="fauIT6P52us">Prototype</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="fauIT6P52us">Prototype</span> of <span class="doc-eff-id" data-scope="1k_ND1msEvU">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="parent">
      <a class="word-doc-head" href="#parent">
        parent
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="WVsB0deJ34M">Block</span> -- <span class="doc-eff-id" data-scope="BZkC-PShuts">Parent</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="BZkC-PShuts">Parent</span> of <span class="doc-eff-id" data-scope="WVsB0deJ34M">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="address">
      <a class="word-doc-head" href="#address">
        address
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="A6d92gTQIJ8">Block</span> -- <span class="doc-eff-id" data-scope="9P3CzTm6tTA">Address</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves pointer <span class="doc-eff-id" data-scope="9P3CzTm6tTA">Address</span> of <span class="doc-eff-id" data-scope="A6d92gTQIJ8">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="conts">
      <a class="word-doc-head" href="#conts">
        conts
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="WGlDmxNCWKg">Continuations block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Pushes the <span class="doc-eff-id" data-scope="WGlDmxNCWKg">Continuations block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="cont">
      <a class="word-doc-head" href="#cont">
        cont
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="gcRL7p3QRyI">Continuation block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Pushes the <span class="doc-eff-id" data-scope="gcRL7p3QRyI">Continuation block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="newContinuation">
      <a class="word-doc-head" href="#newContinuation">
        newContinuation
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="tAP1m-v5_cE">Stack</span> <span class="doc-eff-id" data-scope="VF0LxBN0XBs">Block</span> -- <span class="doc-eff-id" data-scope="mzrsA_80fIo">Continuation</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a <span class="doc-eff-id" data-scope="mzrsA_80fIo">Continuation</span> from a <span class="doc-eff-id" data-scope="tAP1m-v5_cE">Stack</span> and
a <span class="doc-eff-id" data-scope="VF0LxBN0XBs">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="getContBlock">
      <a class="word-doc-head" href="#getContBlock">
        getContBlock
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="DVagqe7aMPw">Continuation</span> -- <span class="doc-eff-id" data-scope="kTqczY4SCbo">Code block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="kTqczY4SCbo">Code block</span> of a <span class="doc-eff-id" data-scope="DVagqe7aMPw">Continuation</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="getContStack">
      <a class="word-doc-head" href="#getContStack">
        getContStack
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="D_ckBCeI5go">Continuation</span> -- <span class="doc-eff-id" data-scope="J8WLrMglku0">Stack block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="J8WLrMglku0">Stack block</span> of a <span class="doc-eff-id" data-scope="D_ckBCeI5go">Continuation</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="this">
      <a class="word-doc-head" href="#this">
        this
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="Li6VtzYDFmc">Block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Pushes the <span class="doc-eff-id" data-scope="Li6VtzYDFmc">Block</span> it's opened in.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: [ this ]⏎ (instance of `[ this ]`)"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="stack">
      <a class="word-doc-head" href="#stack">
        stack
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="vkAnqGhVddY">Stack</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Pushes the <span class="doc-eff-id" data-scope="vkAnqGhVddY">Stack</span> it's opened in.</p>
<pre class="language-novika"><code class="language-novika"><span class="token word doc-word">stack</span><span class="token stackworks"></span> <span class="token word doc-word">dup</span><span class="token stackworks"></span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: [ ⭮ ]⏎"</span>

<span class="token quote">'foo'</span> <span class="token word doc-word">&lt;&lt;</span>
<span class="token word doc-word">stack</span><span class="token stackworks"></span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: [ ⭮ 'foo' ]⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ahead">
      <a class="word-doc-head" href="#ahead">
        ahead
        <span class="doc-head-effect">( -- B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the block that will be executed after
<code class="inline-word-ref">this</code> finishes.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> [ <span class="token word doc-word">ahead</span><span class="token control"></span> <span class="token decimal">1</span> <span class="token word doc-word">inject</span><span class="token blockworks"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">101</span> <span class="token comment">"(i.e. 100 1 +)"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="resume">
      <a class="word-doc-head" href="#resume">
        resume
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="7hRoX6X6PP8">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Closes blocks all the way up to, but not
including, <span class="doc-eff-id" data-scope="7hRoX6X6PP8">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="dup">
      <a class="word-doc-head" href="#dup">
        dup
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Ehj8qvJDurc">Form</span> -- <span class="doc-eff-id" data-scope="Ehj8qvJDurc">Form</span> <span class="doc-eff-id" data-scope="Ehj8qvJDurc">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Duplicates the <span class="doc-eff-id" data-scope="Ehj8qvJDurc">Form</span> before cursor.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello'</span> <span class="token word doc-word">dup</span><span class="token stackworks"></span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token quote">'hello'</span> <span class="token quote">'hello'</span> ]

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word">|</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">block</span>
<span class="token word">block</span> [ <span class="token word doc-word">dup</span><span class="token stackworks"></span> ] <span class="token word doc-word">hydrate</span><span class="token control"></span>
<span class="token word">block</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">2</span> <span class="token word">|</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="drop">
      <a class="word-doc-head" href="#drop">
        drop
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="dLRHOUmFLOg">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Drops the <span class="doc-eff-id" data-scope="dLRHOUmFLOg">Form</span> before cursor.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello'</span> <span class="token word doc-word">drop</span><span class="token stackworks"></span> <span class="token leaves word doc-word">leaves:</span> [ ]

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word">|</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">block</span>
<span class="token word">block</span> [ <span class="token word doc-word">drop</span><span class="token stackworks"></span> ] <span class="token word doc-word">hydrate</span><span class="token control"></span>
<span class="token word">block</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="swap">
      <a class="word-doc-head" href="#swap">
        swap
        <span class="doc-head-effect">( A B -- B A )</span>
      </a>
      <div class="word-doc-desc">
        <p>Swaps two Forms before cursor.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">swap</span><span class="token stackworks"></span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">2</span> <span class="token decimal">1</span> ]

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word">|</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">block</span>
<span class="token word">block</span> [ <span class="token word doc-word">swap</span><span class="token stackworks"></span> ] <span class="token word doc-word">hydrate</span><span class="token control"></span>
<span class="token word">block</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="hydrate">
      <a class="word-doc-head" href="#hydrate">
        hydrate
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="oOxVO-MgNfc">Stack</span> <span class="doc-eff-id" data-scope="ZfEMiSomCeI">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens (evaluates) <span class="doc-eff-id" data-scope="ZfEMiSomCeI">Form</span> with <span class="doc-eff-id" data-scope="oOxVO-MgNfc">Stack</span> set as the
active stack. If <span class="doc-eff-id" data-scope="ZfEMiSomCeI">Form</span> is not a block, it is added to
<span class="doc-eff-id" data-scope="oOxVO-MgNfc">Stack</span> (equivalent to <code class="inline-word-ref">&lt;&lt;</code>), If <span class="doc-eff-id" data-scope="ZfEMiSomCeI">Form</span> is a block, its
instance is opened. To open a block without creating
an instance of it (unsafe), use <code class="inline-word-ref">hydrate!</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="hydrate!">
      <a class="word-doc-head" href="#hydrate!">
        hydrate!
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="tL32J9GnHt4">Stack</span> <span class="doc-eff-id" data-scope="PSCXKz7h4UI">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens (evaluates) <span class="doc-eff-id" data-scope="PSCXKz7h4UI">Form</span> with <span class="doc-eff-id" data-scope="tL32J9GnHt4">Stack</span> set as the
active stack. If <span class="doc-eff-id" data-scope="PSCXKz7h4UI">Form</span> is not a block, the behavior is
the same as in <code class="inline-word-ref">hydrate</code>. If <span class="doc-eff-id" data-scope="PSCXKz7h4UI">Form</span> is a block, performs
unsafe hydration (hydrates without making an instance
of the block). For a safer alternative, see <code class="inline-word-ref">hydrate</code>.
Use if you know what you're doing, or if you're ready
to make an instance yourself.</p>
<p>Details: <code class="inline-word-ref">hydrate!</code> is considered unsafe because hydration
artifacts are exposed to the user and/or its blocks. The
contents of a block after hydration may differ from its
contents before unsafe hydration. Indeed, <code class="inline-word-ref">hydrate!</code> is
almost as unsafe as pushing into <code class="inline-word-ref">conts</code>; the only benefit
it provides is that it is able to catch infinite/very
deep recursion.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="open">
      <a class="word-doc-head" href="#open">
        open
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="smk5d_fekPw">Form</span> -- <span class="doc-eff-id" data-scope="smk5d_fekPw">Form</span>' )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="smk5d_fekPw">Form</span> in the active stack. Equivalent
to <code>stack F hydrate</code>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>

<span class="token decimal">1</span> [ <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="there">
      <a class="word-doc-head" href="#there">
        there
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="wVsy2dwv3pc">Stack</span> <span class="doc-eff-id" data-scope="gr-692KWLSc">Block</span> -- <span class="doc-eff-id" data-scope="wVsy2dwv3pc">Stack</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="gr-692KWLSc">Block</span> with <span class="doc-eff-id" data-scope="wVsy2dwv3pc">Stack</span> set as the active
stack. Leaves <span class="doc-eff-id" data-scope="wVsy2dwv3pc">Stack</span>. Ahead is transferred to block.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] [ <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">there</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">3</span> ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> ] [ <span class="token word doc-word">ahead</span><span class="token control"></span> <span class="token word doc-word">thruBlock</span> <span class="token word doc-word">open</span><span class="token control"></span> ] <span class="token word doc-word">there</span><span class="token control"></span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="do">
      <a class="word-doc-head" href="#do">
        do
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="kOfwCc79Vkc">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="kOfwCc79Vkc">Form</span> with an empty stack activated, and
disposed when <span class="doc-eff-id" data-scope="kOfwCc79Vkc">Form</span> has been evaluated.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token quote">'Hi!'</span> <span class="token word doc-word">echo</span> ] <span class="token word doc-word">do</span><span class="token control"></span>
<span class="token comment">"STDOUT: Hi!⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="new">
      <a class="word-doc-head" href="#new">
        new
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="1V0QLcPL3Yk">Block</span> -- <span class="doc-eff-id" data-scope="ACiaaDB7aSk">Instance</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves an <span class="doc-eff-id" data-scope="ACiaaDB7aSk">Instance</span> of a <span class="doc-eff-id" data-scope="1V0QLcPL3Yk">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="shallowNew">
      <a class="word-doc-head" href="#shallowNew">
        shallowNew
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="7oZZXu5C0hI">Block</span> -- <span class="doc-eff-id" data-scope="G5CIIqhTzms">Shallow instance</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves a <span class="doc-eff-id" data-scope="G5CIIqhTzms">Shallow instance</span> of <span class="doc-eff-id" data-scope="7oZZXu5C0hI">Block</span>.</p>
<p><code class="inline-word-ref">shallowNew</code> is different from <code class="inline-word-ref">new</code> in that it does not force-
reparent sub-blocks to the parent instance, and so on recursively --
sometimes such behavior is not desired.</p>
<p>The difference is very subtle, and you mostly don't need to care.
As a word implementor you should, however, choose carefully between
<code class="inline-word-ref">new</code>, <code class="inline-word-ref">shallowNew</code>, and <code class="inline-word-ref">shallowCopy</code> (and perhaps <code class="inline-word-ref">toTape</code> too).
Novika is all about blocks, and there are different ways to copy,
instantiate, and work with them.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">$:</span> <span class="token word">x</span> [ <span class="token word">x</span> ] ] <span class="token word doc-word">@:</span> <span class="token word">newBox</span>

<span class="token decimal">1</span> <span class="token word">newBox</span> <span class="token word doc-word">$:</span> <span class="token word">fooBox1</span>
<span class="token decimal">2</span> <span class="token word">newBox</span> <span class="token word doc-word">$:</span> <span class="token word">fooBox2</span>
<span class="token decimal">3</span> <span class="token word">newBox</span> <span class="token word doc-word">$:</span> <span class="token word">fooBox3</span>

<span class="token word">fooBox1</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token word">fooBox2</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>
<span class="token word">fooBox3</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>

[ <span class="token word">fooBox1</span> <span class="token word">fooBox2</span> <span class="token word">fooBox3</span> ] <span class="token word doc-word">vals</span> <span class="token word doc-word">$:</span> <span class="token word">boxes</span>

<span class="token word">boxes</span> <span class="token decimal">0</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token word">boxes</span> <span class="token decimal">1</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>
<span class="token comment">"... and so on, as you'd expect. However, let's try to instantiate boxes:"</span>

<span class="token word">boxes</span> <span class="token word doc-word">new</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">$:</span> <span class="token word">boxesInstance</span>
<span class="token word">boxesInstance</span> <span class="token decimal">0</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token comment">"DIES: x is undefined"</span>
<span class="token word">boxesInstance</span> <span class="token decimal">1</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token comment">"DIES: x is undefined"</span>
<span class="token word">boxesInstance</span> <span class="token decimal">2</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token comment">"DIES: x is undefined"</span>

<span class="token comment">"Maybe defining 'x' on boxesInstance can shed some light?"</span>
<span class="token word">boxesInstance</span> <span class="token word doc-word">extend:</span> [ <span class="token quote">'Hello from boxesInstance'</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ]
<span class="token word">boxesInstance</span> <span class="token decimal">0</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'Hello from boxesInstance'</span>
<span class="token word">boxesInstance</span> <span class="token decimal">1</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'Hello from boxesInstance'</span>
<span class="token word">boxesInstance</span> <span class="token decimal">2</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'Hello from boxesInstance'</span>

<span class="token comment">"You've witnessed the so-called *force-reparenting* done by 'new'.
 Let's try using 'shallowNew' for our boxesInstance."</span>

<span class="token word">boxes</span> <span class="token word doc-word">shallowNew</span> <span class="token word doc-word">$:</span> <span class="token word">shallowBoxesInstance</span>
<span class="token word">shallowBoxesInstance</span> <span class="token decimal">0</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token word">shallowBoxesInstance</span> <span class="token decimal">1</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>
<span class="token word">shallowBoxesInstance</span> <span class="token decimal">2</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span><span class="token blockworks"></span> <span class="token word doc-word">open</span><span class="token control"></span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>

<span class="token comment">"Works as expected! Note that sub-blocks are exactly the same as
 those in the original 'boxes' block. However, 'shallowBoxesInstance'
 and 'boxes' are different blocks now:"</span>

<span class="token word">(shallowBoxesInstance</span> <span class="token decimal">0</span> <span class="token word">fromLeft)</span> <span class="token word">(boxes</span> <span class="token decimal">0</span> <span class="token word">fromLeft)</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span><span class="token boolean"></span><span class="token boolean"></span>
<span class="token word">(shallowBoxesInstance</span> <span class="token decimal">1</span> <span class="token word">fromLeft)</span> <span class="token word">(boxes</span> <span class="token decimal">1</span> <span class="token word">fromLeft)</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span><span class="token boolean"></span><span class="token boolean"></span>
<span class="token word">(shallowBoxesInstance</span> <span class="token decimal">2</span> <span class="token word">fromLeft)</span> <span class="token word">(boxes</span> <span class="token decimal">2</span> <span class="token word">fromLeft)</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span><span class="token boolean"></span><span class="token boolean"></span>

<span class="token word">boxes</span> <span class="token word">shallowBoxesInstance</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span><span class="token boolean"></span><span class="token boolean"></span>

<span class="token comment">"... and 'shallowBoxesInstance' does indeed have 'boxes' as its parent:"</span>

<span class="token word">(shallowBoxesInstance</span> <span class="token word">parent)</span> <span class="token word">boxes</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span><span class="token boolean"></span><span class="token boolean"></span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sel">
      <a class="word-doc-head" href="#sel">
        sel
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="7sx5pvSwZE8">Determiner</span> A B -- A/B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Selects A (<span class="doc-eff-id" data-scope="7sx5pvSwZE8">Determiner</span> is truthy) or B
(<span class="doc-eff-id" data-scope="7sx5pvSwZE8">Determiner</span> is falsey)</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="br">
      <a class="word-doc-head" href="#br">
        br
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="45Tj7xo8I3M">Determiner</span> <span class="doc-eff-id" data-scope="TMcbtVtnc88">True</span> <span class="doc-eff-id" data-scope="znZdJx68kK4">False</span> -- ? )</span>
      </a>
      <div class="word-doc-desc">
        <p>Opens <span class="doc-eff-id" data-scope="TMcbtVtnc88">True</span>/<span class="doc-eff-id" data-scope="znZdJx68kK4">False</span> forms depending on
<span class="doc-eff-id" data-scope="45Tj7xo8I3M">Determiner</span> being true/false.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="&lt;">
      <a class="word-doc-head" href="#&lt;">
        &lt;
        <span class="doc-head-effect">( A B -- S )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether A is smaller than (less than) B.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="same?">
      <a class="word-doc-head" href="#same?">
        same?
        <span class="doc-head-effect">( F1 F2 -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether two Forms are the
same (by reference for block, by value for any other form).</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token decimal">1</span> <span class="token decimal">1</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

<span class="token quote">'hello'</span> <span class="token quote">'hello world'</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token quote">'hello'</span> <span class="token quote">'hello'</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

<span class="token comment">"etc..."</span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">$:</span> <span class="token word">b1</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">$:</span> <span class="token word">b2</span>

<span class="token word">b1</span> <span class="token word">b2</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token comment">"They're different blocks, content doesn't matter!"</span>

<span class="token word">b1</span> <span class="token word">b1</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token word">b2</span> <span class="token word">b2</span> <span class="token word doc-word">same?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="=">
      <a class="word-doc-head" href="#=">
        =
        <span class="doc-head-effect">( F1 F2 -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether two Forms are equal by
content (they may or may not be the same forms reference-wise,
i.e., those for which <code class="inline-word-ref">same?</code> would leave true).</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">=</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token decimal">1</span> <span class="token decimal">1</span> <span class="token word doc-word">=</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

<span class="token quote">'hello'</span> <span class="token quote">'hello world'</span> <span class="token word doc-word">=</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token quote">'hello'</span> <span class="token quote">'hello'</span> <span class="token word doc-word">=</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

<span class="token comment">"etc..."</span>

[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">$:</span> <span class="token word">b1</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token word doc-word">+</span><span class="token magnitudal"></span> ] <span class="token word doc-word">$:</span> <span class="token word">b2</span>

<span class="token word">b1</span> <span class="token word">b2</span> <span class="token word doc-word">=</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span> <span class="token comment">"They're equal by content!"</span>

<span class="token word">b1</span> <span class="token word">b1</span> <span class="token word doc-word">=</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token word">b2</span> <span class="token word">b2</span> <span class="token word doc-word">=</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

<span class="token comment">"Supports self-reference:"</span>
[ ] <span class="token word doc-word">$:</span> <span class="token word">b3</span>
<span class="token word">b3</span> <span class="token word">b3</span> <span class="token word doc-word">shove</span><span class="token blockworks"></span>
<span class="token word">b3</span> <span class="token word">b3</span> <span class="token word doc-word">=</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token word">(b3</span> <span class="token word">first)</span> <span class="token word">b3</span> <span class="token word doc-word">=</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token comment">"etc..."</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="anyof?">
      <a class="word-doc-head" href="#anyof?">
        anyof?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="fLq6ne6UCfE">Form</span> <span class="doc-eff-id" data-scope="kjeNZK1aDwI">Block</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether any form in <span class="doc-eff-id" data-scope="kjeNZK1aDwI">Block</span> is
equal (via <code class="inline-word-ref">=</code>) to <span class="doc-eff-id" data-scope="fLq6ne6UCfE">Form</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">anyof?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'hello'</span> [ <span class="token quote">'hello'</span> <span class="token quote">'world'</span> <span class="token decimal">1</span> ] <span class="token word doc-word">anyof?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'hello'</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">anyof?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="occurrences">
      <a class="word-doc-head" href="#occurrences">
        occurrences
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="uYA5Zynkpgw">Block</span>/<span class="doc-eff-id" data-scope="NLIBu2HOeis">Quote</span> <span class="doc-eff-id" data-scope="DjT65TPTDEg">Pattern form</span>/<span class="doc-eff-id" data-scope="0_h4Dqk98lE">Pattern quote</span> -- <span class="doc-eff-id" data-scope="K-h2_ip2Y4I">Begin indices</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="K-h2_ip2Y4I">Begin indices</span> of all occurrences
of <span class="doc-eff-id" data-scope="DjT65TPTDEg">Pattern form</span>/<span class="doc-eff-id" data-scope="0_h4Dqk98lE">Pattern quote</span> in <span class="doc-eff-id" data-scope="uYA5Zynkpgw">Block</span>/<span class="doc-eff-id" data-scope="NLIBu2HOeis">Quote</span>. <span class="doc-eff-id" data-scope="K-h2_ip2Y4I">Begin indices</span>
is an orphan with no entries.</p>
<p>Works in a similar way to <code class="inline-word-ref">anyof?</code> in that it compares each
element of the <span class="doc-eff-id" data-scope="uYA5Zynkpgw">Block</span>/<span class="doc-eff-id" data-scope="NLIBu2HOeis">Quote</span> with <span class="doc-eff-id" data-scope="DjT65TPTDEg">Pattern form</span>/<span class="doc-eff-id" data-scope="0_h4Dqk98lE">Pattern quote</span>
like <code class="inline-word-ref">=</code> (but not using <code class="inline-word-ref">=</code>, at least in the quote case
where KMP is used).</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token decimal">123</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]

[ <span class="token decimal">1</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">1</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token decimal">8</span> ] <span class="token word doc-word">$:</span> <span class="token word">haystack</span>
<span class="token word">haystack</span> <span class="token decimal">0</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">3</span> <span class="token decimal">4</span> ] ]
<span class="token word">haystack</span> <span class="token decimal">1</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">0</span> <span class="token decimal">1</span> <span class="token decimal">5</span> <span class="token decimal">7</span> ] ]
<span class="token word">haystack</span> <span class="token quote">'foo'</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]

<span class="token quote">''</span> <span class="token quote">'foobar'</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
<span class="token quote">'foobar'</span> <span class="token quote">''</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]

<span class="token quote">'foobra'</span> <span class="token word doc-word">$:</span> <span class="token word">haystack</span>
<span class="token word">haystack</span> <span class="token quote">'o'</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> ] ]
<span class="token word">haystack</span> <span class="token quote">'foo'</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">0</span> ] ]
<span class="token word">haystack</span> <span class="token quote">'ra'</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">4</span> ] ]

<span class="token quote">'GATCCATATG'</span> <span class="token word doc-word">$:</span> <span class="token word">haystack</span>
<span class="token word">haystack</span> <span class="token quote">'ATAAT'</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
<span class="token word">haystack</span> <span class="token quote">'ATAT'</span> <span class="token word doc-word">occurrences</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">5</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="uppercase?">
      <a class="word-doc-head" href="#uppercase?">
        uppercase?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="SB2-q7M2ElM">Quote</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="SB2-q7M2ElM">Quote</span> is all-uppercase.
If <span class="doc-eff-id" data-scope="SB2-q7M2ElM">Quote</span> is empty, leaves false.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">''</span> <span class="token word doc-word">uppercase?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token quote">'A'</span> <span class="token word doc-word">uppercase?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'hello'</span> <span class="token word doc-word">uppercase?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token quote">'Hello'</span> <span class="token word doc-word">uppercase?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token quote">'HELLO'</span> <span class="token word doc-word">uppercase?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'HELLO WORLD'</span> <span class="token word doc-word">uppercase?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="toUppercase">
      <a class="word-doc-head" href="#toUppercase">
        toUppercase
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="t1pAHNQZox8">Quote</span> -- <span class="doc-eff-id" data-scope="sVbVTJSiVXM">Uppercase quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves all- <span class="doc-eff-id" data-scope="sVbVTJSiVXM">Uppercase quote</span> for <span class="doc-eff-id" data-scope="t1pAHNQZox8">Quote</span>: converts
lowercase character(s) in <span class="doc-eff-id" data-scope="t1pAHNQZox8">Quote</span> to uppercase. If <span class="doc-eff-id" data-scope="t1pAHNQZox8">Quote</span> is empty,
leaves empty quote.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">''</span> <span class="token word doc-word">toUppercase</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">''</span>
<span class="token quote">'hello'</span> <span class="token word doc-word">toUppercase</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'HELLO'</span>
<span class="token quote">'hello world'</span> <span class="token word">toUppercase?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'HELLO WORLD'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="block?">
      <a class="word-doc-head" href="#block?">
        block?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="IW22Cp0suRk">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="IW22Cp0suRk">Form</span> is a block.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="asBlock">
      <a class="word-doc-head" href="#asBlock">
        asBlock
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="NORbXcwe_Sg">Form</span> -- <span class="doc-eff-id" data-scope="C9yBglw2XH4">Block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Asserts that <span class="doc-eff-id" data-scope="NORbXcwe_Sg">Form</span> is a <span class="doc-eff-id" data-scope="C9yBglw2XH4">Block</span>, dies if it's not.</p>
<p>For example, the following expression dies:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">asBlock</span>
</code></pre>
<p>Et cetera for all other forms, except:</p>
<pre class="language-novika"><code class="language-novika">[] <span class="token word doc-word">asBlock</span> <span class="token leaves word doc-word">leaves:</span> [ [] <span class="token comment">"(the same block)"</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="word?">
      <a class="word-doc-head" href="#word?">
        word?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="LUDOoul30NY">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="LUDOoul30NY">Form</span> is a word form,
or a block that implements '<strong>word</strong>'.</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">#foo</span> <span class="token word doc-word">word?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>

[ <span class="token qword">#foo</span> <span class="token word doc-word">$:</span> <span class="token word">__word__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">word?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="private?">
      <a class="word-doc-head" href="#private?">
        private?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="v_6dS3jtfA4">Word</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="v_6dS3jtfA4">Word</span> is prefixed by one or more
'_', meaning it is conventionally considered private.</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">#hello</span> <span class="token word doc-word">private?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
<span class="token qword">#_hello</span> <span class="token word doc-word">private?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token qword">#_</span> <span class="token word doc-word">private?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span> <span class="token comment">"Beware!"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="toWord">
      <a class="word-doc-head" href="#toWord">
        toWord
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="vfUXRhz1CGQ">Form</span> -- <span class="doc-eff-id" data-scope="DlkBCiwofwM">Word</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Converts <span class="doc-eff-id" data-scope="vfUXRhz1CGQ">Form</span> into <span class="doc-eff-id" data-scope="DlkBCiwofwM">Word</span>.</p>
<ol>
<li>If <span class="doc-eff-id" data-scope="vfUXRhz1CGQ">Form</span> is a word, behaves as noop</li>
<li>If <span class="doc-eff-id" data-scope="vfUXRhz1CGQ">Form</span> is a quote, dies only if quote contains
Unicode whitespace characters or is itself empty.</li>
<li>If <span class="doc-eff-id" data-scope="vfUXRhz1CGQ">Form</span> is a quoted word, peels off <strong>all</strong> quoting.</li>
</ol>

      </div>
    </div>
  
    

    <div class="word-doc" id="asWord">
      <a class="word-doc-head" href="#asWord">
        asWord
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="FgtyexsCr1g">Form</span> -- <span class="doc-eff-id" data-scope="ahv-KyhhjVU">Word</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Asserts that <span class="doc-eff-id" data-scope="FgtyexsCr1g">Form</span> is a <span class="doc-eff-id" data-scope="ahv-KyhhjVU">Word</span> form, dies if
it's not.</p>
<p>For example, the following expression dies:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">asWord</span>
</code></pre>
<p>Et cetera for all other forms, except:</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">#foo</span> <span class="token word doc-word">asWord</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token word">foo</span> ]
</code></pre>
<p><code>__word__</code> hook can make a block usable in place of a word,
provided its definition leaves a word or a block which
implements '<strong>word</strong>':</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word">x</span> <span class="token word doc-word">$:</span> <span class="token word">__word__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">@:</span> <span class="token word">a</span>
<span class="token qword">#foo</span> <span class="token word">a</span> <span class="token word doc-word">asWord</span> <span class="token comment">"beware: leaves instance of a"</span>
<span class="token qword">#boo</span> <span class="token word">a</span> <span class="token word">a</span> <span class="token word doc-word">asWord</span> <span class="token comment">"beware: leaves instance of a"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="quotedWord?">
      <a class="word-doc-head" href="#quotedWord?">
        quotedWord?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="aQTlPmHhnS0">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="aQTlPmHhnS0">Form</span> is a quoted word
form, or a block that implements '<strong>quotedWord</strong>'.</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">##foo</span> <span class="token word doc-word">quotedWord?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token qword">##foo</span> <span class="token word doc-word">$:</span> <span class="token word">__quotedWord__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">quotedWord?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="asQuotedWord">
      <a class="word-doc-head" href="#asQuotedWord">
        asQuotedWord
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="uH1hMbhrDtg">Form</span> -- <span class="doc-eff-id" data-scope="Rv0hMjvwKp4">Quoted word</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Asserts that <span class="doc-eff-id" data-scope="uH1hMbhrDtg">Form</span> is a <span class="doc-eff-id" data-scope="Rv0hMjvwKp4">Quoted word</span> form,
dies if it's not.</p>
<p>For example, the following expression dies:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">asQuotedWord</span>
</code></pre>
<p>Et cetera for all other forms, except:</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">##foo</span> <span class="token word doc-word">asQuotedWord</span> <span class="token leaves word doc-word">leaves:</span> <span class="token qword">#foo</span>
</code></pre>
<p><code>__quotedWord__</code> hook can make a block usable in place of
a quoted word, provided its definition leaves a quoted
word or a block that implements <code>__quotedWord__</code>:</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word">x</span> <span class="token word doc-word">$:</span> <span class="token word">__quotedWord__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">@:</span> <span class="token word">a</span>
<span class="token qword">##foo</span> <span class="token word">a</span> <span class="token word doc-word">asQuotedWord</span> <span class="token comment">"beware: leaves instance of a"</span>
<span class="token qword">##boo</span> <span class="token word">a</span> <span class="token word">a</span> <span class="token word doc-word">asQuotedWord</span> <span class="token comment">"beware: leaves instance of a"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="decimal?">
      <a class="word-doc-head" href="#decimal?">
        decimal?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Vy06bLn8IBA">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="Vy06bLn8IBA">Form</span> is a decimal form,
or a block that implements '<strong>decimal</strong>'.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">123</span> <span class="token word doc-word">decimal?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">123</span> <span class="token word doc-word">$:</span> <span class="token word">__decimal__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">decimal?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="toQuotedWord">
      <a class="word-doc-head" href="#toQuotedWord">
        toQuotedWord
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="JQOQ9nclOrA">Quoted word</span>/<span class="doc-eff-id" data-scope="zx0lDbnMxTw">Word</span> -- #<span class="doc-eff-id" data-scope="JQOQ9nclOrA">Quoted word</span>/#<span class="doc-eff-id" data-scope="zx0lDbnMxTw">Word</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Adds a layer of &quot;quoting&quot; to <span class="doc-eff-id" data-scope="JQOQ9nclOrA">Quoted word</span> or <span class="doc-eff-id" data-scope="zx0lDbnMxTw">Word</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">"Note that in quoted word literals (here on the left hand
 side) one layer of quoting is 'eaten off' by the parser!"</span>

<span class="token qword">#foo</span> <span class="token word doc-word">toQuotedWord</span> <span class="token leaves word doc-word">leaves:</span> <span class="token qword">#foo</span>
<span class="token qword">##foo</span> <span class="token word doc-word">toQuotedWord</span> <span class="token leaves word doc-word">leaves:</span> <span class="token qword">##foo</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="asDecimal">
      <a class="word-doc-head" href="#asDecimal">
        asDecimal
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="QnPoCwbXUD8">Form</span> -- <span class="doc-eff-id" data-scope="SNhC0Ds8XMA">Decimal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Asserts that <span class="doc-eff-id" data-scope="QnPoCwbXUD8">Form</span> is a <span class="doc-eff-id" data-scope="SNhC0Ds8XMA">Decimal</span> form, dies if
it's not.</p>
<p>For example, the following expression dies:</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'foo'</span> <span class="token word doc-word">asDecimal</span>
</code></pre>
<p>Et cetera for all other forms, except:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">asDecimal</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
</code></pre>
<p><code>__decimal__</code> hook can make a block usable in place of a
decimal, provided its definition leaves a decimal or a
block that implements <code>__decimal__</code>:</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word">x</span> <span class="token word doc-word">$:</span> <span class="token word">__decimal__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">@:</span> <span class="token word">a</span>
<span class="token decimal">100</span> <span class="token word">a</span> <span class="token word doc-word">asDecimal</span> <span class="token comment">"beware: leaves an instance of a"</span>
<span class="token decimal">200</span> <span class="token word">a</span> <span class="token word">a</span> <span class="token word doc-word">asDecimal</span> <span class="token comment">"beware: leaves an instance of a"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="quote?">
      <a class="word-doc-head" href="#quote?">
        quote?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="DLu9KG_IX0g">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="DLu9KG_IX0g">Form</span> is a quote form,
or a block that implements '<strong>quote</strong>'.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'foo'</span> <span class="token word doc-word">quote?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token quote">'foo'</span> <span class="token word doc-word">$:</span> <span class="token word">__quote__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">quote?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="asQuote">
      <a class="word-doc-head" href="#asQuote">
        asQuote
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="8Wq5WBSOdBc">Form</span> -- <span class="doc-eff-id" data-scope="OLTcbPkFJSA">Quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Asserts that <span class="doc-eff-id" data-scope="8Wq5WBSOdBc">Form</span> is a <span class="doc-eff-id" data-scope="OLTcbPkFJSA">Quote</span> form, dies if
it's not.</p>
<p>For example, the following expression dies:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">asQuote</span>
</code></pre>
<p>Et cetera for all other forms, except:</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'foo'</span> <span class="token word doc-word">asQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'foo'</span>
</code></pre>
<p><code>__quote__</code> hook can make a block usable in place of a
quote, provided its definition leaves a quote or a block
that implements <code>__quote__</code>:</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word">x</span> <span class="token word doc-word">$:</span> <span class="token word">__quote__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">@:</span> <span class="token word">a</span>
<span class="token quote">'foo'</span> <span class="token word">a</span> <span class="token word doc-word">asQuote</span> <span class="token comment">"beware: leaves instance of a"</span>
<span class="token quote">'boo'</span> <span class="token word">a</span> <span class="token word">a</span> <span class="token word doc-word">asQuote</span> <span class="token comment">"beware: leaves instance of a"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="boolean?">
      <a class="word-doc-head" href="#boolean?">
        boolean?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="99H9QMNe8mE">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="99H9QMNe8mE">Form</span> is a boolean form,
or a block that implements '<strong>boolean</strong>'.</p>
<pre class="language-novika"><code class="language-novika"><span class="token word">true</span><span class="token boolean"></span> <span class="token word doc-word">boolean?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token word">true</span><span class="token boolean"></span> <span class="token word doc-word">$:</span> <span class="token word">__boolean__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">boolean?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="asBoolean">
      <a class="word-doc-head" href="#asBoolean">
        asBoolean
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="KJGTJoQA_QM">Form</span> -- <span class="doc-eff-id" data-scope="mlqo1lg1BDE">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Asserts that <span class="doc-eff-id" data-scope="KJGTJoQA_QM">Form</span> is a <span class="doc-eff-id" data-scope="mlqo1lg1BDE">Boolean</span> form, dies if
it's not.</p>
<p>For example, the following expression dies:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">asBoolean</span>
</code></pre>
<p>Et cetera for all other forms, except:</p>
<pre class="language-novika"><code class="language-novika"><span class="token word">true</span><span class="token boolean"></span> <span class="token word doc-word">asBoolean</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token word">false</span><span class="token boolean"></span> <span class="token word doc-word">asBoolean</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>
<p><code>__boolean__</code> hook can make a block usable in place of a
boolean, provided its definition leaves a boolean or a
block that implements <code>__boolean__</code>:</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word">x</span> <span class="token word doc-word">$:</span> <span class="token word">__boolean__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">@:</span> <span class="token word">a</span>
<span class="token word">true</span><span class="token boolean"></span> <span class="token word">a</span> <span class="token word doc-word">asBoolean</span> <span class="token comment">"beware: leaves an instance of a"</span>
<span class="token word">true</span><span class="token boolean"></span> <span class="token word">a</span> <span class="token word">a</span> <span class="token word doc-word">asBoolean</span> <span class="token comment">"beware: leaves an instance of a"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="builtin?">
      <a class="word-doc-head" href="#builtin?">
        builtin?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="D7OYaFEF3qo">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="D7OYaFEF3qo">Form</span> is a builtin form.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="asBuiltin">
      <a class="word-doc-head" href="#asBuiltin">
        asBuiltin
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="KL-f8D7-IRM">Form</span> -- B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Asserts <span class="doc-eff-id" data-scope="KL-f8D7-IRM">Form</span> is a Builtin, dies if it's not.</p>
<p>For example, the following expression dies:</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'foo'</span> <span class="token word doc-word">asBuiltin</span>
</code></pre>
<p>Et cetera for all other forms, except:</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">#+</span> <span class="token word doc-word">here</span> <span class="token word doc-word">asBuiltin</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ native code ]'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="color?">
      <a class="word-doc-head" href="#color?">
        color?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="yb1kVtDPkfY">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="yb1kVtDPkfY">Form</span> is a color form,
or a block that implements '<strong>color</strong>'.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span> <span class="token word doc-word">color?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span> <span class="token word doc-word">$:</span> <span class="token word">__color__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">color?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="asColor">
      <a class="word-doc-head" href="#asColor">
        asColor
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="KEEz_Z5wgOI">Form</span> -- <span class="doc-eff-id" data-scope="FVTWh9ZtKTg">Color</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Asserts that <span class="doc-eff-id" data-scope="KEEz_Z5wgOI">Form</span> is a <span class="doc-eff-id" data-scope="FVTWh9ZtKTg">Color</span> form, dies if
it's not.</p>
<p>For example, the following expression dies:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">asColor</span>
</code></pre>
<p>Et cetera for all other forms, except:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span> <span class="token word doc-word">asColor</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'rgb(0, 0, 0)'</span>
</code></pre>
<p><code>__color__</code> hook can make a block usable in place of a
color, provided its definition leaves a color or a block
that implements <code>__color__</code>:</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word">x</span> <span class="token word doc-word">$:</span> <span class="token word">__color__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">@:</span> <span class="token word">a</span>
<span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span> <span class="token word">a</span> <span class="token word doc-word">asColor</span> <span class="token comment">"beware: leaves an instance of a"</span>
<span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token decimal">0</span> <span class="token word doc-word">rgb</span> <span class="token word">a</span> <span class="token word">a</span> <span class="token word doc-word">asColor</span> <span class="token comment">"beware: leaves an instance of a"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="byteslice?">
      <a class="word-doc-head" href="#byteslice?">
        byteslice?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="x5MeSW_Q7po">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="x5MeSW_Q7po">Form</span> is a byteslice
form, or a block that implements '<strong>byteslice</strong>'.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello world'</span> <span class="token word doc-word">toByteslice</span> <span class="token word doc-word">byteslice?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
[ [ <span class="token quote">'Hi!'</span> <span class="token word doc-word">toByteslice</span> ] <span class="token word doc-word">$:</span> <span class="token word">__byteslice__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">byteslice?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="asByteslice">
      <a class="word-doc-head" href="#asByteslice">
        asByteslice
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="RU7pLsucYz4">Form</span> -- B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Asserts that <span class="doc-eff-id" data-scope="RU7pLsucYz4">Form</span> is a Byteslice form, dies if
it's not.</p>
<p>For example, the following expression dies:</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">asByteslice</span>
</code></pre>
<p>Et cetera for all other forms, except:</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello world'</span> <span class="token word doc-word">toByteslice</span> <span class="token word doc-word">asByteslice</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[byteslice, consists of 11 mutable byte(s)]'</span>
</code></pre>
<p><code>__byteslice__</code> hook can make a block usable in place of
a byteslice, provided its definition leaves a byteslice
or a block that implements <code>__byteslice__</code>:</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word">x</span> <span class="token word doc-word">$:</span> <span class="token word">__byteslice__</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">@:</span> <span class="token word">a</span>
<span class="token quote">'foo'</span> <span class="token word doc-word">toByteslice</span> <span class="token word">a</span> <span class="token word doc-word">asByteslice</span> <span class="token comment">"beware: leaves an instance of a"</span>
<span class="token quote">'foo'</span> <span class="token word doc-word">toByteslice</span> <span class="token word">a</span> <span class="token word">a</span> <span class="token word doc-word">asByteslice</span> <span class="token comment">"beware: leaves an instance of a"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="pushes">
      <a class="word-doc-head" href="#pushes">
        pushes
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="nc4O0ZXpFBE">Block</span> <span class="doc-eff-id" data-scope="HtDnUUivDRw">Name</span> <span class="doc-eff-id" data-scope="X11548cqJhQ">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a definition for <span class="doc-eff-id" data-scope="HtDnUUivDRw">Name</span> in <span class="doc-eff-id" data-scope="nc4O0ZXpFBE">Block</span> that
pushes <span class="doc-eff-id" data-scope="X11548cqJhQ">Form</span> when resolved there.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="opens">
      <a class="word-doc-head" href="#opens">
        opens
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="aMFpwXJPQV0">Block</span> <span class="doc-eff-id" data-scope="bU0BJLsCWZQ">Name</span> <span class="doc-eff-id" data-scope="V-l7hy5eqCc">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates a definition for <span class="doc-eff-id" data-scope="bU0BJLsCWZQ">Name</span> in <span class="doc-eff-id" data-scope="aMFpwXJPQV0">Block</span> that
opens <span class="doc-eff-id" data-scope="V-l7hy5eqCc">Form</span> when resolved there.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="entry:submit">
      <a class="word-doc-head" href="#entry:submit">
        entry:submit
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ujUAlIoCD_I">Submittable store</span> <span class="doc-eff-id" data-scope="QA0m_JE3I1g">Name</span> <span class="doc-eff-id" data-scope="4wKXPCiDfK8">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Replaces the value form of an existing
definition for <span class="doc-eff-id" data-scope="QA0m_JE3I1g">Name</span> in <span class="doc-eff-id" data-scope="ujUAlIoCD_I">Submittable store</span> (usually a block)
to <span class="doc-eff-id" data-scope="4wKXPCiDfK8">Form</span>. Does not change whether the definition opens
or pushes.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="entry:exists?">
      <a class="word-doc-head" href="#entry:exists?">
        entry:exists?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="_D-oqS0rzhU">Readable store</span> <span class="doc-eff-id" data-scope="ZJFBmXi8LJk">Name</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="_D-oqS0rzhU">Readable store</span>
(usually a block) can fetch value for <span class="doc-eff-id" data-scope="ZJFBmXi8LJk">Name</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="entry:fetch">
      <a class="word-doc-head" href="#entry:fetch">
        entry:fetch
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="uSfEjvyPeyc">Readable store</span> <span class="doc-eff-id" data-scope="6KrIoKHMiyw">Name</span> -- <span class="doc-eff-id" data-scope="wHYLtlhKruc">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the value <span class="doc-eff-id" data-scope="wHYLtlhKruc">Form</span> with the given <span class="doc-eff-id" data-scope="6KrIoKHMiyw">Name</span>
in <span class="doc-eff-id" data-scope="uSfEjvyPeyc">Readable store</span> (usually a block). Does not open the
value form. Dies if Store does not contain an entry
for <span class="doc-eff-id" data-scope="6KrIoKHMiyw">Name</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="entry:fetch?">
      <a class="word-doc-head" href="#entry:fetch?">
        entry:fetch?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="nUttWm5oCXo">Readable store</span> <span class="doc-eff-id" data-scope="FZZveNuHccc">Name</span> -- <span class="doc-eff-id" data-scope="k2onJLq87Jg">Form</span> true / false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the value <span class="doc-eff-id" data-scope="k2onJLq87Jg">Form</span> with the
given <span class="doc-eff-id" data-scope="FZZveNuHccc">Name</span> in <span class="doc-eff-id" data-scope="nUttWm5oCXo">Readable store</span> (usually a block) if an entry
for <span class="doc-eff-id" data-scope="FZZveNuHccc">Name</span> exists there, and/or a boolean indicating the
latter: <code>true</code> (exists), or <code>false</code> (does not exist).</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
<span class="token word">a</span> <span class="token qword">#x</span> <span class="token decimal">100</span> <span class="token word doc-word">pushes</span><span class="token entryworks"></span>

<span class="token word">a</span> <span class="token qword">#x</span> <span class="token word doc-word">entry:fetch?</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">100</span> <span class="token word">true</span><span class="token boolean"></span> ]
<span class="token word">a</span> <span class="token qword">#y</span> <span class="token word doc-word">entry:fetch?</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token word">false</span><span class="token boolean"></span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="entry:open">
      <a class="word-doc-head" href="#entry:open">
        entry:open
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="lGwlXh5yBY0">Readable store</span> <span class="doc-eff-id" data-scope="kNTXyFK-fME">Caller</span> <span class="doc-eff-id" data-scope="7lF1_ex4ZoE">Name</span> -- ... )</span>
      </a>
      <div class="word-doc-desc">
        <p>Resolves <span class="doc-eff-id" data-scope="7lF1_ex4ZoE">Name</span> in <span class="doc-eff-id" data-scope="lGwlXh5yBY0">Readable store</span> and <em>opens</em>
it if it is an opener, assuming <span class="doc-eff-id" data-scope="kNTXyFK-fME">Caller</span> to be the opener block.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="entry:flatFetch?">
      <a class="word-doc-head" href="#entry:flatFetch?">
        entry:flatFetch?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="EKi00vMRrNc">Block</span> <span class="doc-eff-id" data-scope="P4blfyPoch0">Name</span> -- <span class="doc-eff-id" data-scope="r8h6ttSbWhM">Form</span> true / false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the value <span class="doc-eff-id" data-scope="r8h6ttSbWhM">Form</span> under
<span class="doc-eff-id" data-scope="P4blfyPoch0">Name</span> in <span class="doc-eff-id" data-scope="EKi00vMRrNc">Block</span>'s dictionary followed by <code>true</code>, or <code>false</code>
if no such entry is in <span class="doc-eff-id" data-scope="EKi00vMRrNc">Block</span>. <span class="doc-eff-id" data-scope="EKi00vMRrNc">Block</span> hierarchy is not
traversed (only the <span class="doc-eff-id" data-scope="EKi00vMRrNc">Block</span>'s own dictionary is looked at).</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="entry:isOpenEntry?">
      <a class="word-doc-head" href="#entry:isOpenEntry?">
        entry:isOpenEntry?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="XBxIfRs32yw">Readable store</span> <span class="doc-eff-id" data-scope="7nXNGUZqAEU">Name</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether an entry with the
given <span class="doc-eff-id" data-scope="7nXNGUZqAEU">Name</span> in <span class="doc-eff-id" data-scope="XBxIfRs32yw">Readable store</span> (usually a block) is an
open entry. Dies if <span class="doc-eff-id" data-scope="XBxIfRs32yw">Readable store</span> has no entry with
the given <span class="doc-eff-id" data-scope="7nXNGUZqAEU">Name</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="entry:delete">
      <a class="word-doc-head" href="#entry:delete">
        entry:delete
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="4wHCdyzWaD0">Block</span> <span class="doc-eff-id" data-scope="PkTXygt9n6k">Name</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Deletes the entry corresponding to <span class="doc-eff-id" data-scope="PkTXygt9n6k">Name</span> form
from the dictionary of <span class="doc-eff-id" data-scope="4wHCdyzWaD0">Block</span> if it exists there. Otherwise,
does nothing.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>

[ <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">foo</span>

<span class="token comment">"'x' of foo shadows 'x' of toplevel block"</span>
<span class="token word">foo</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">200</span>

<span class="token comment">"Let's try to remove it so it doesn't:"</span>
<span class="token word">foo</span> <span class="token qword">#x</span> <span class="token word doc-word">entry:delete</span>
<span class="token word">foo</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">100</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="entry:pathTo?">
      <a class="word-doc-head" href="#entry:pathTo?">
        entry:pathTo?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="vexrx93Bf6I">Block</span> <span class="doc-eff-id" data-scope="hL9jf4KgLUI">Name</span> -- <span class="doc-eff-id" data-scope="lP7Si0dY3Ac">Path</span> <span class="doc-eff-id" data-scope="i54IjL9q58M">Form</span> true / false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="lP7Si0dY3Ac">Path</span>, a block describing the
path to <span class="doc-eff-id" data-scope="i54IjL9q58M">Form</span> (including <span class="doc-eff-id" data-scope="vexrx93Bf6I">Block</span> itself) under the corresponding
<span class="doc-eff-id" data-scope="hL9jf4KgLUI">Name</span> (like <code class="inline-word-ref">entry:fetch?</code>). Follows <span class="doc-eff-id" data-scope="lP7Si0dY3Ac">Path</span> and <span class="doc-eff-id" data-scope="i54IjL9q58M">Form</span> with <code>true</code>
indicating success, otherwise <em>only</em> <code>false</code> indicating that
there is no <span class="doc-eff-id" data-scope="i54IjL9q58M">Form</span> corresponding to <span class="doc-eff-id" data-scope="hL9jf4KgLUI">Name</span> in <span class="doc-eff-id" data-scope="vexrx93Bf6I">Block</span> or any of the
blocks reachable from <span class="doc-eff-id" data-scope="vexrx93Bf6I">Block</span>.</p>
<p>This word exists mainly for testing word lookup sanity. Feel free
to use it if you find any reason to!</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>  <span class="token quote">'a'</span> <span class="token word doc-word">$:</span> <span class="token word">__quote__</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">a</span>
[ <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span>  <span class="token quote">'b'</span> <span class="token word doc-word">$:</span> <span class="token word">__quote__</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">b</span>
[ <span class="token decimal">300</span> <span class="token word doc-word">$:</span> <span class="token word">z</span>  <span class="token quote">'c'</span> <span class="token word doc-word">$:</span> <span class="token word">__quote__</span> ] <span class="token word doc-word">obj</span> <span class="token word doc-word">$:</span> <span class="token word">c</span>

<span class="token word">a</span> <span class="token word doc-word">--</span> <span class="token word">b</span> <span class="token word doc-word">--</span> <span class="token word">c</span> <span class="token word doc-word">drop</span><span class="token stackworks"></span>

[ <span class="token word">a</span> <span class="token qword">#x</span> <span class="token word doc-word">entry:pathTo?</span> ] <span class="token word doc-word">vals</span> <span class="token word doc-word">sepBy:</span> <span class="token quote">' '</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ a ] 100 true'</span>
[ <span class="token word">b</span> <span class="token qword">#x</span> <span class="token word doc-word">entry:pathTo?</span> ] <span class="token word doc-word">vals</span> <span class="token word doc-word">sepBy:</span> <span class="token quote">' '</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ b a ] 100 true'</span>
[ <span class="token word">c</span> <span class="token qword">#x</span> <span class="token word doc-word">entry:pathTo?</span> ] <span class="token word doc-word">vals</span> <span class="token word doc-word">sepBy:</span> <span class="token quote">' '</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ c b a ] 100 true'</span>

[ <span class="token word">b</span> <span class="token qword">#y</span> <span class="token word doc-word">entry:pathTo?</span> ] <span class="token word doc-word">vals</span> <span class="token word doc-word">sepBy:</span> <span class="token quote">' '</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ b ] 200 true'</span>
[ <span class="token word">c</span> <span class="token qword">#y</span> <span class="token word doc-word">entry:pathTo?</span> ] <span class="token word doc-word">vals</span> <span class="token word doc-word">sepBy:</span> <span class="token quote">' '</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ c b ] 200 true'</span>

[ <span class="token word">c</span> <span class="token qword">#z</span> <span class="token word doc-word">entry:pathTo?</span> ] <span class="token word doc-word">vals</span> <span class="token word doc-word">sepBy:</span> <span class="token quote">' '</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[ c ] 300 true'</span>

[ <span class="token word">c</span> <span class="token qword">#foo</span> <span class="token word doc-word">entry:pathTo?</span> ] <span class="token word doc-word">vals</span> <span class="token word doc-word">sepBy:</span> <span class="token quote">' '</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'false'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="shallowCopy">
      <a class="word-doc-head" href="#shallowCopy">
        shallowCopy
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="SFn12Y44caM">Block</span> -- <span class="doc-eff-id" data-scope="8fKQ4SyAfEQ">Copy</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Makes a shallow copy (sub-blocks are not copied)
of <span class="doc-eff-id" data-scope="SFn12Y44caM">Block</span>'s tape and dictionary, and leaves a <span class="doc-eff-id" data-scope="8fKQ4SyAfEQ">Copy</span> block with
the tape copy, dictionary copy set as its tape, dictionary.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
<span class="token word">a</span> <span class="token word doc-word">shallowCopy</span><span class="token blockworks"></span> <span class="token word doc-word">$:</span> <span class="token word">b</span>
<span class="token word">a</span> <span class="token qword">#x</span> <span class="token decimal">0</span> <span class="token word doc-word">pushes</span><span class="token entryworks"></span>
<span class="token word">b</span> <span class="token qword">#y</span> <span class="token decimal">1</span> <span class="token word doc-word">pushes</span><span class="token entryworks"></span>
<span class="token word">b</span> <span class="token decimal">1</span> <span class="token word doc-word">shove</span><span class="token blockworks"></span>
<span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">2echo</span>
<span class="token comment">"STDOUT: [ 1 2 3 · ${x :: 0} ]⏎"</span>
<span class="token comment">"STDOUT: [ 1 2 3 1 · ${y :: 1} ]⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="resub">
      <a class="word-doc-head" href="#resub">
        resub
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ykMswCW4MEQ">Other</span> <span class="doc-eff-id" data-scope="u4D7y4SKC2Q">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Replaces the substrate of <span class="doc-eff-id" data-scope="u4D7y4SKC2Q">Block</span> with <span class="doc-eff-id" data-scope="ykMswCW4MEQ">Other</span>'s
substrate. This is useful if you want to swap <span class="doc-eff-id" data-scope="u4D7y4SKC2Q">Block</span>'s
contents with <span class="doc-eff-id" data-scope="ykMswCW4MEQ">Other</span>'s without changing <span class="doc-eff-id" data-scope="u4D7y4SKC2Q">Block</span>'s identity:</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
[ <span class="token quote">'a'</span> <span class="token quote">'b'</span> <span class="token quote">'c'</span> ] <span class="token word doc-word">$:</span> <span class="token word">b</span>
<span class="token word">b</span> <span class="token qword">#x</span> <span class="token decimal">0</span> <span class="token word doc-word">pushes</span><span class="token entryworks"></span>
<span class="token word">b</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: [ 'a' 'b' 'c' · ${x :: 0} ]⏎"</span>

<span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">resub</span>
<span class="token word">b</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: [ 1 2 3 · ${x :: 0} ]⏎"</span>
</code></pre>
<p>Note that since <em>substrate</em> is replaced, not <em>tape</em>, the
cursor position is saved:</p>
<pre class="language-novika"><code class="language-novika"><span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">2echo</span>
<span class="token comment">"STDOUT: [ 1 2 3 ]⏎"</span>
<span class="token comment">"STDOUT: [ 'a' 'b' 'c' · ${x :: 0} ]⏎"</span>

<span class="token word">b</span> <span class="token decimal">2</span> <span class="token word doc-word">|-</span><span class="token blockworks"></span>
<span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">2echo</span>
<span class="token comment">"STDOUT: [ 1 2 3 ]⏎"</span>
<span class="token comment">"STDOUT: [ 'a' | 'b' 'c' · ${x :: 0} ]⏎"</span>

<span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">resub</span>
<span class="token word">b</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: [ 1 | 2 3 · ${x :: 0} ]⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="fromLeft">
      <a class="word-doc-head" href="#fromLeft">
        fromLeft
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="NTMn5hVFcDI">Block</span>/<span class="doc-eff-id" data-scope="0gO-jJwM7r4">Quote</span>/<span class="doc-eff-id" data-scope="0WxPxKvwI_I">Byteslice form</span> <span class="doc-eff-id" data-scope="tH8ZqGQh7mQ">Index</span> -- <span class="doc-eff-id" data-scope="8FCymzMm1u4">Element</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="tH8ZqGQh7mQ">Index</span>-th <span class="doc-eff-id" data-scope="8FCymzMm1u4">Element</span> from the left
in <span class="doc-eff-id" data-scope="NTMn5hVFcDI">Block</span>, <span class="doc-eff-id" data-scope="0gO-jJwM7r4">Quote</span>, or <span class="doc-eff-id" data-scope="0WxPxKvwI_I">Byteslice form</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">0</span> <span class="token word doc-word">fromLeft</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="fromRight">
      <a class="word-doc-head" href="#fromRight">
        fromRight
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="KI-YylVUdoU">Block</span>/<span class="doc-eff-id" data-scope="OOvGtCuB-PE">Quote</span>/<span class="doc-eff-id" data-scope="-k7Xa9xonWw">Byteslice form</span> <span class="doc-eff-id" data-scope="9LzL1DlUMag">Index</span> -- <span class="doc-eff-id" data-scope="ByQPyEfB9GU">Element</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="9LzL1DlUMag">Index</span>-th <span class="doc-eff-id" data-scope="ByQPyEfB9GU">Element</span> from the right
in <span class="doc-eff-id" data-scope="KI-YylVUdoU">Block</span>, <span class="doc-eff-id" data-scope="OOvGtCuB-PE">Quote</span>, or <span class="doc-eff-id" data-scope="-k7Xa9xonWw">Byteslice form</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">0</span> <span class="token word doc-word">fromRight</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">1</span> <span class="token word doc-word">fromRight</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">2</span> <span class="token word doc-word">fromRight</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="fromLeft*">
      <a class="word-doc-head" href="#fromLeft*">
        fromLeft*
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="uuGZeNJFAU4">Block</span>/<span class="doc-eff-id" data-scope="nxEqRShBZ9k">Quote</span>/<span class="doc-eff-id" data-scope="_E6gWZuXALM">Byteslice form</span> N -- <span class="doc-eff-id" data-scope="QGVj_CjRgzo">Elements block</span>/<span class="doc-eff-id" data-scope="YnNK-r61EOA">Result quote</span>/<span class="doc-eff-id" data-scope="pTEKeBTVGgo">Result byteslice form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="QGVj_CjRgzo">Elements block</span> (if given
a <span class="doc-eff-id" data-scope="uuGZeNJFAU4">Block</span>), <span class="doc-eff-id" data-scope="YnNK-r61EOA">Result quote</span> (if given a <span class="doc-eff-id" data-scope="nxEqRShBZ9k">Quote</span>), or <span class="doc-eff-id" data-scope="pTEKeBTVGgo">Result byteslice form</span> (if given a <span class="doc-eff-id" data-scope="_E6gWZuXALM">Byteslice form</span>) with N forms/
chars/bytes from left in <span class="doc-eff-id" data-scope="uuGZeNJFAU4">Block</span>/<span class="doc-eff-id" data-scope="nxEqRShBZ9k">Quote</span>/<span class="doc-eff-id" data-scope="_E6gWZuXALM">Byteslice form</span>.
If N is larger than <span class="doc-eff-id" data-scope="uuGZeNJFAU4">Block</span>/<span class="doc-eff-id" data-scope="nxEqRShBZ9k">Quote</span>/<span class="doc-eff-id" data-scope="_E6gWZuXALM">Byteslice form</span> count,
it is made equal to <span class="doc-eff-id" data-scope="uuGZeNJFAU4">Block</span>/<span class="doc-eff-id" data-scope="nxEqRShBZ9k">Quote</span>/<span class="doc-eff-id" data-scope="_E6gWZuXALM">Byteslice form</span> count.
Dies if N is negative.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">1</span> <span class="token word doc-word">fromLeft*</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">2</span> <span class="token word doc-word">fromLeft*</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">3</span> <span class="token word doc-word">fromLeft*</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">100</span> <span class="token word doc-word">fromLeft*</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
<span class="token quote">'hello'</span> <span class="token decimal">3</span> <span class="token word doc-word">fromLeft*</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'hel'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="fromRight*">
      <a class="word-doc-head" href="#fromRight*">
        fromRight*
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="jkUS8LCe7-U">Block</span>/<span class="doc-eff-id" data-scope="nZ2RyLKftus">Quote</span>/<span class="doc-eff-id" data-scope="qhMaIodn0cE">Byteslice form</span> N -- Fb/<span class="doc-eff-id" data-scope="qant1CI0qBc">Result quote</span>/<span class="doc-eff-id" data-scope="_nXlOOCbF5k">Result byteslice form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves Elements block (if given
a <span class="doc-eff-id" data-scope="jkUS8LCe7-U">Block</span>), <span class="doc-eff-id" data-scope="qant1CI0qBc">Result quote</span> (if given a <span class="doc-eff-id" data-scope="nZ2RyLKftus">Quote</span>), or <span class="doc-eff-id" data-scope="_nXlOOCbF5k">Result byteslice form</span> (if given a <span class="doc-eff-id" data-scope="qhMaIodn0cE">Byteslice form</span>) with N forms/
chars/bytes from right in <span class="doc-eff-id" data-scope="jkUS8LCe7-U">Block</span>/<span class="doc-eff-id" data-scope="nZ2RyLKftus">Quote</span>/<span class="doc-eff-id" data-scope="qhMaIodn0cE">Byteslice form</span>.
If N is larger than <span class="doc-eff-id" data-scope="jkUS8LCe7-U">Block</span>/<span class="doc-eff-id" data-scope="nZ2RyLKftus">Quote</span>/<span class="doc-eff-id" data-scope="qhMaIodn0cE">Byteslice form</span> count,
it is made equal to <span class="doc-eff-id" data-scope="jkUS8LCe7-U">Block</span>/<span class="doc-eff-id" data-scope="nZ2RyLKftus">Quote</span>/<span class="doc-eff-id" data-scope="qhMaIodn0cE">Byteslice form</span> count.
Dies if N is negative.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">1</span> <span class="token word doc-word">fromRight*</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">3</span> ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">2</span> <span class="token word doc-word">fromRight*</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">3</span> <span class="token word doc-word">fromRight*</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token decimal">100</span> <span class="token word doc-word">fromRight*</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="+">
      <a class="word-doc-head" href="#+">
        +
        <span class="doc-head-effect">( A B -- <span class="doc-eff-id" data-scope="aQ2IH6WnGYo">Sum</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="aQ2IH6WnGYo">Sum</span> of two decimals.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="-">
      <a class="word-doc-head" href="#-">
        -
        <span class="doc-head-effect">( A B -- <span class="doc-eff-id" data-scope="ijTDY8Nat-Y">Difference</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="ijTDY8Nat-Y">Difference</span> of two decimals.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="*">
      <a class="word-doc-head" href="#*">
        *
        <span class="doc-head-effect">( A B -- <span class="doc-eff-id" data-scope="mabdhLNbLOY">Product</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="mabdhLNbLOY">Product</span> of two decimals.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="/">
      <a class="word-doc-head" href="#/">
        /
        <span class="doc-head-effect">( A B -- <span class="doc-eff-id" data-scope="JEFVJvKWWrA">Quotient</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="JEFVJvKWWrA">Quotient</span> of two decimals.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="mod">
      <a class="word-doc-head" href="#mod">
        mod
        <span class="doc-head-effect">( A B -- M )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the Modulo of two decimals.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="**">
      <a class="word-doc-head" href="#**">
        **
        <span class="doc-head-effect">( A B -- <span class="doc-eff-id" data-scope="W6cs0GjUE6k">Result</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Raises A to the power B, leaves <span class="doc-eff-id" data-scope="W6cs0GjUE6k">Result</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="round">
      <a class="word-doc-head" href="#round">
        round
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="5jltWk4cRnE">Decimal</span> -- <span class="doc-eff-id" data-scope="HwW5mjyaOkc">Rounded decimal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Rounds <span class="doc-eff-id" data-scope="5jltWk4cRnE">Decimal</span> towards the nearest integer,
leaves the corresoinding <span class="doc-eff-id" data-scope="HwW5mjyaOkc">Rounded decimal</span>. If both neighboring
integers are equidistant, rounds towards the even neighbor
(Banker's rounding).</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">round</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token decimal">1.23</span> <span class="token word doc-word">round</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>

<span class="token decimal">1.5</span> <span class="token word doc-word">round</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>
<span class="token decimal">1.67</span> <span class="token word doc-word">round</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>

<span class="token decimal">2.5</span> <span class="token word doc-word">round</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span> <span class="token comment">"rounds towards the even neighbor"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="floor">
      <a class="word-doc-head" href="#floor">
        floor
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="fhKC2ShQch8">Decimal</span> -- <span class="doc-eff-id" data-scope="KT16F7V1Xhc">Rounded decimal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Rounds <span class="doc-eff-id" data-scope="fhKC2ShQch8">Decimal</span> <em>down</em> towards the nearest integer,
leaves the corresoinding <span class="doc-eff-id" data-scope="KT16F7V1Xhc">Rounded decimal</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">floor</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token decimal">1.23</span> <span class="token word doc-word">floor</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>

<span class="token decimal">1.5</span> <span class="token word doc-word">floor</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token decimal">1.67</span> <span class="token word doc-word">floor</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>

<span class="token decimal">2.5</span> <span class="token word doc-word">floor</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>

<span class="token decimal">-2.5</span> <span class="token word doc-word">floor</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">-3</span> <span class="token comment">"rounds down!"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ceil">
      <a class="word-doc-head" href="#ceil">
        ceil
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="eHaOgyGoNX0">Decimal</span> -- <span class="doc-eff-id" data-scope="4O0H80G3DmM">Rounded decimal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Rounds <span class="doc-eff-id" data-scope="eHaOgyGoNX0">Decimal</span> <em>up</em> towards the nearest integer,
leaves the corresoinding <span class="doc-eff-id" data-scope="4O0H80G3DmM">Rounded decimal</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">ceil</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token decimal">1.23</span> <span class="token word doc-word">ceil</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>

<span class="token decimal">1.5</span> <span class="token word doc-word">ceil</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>
<span class="token decimal">1.67</span> <span class="token word doc-word">ceil</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>

<span class="token decimal">2.5</span> <span class="token word doc-word">ceil</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">3</span>

<span class="token decimal">-2.5</span> <span class="token word doc-word">ceil</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">-2</span> <span class="token comment">"rounds up!"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="trunc">
      <a class="word-doc-head" href="#trunc">
        trunc
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="OS3KG8Ypzrk">Decimal</span> -- <span class="doc-eff-id" data-scope="kJ5-5cqNvT4">Rounded decimal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Rounds <span class="doc-eff-id" data-scope="OS3KG8Ypzrk">Decimal</span> towards zero, leaves the resulting
<span class="doc-eff-id" data-scope="kJ5-5cqNvT4">Rounded decimal</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">1</span> <span class="token word doc-word">trunc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token decimal">1.23</span> <span class="token word doc-word">trunc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token decimal">1.5</span> <span class="token word doc-word">trunc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token decimal">1.67</span> <span class="token word doc-word">trunc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token decimal">2.5</span> <span class="token word doc-word">trunc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>

<span class="token decimal">-2.3</span> <span class="token word doc-word">trunc</span> <span class="token leaves word doc-word">leaves:</span>  <span class="token decimal">-2</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sqrt">
      <a class="word-doc-head" href="#sqrt">
        sqrt
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="cml48eQ5gQs">Decimal</span> -- <span class="doc-eff-id" data-scope="R3j2cykqTdE">Root</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the square <span class="doc-eff-id" data-scope="R3j2cykqTdE">Root</span> of <span class="doc-eff-id" data-scope="cml48eQ5gQs">Decimal</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="cos">
      <a class="word-doc-head" href="#cos">
        cos
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="sLO0lgpnib0">Angle in radians</span> -- <span class="doc-eff-id" data-scope="5v-rqX6Z3nU">Decimal cosine</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="5v-rqX6Z3nU">Decimal cosine</span> of <span class="doc-eff-id" data-scope="sLO0lgpnib0">Angle in radians</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sin">
      <a class="word-doc-head" href="#sin">
        sin
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="-g8mP0Axpec">Angle in radians</span> -- <span class="doc-eff-id" data-scope="3leDYKZX0vE">Decimal sine</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="3leDYKZX0vE">Decimal sine</span> of <span class="doc-eff-id" data-scope="-g8mP0Axpec">Angle in radians</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="rand">
      <a class="word-doc-head" href="#rand">
        rand
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="WAwk7905og0">Random decimal</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves a <span class="doc-eff-id" data-scope="WAwk7905og0">Random decimal</span> between 0 and 1.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="sliceQuoteAt">
      <a class="word-doc-head" href="#sliceQuoteAt">
        sliceQuoteAt
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="l0eBG4puNUg">Quote</span> <span class="doc-eff-id" data-scope="G6DtD7NNivw">Slice point</span> -- <span class="doc-eff-id" data-scope="nxWRbRqP0EQ">Part before</span> <span class="doc-eff-id" data-scope="1dqTPTXPexs">Part after</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>For the given <span class="doc-eff-id" data-scope="l0eBG4puNUg">Quote</span>, leaves the <span class="doc-eff-id" data-scope="nxWRbRqP0EQ">Part before</span> and <span class="doc-eff-id" data-scope="1dqTPTXPexs">Part after</span> <span class="doc-eff-id" data-scope="G6DtD7NNivw">Slice point</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello world'</span> <span class="token decimal">2</span> <span class="token word doc-word">sliceQuoteAt</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token quote">'he'</span> <span class="token quote">'llo world'</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="count">
      <a class="word-doc-head" href="#count">
        count
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="KbqghqM7oLg">Block</span>/<span class="doc-eff-id" data-scope="GJCd2gF5nZs">Quote</span>/<span class="doc-eff-id" data-scope="Y6TmXirPeuU">Byteslice form</span> -- N )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves N, the amount of elements/graphemes/
bytes in <span class="doc-eff-id" data-scope="KbqghqM7oLg">Block</span>/<span class="doc-eff-id" data-scope="GJCd2gF5nZs">Quote</span>/<span class="doc-eff-id" data-scope="Y6TmXirPeuU">Byteslice form</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="chr">
      <a class="word-doc-head" href="#chr">
        chr
        <span class="doc-head-effect">( Uc -- Q )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves a quote that consists of a single
character with the given Unicode codepoint.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="ord">
      <a class="word-doc-head" href="#ord">
        ord
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="BXeYb4DrRd4">Quote</span> -- Uc )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the Unicode codepoint for the first
character in <span class="doc-eff-id" data-scope="BXeYb4DrRd4">Quote</span>. Dies if <span class="doc-eff-id" data-scope="BXeYb4DrRd4">Quote</span> is empty.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="rpad">
      <a class="word-doc-head" href="#rpad">
        rpad
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ajq9rFbicOA">Quote</span> <span class="doc-eff-id" data-scope="W0uzHMsN7-k">Total length</span> <span class="doc-eff-id" data-scope="f6on7GCustk">Padding quote</span> -- <span class="doc-eff-id" data-scope="zTvX4Mirvig">Justified quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Appends consecutive characters in <span class="doc-eff-id" data-scope="f6on7GCustk">Padding quote</span>
to the right of <span class="doc-eff-id" data-scope="ajq9rFbicOA">Quote</span> (the last one is repeated if no more follow),
until <span class="doc-eff-id" data-scope="ajq9rFbicOA">Quote</span> count becomes equal to <span class="doc-eff-id" data-scope="W0uzHMsN7-k">Total length</span>. Leaves the resulting
<span class="doc-eff-id" data-scope="zTvX4Mirvig">Justified quote</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello'</span> <span class="token decimal">10</span> <span class="token quote">'-'</span> <span class="token word doc-word">rpad</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'hello-----'</span>
<span class="token quote">'hello'</span> <span class="token decimal">10</span> <span class="token quote">' -'</span> <span class="token word doc-word">rpad</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'hello ----'</span>
<span class="token quote">'hello'</span> <span class="token decimal">7</span> <span class="token quote">'foobar'</span> <span class="token word doc-word">rpad</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'hellofo'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="fit">
      <a class="word-doc-head" href="#fit">
        fit
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="FI1b5SIB540">Quote</span> <span class="doc-eff-id" data-scope="KKPNy93mO6w">Total length</span> <span class="doc-eff-id" data-scope="RFZE3BmtKQo">Ellipsis quote</span> -- <span class="doc-eff-id" data-scope="POJREyVZMCA">Fit quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>If <span class="doc-eff-id" data-scope="FI1b5SIB540">Quote</span> is longer than <span class="doc-eff-id" data-scope="KKPNy93mO6w">Total length</span>, truncates
it so that it can fit <span class="doc-eff-id" data-scope="RFZE3BmtKQo">Ellipsis quote</span>, and stitches the truncated
<span class="doc-eff-id" data-scope="FI1b5SIB540">Quote</span> with the <span class="doc-eff-id" data-scope="RFZE3BmtKQo">Ellipsis quote</span>, forming <span class="doc-eff-id" data-scope="POJREyVZMCA">Fit quote</span> which is then
left on the stack.</p>
<p>Essentially, <span class="doc-eff-id" data-scope="POJREyVZMCA">Fit quote</span> is guaranteed to be of <span class="doc-eff-id" data-scope="KKPNy93mO6w">Total length</span>
characters <strong>or less!</strong>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello'</span> <span class="token decimal">10</span> <span class="token quote">'…'</span> <span class="token word doc-word">fit</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'hello'</span>
<span class="token quote">'hello world'</span> <span class="token decimal">10</span> <span class="token quote">'…'</span> <span class="token word doc-word">fit</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'hello wor…'</span>
<span class="token quote">'hello world'</span> <span class="token decimal">8</span> <span class="token quote">''</span> <span class="token word doc-word">fit</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'hello wo'</span>
<span class="token quote">'Lorem ipsum dolor sit amet'</span> <span class="token decimal">10</span> <span class="token quote">'-'</span> <span class="token word doc-word">fit</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'Lorem ipsu-'</span>
<span class="token quote">'Lorem ipsum dolor sit amet'</span> <span class="token decimal">24</span> <span class="token quote">'… (hidden)'</span> <span class="token word doc-word">fit</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'Lorem ipsum do… (hidden)'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="|at">
      <a class="word-doc-head" href="#|at">
        |at
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="-In88X4vpAU">Block</span> -- N )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves N, the position of the cursor in <span class="doc-eff-id" data-scope="-In88X4vpAU">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|to">
      <a class="word-doc-head" href="#|to">
        |to
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="1r6ePZPTbss">Block</span> N -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Moves the cursor in <span class="doc-eff-id" data-scope="1r6ePZPTbss">Block</span> to N.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="&lt;|">
      <a class="word-doc-head" href="#&lt;|">
        &lt;|
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Moves stack cursor once to the left.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|&gt;">
      <a class="word-doc-head" href="#|&gt;">
        |&gt;
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Moves stack cursor once to the left.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="|slice">
      <a class="word-doc-head" href="#|slice">
        |slice
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="EVnJaaeFV2Q">Block</span> -- <span class="doc-eff-id" data-scope="aqLlw8JCUuc">Left half</span> <span class="doc-eff-id" data-scope="izs01v8FU-M">Right half</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Slices <span class="doc-eff-id" data-scope="EVnJaaeFV2Q">Block</span> at cursor. Leaves <span class="doc-eff-id" data-scope="aqLlw8JCUuc">Left half</span>
and <span class="doc-eff-id" data-scope="izs01v8FU-M">Right half</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="cherry">
      <a class="word-doc-head" href="#cherry">
        cherry
        <span class="doc-head-effect">( [ ... <span class="doc-eff-id" data-scope="SzEBMxVVUjM">Element</span> | ... ]<span class="doc-eff-id" data-scope="v06-3CnCwsM">Block</span> ~> [ ... | ... ]<span class="doc-eff-id" data-scope="v06-3CnCwsM">Block</span> -- <span class="doc-eff-id" data-scope="SzEBMxVVUjM">Element</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Drops <span class="doc-eff-id" data-scope="v06-3CnCwsM">Block</span>
and <span class="doc-eff-id" data-scope="SzEBMxVVUjM">Element</span> before cursor in <span class="doc-eff-id" data-scope="v06-3CnCwsM">Block</span> (and moves cursor back
once), leaves <span class="doc-eff-id" data-scope="SzEBMxVVUjM">Element</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="shove">
      <a class="word-doc-head" href="#shove">
        shove
        <span class="doc-head-effect">( [ ... | ... ]<span class="doc-eff-id" data-scope="rjlttnJRMJU">Block</span> <span class="doc-eff-id" data-scope="remUvLe2VNQ">Element</span> ~> [ ... <span class="doc-eff-id" data-scope="remUvLe2VNQ">Element</span> | ... ]<span class="doc-eff-id" data-scope="rjlttnJRMJU">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Adds <span class="doc-eff-id" data-scope="remUvLe2VNQ">Element</span>
before cursor in <span class="doc-eff-id" data-scope="rjlttnJRMJU">Block</span> (and moves cursor forward once),
drops both.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="shove*">
      <a class="word-doc-head" href="#shove*">
        shove*
        <span class="doc-head-effect">( [ ...bl | ...br ]<span class="doc-eff-id" data-scope="wYYCKdmqmno">Block</span> [ ...el | ...er ]<span class="doc-eff-id" data-scope="WuuFYvR0dKc">Element block</span> ~> [ ...bl ...el | ...br ]<span class="doc-eff-id" data-scope="wYYCKdmqmno">Block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Adds
elements before cursor in <span class="doc-eff-id" data-scope="WuuFYvR0dKc">Element block</span> after the cursor in <span class="doc-eff-id" data-scope="wYYCKdmqmno">Block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">xs</span>
<span class="token word">xs</span> [ <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> ] <span class="token word doc-word">shove*</span>
<span class="token word">xs</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> <span class="token decimal">4</span> <span class="token decimal">5</span> <span class="token decimal">6</span> <span class="token comment">"|"</span> ] ]

[ <span class="token decimal">1</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">ys</span>
<span class="token word">ys</span> [ <span class="token decimal">100</span> <span class="token decimal">200</span> <span class="token decimal">300</span> ] <span class="token word doc-word">shove*</span>
<span class="token word">ys</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">100</span> <span class="token decimal">200</span> <span class="token decimal">300</span> <span class="token word">|</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="eject">
      <a class="word-doc-head" href="#eject">
        eject
        <span class="doc-head-effect">( [ ... | <span class="doc-eff-id" data-scope="16Vypbwhzgk">Form</span> ... ]<span class="doc-eff-id" data-scope="IRYTL3_TKII">Block</span> ~> [ ... | ... ]<span class="doc-eff-id" data-scope="IRYTL3_TKII">Block</span> -- <span class="doc-eff-id" data-scope="16Vypbwhzgk">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Drops and
leaves the <span class="doc-eff-id" data-scope="16Vypbwhzgk">Form</span> after cursor in <span class="doc-eff-id" data-scope="IRYTL3_TKII">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="inject">
      <a class="word-doc-head" href="#inject">
        inject
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="bI_tIfcayz8">Block</span> <span class="doc-eff-id" data-scope="qzK3XgO6NCo">Form</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Inserts <span class="doc-eff-id" data-scope="qzK3XgO6NCo">Form</span> to <span class="doc-eff-id" data-scope="bI_tIfcayz8">Block</span>: adds <span class="doc-eff-id" data-scope="qzK3XgO6NCo">Form</span> to <span class="doc-eff-id" data-scope="bI_tIfcayz8">Block</span>,
and moves cursor back again.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="thru">
      <a class="word-doc-head" href="#thru">
        thru
        <span class="doc-head-effect">( [ ... | <span class="doc-eff-id" data-scope="X4_Jbf0KcUI">Form</span> ... ] -> [ ... <span class="doc-eff-id" data-scope="X4_Jbf0KcUI">Form</span> | ... ] -- <span class="doc-eff-id" data-scope="X4_Jbf0KcUI">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Moves cursor
after <span class="doc-eff-id" data-scope="X4_Jbf0KcUI">Form</span>, and leaves <span class="doc-eff-id" data-scope="X4_Jbf0KcUI">Form</span>. Dies if cursor is at the end.</p>
<p>Note: prefer <code class="inline-word-ref">thru</code> to <code class="inline-word-ref">eject</code> because <code class="inline-word-ref">eject</code> modifies
the block, and that may cause a tape copy which uses up
a bit of memory and resources. The difference would matter
only in high load scenarios, though.</p>
<p>Note: anything that <em>does not</em> <code>ahead inject</code> will be OK
with <code>ahead thru</code>. And even if it does <code>ahead inject</code>,
still, there are ways to overcome the problems from not
<code>ahead eject</code>ing.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="thruBlock">
      <a class="word-doc-head" href="#thruBlock">
        thruBlock
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="OqpN1jMsCC8">Block</span> -- <span class="doc-eff-id" data-scope="0WNJCiQ5SCw">Block form</span> / [ <span class="doc-eff-id" data-scope="qfvcmrERHck">Value form</span> ] )</span>
      </a>
      <div class="word-doc-desc">
        <p>Similar to <code class="inline-word-ref">thru</code> for <span class="doc-eff-id" data-scope="OqpN1jMsCC8">Block</span>. If
form after cursor is a <span class="doc-eff-id" data-scope="0WNJCiQ5SCw">Block form</span>, it is left. If it is
a <span class="doc-eff-id" data-scope="qfvcmrERHck">Value form</span>, then it is enclosed in a new block whose
parent is <span class="doc-eff-id" data-scope="OqpN1jMsCC8">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="top">
      <a class="word-doc-head" href="#top">
        top
        <span class="doc-head-effect">( [ ... <span class="doc-eff-id" data-scope="dKvbVGzj9FA">Form</span> | ... ]<span class="doc-eff-id" data-scope="4tJVYCWj6Ws">Block</span> -- <span class="doc-eff-id" data-scope="dKvbVGzj9FA">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the top <span class="doc-eff-id" data-scope="dKvbVGzj9FA">Form</span> in <span class="doc-eff-id" data-scope="4tJVYCWj6Ws">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="mergeDicts">
      <a class="word-doc-head" href="#mergeDicts">
        mergeDicts
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="CEu5W3ghQmI">Recipient block</span> <span class="doc-eff-id" data-scope="zxATQhze6pk">Donor block</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Copies entries from <span class="doc-eff-id" data-scope="zxATQhze6pk">Donor block</span>'s dictionary
to <span class="doc-eff-id" data-scope="CEu5W3ghQmI">Recipient block</span>'s dictionary. Donor entries override
same-named entries in Recipient. Donor entries starting
with one or more underscores are not imported.</p>
<pre class="language-novika"><code class="language-novika">[ ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
<span class="token word">a</span> <span class="token qword">#x</span> <span class="token decimal">100</span> <span class="token word doc-word">pushes</span><span class="token entryworks"></span>
<span class="token word">a</span> <span class="token qword">#_private</span> <span class="token quote">'Fool!'</span> <span class="token word doc-word">pushes</span><span class="token entryworks"></span>
[ ] <span class="token word doc-word">$:</span> <span class="token word">b</span>
<span class="token word">b</span> <span class="token qword">#y</span> <span class="token decimal">200</span> <span class="token word doc-word">pushes</span><span class="token entryworks"></span>

<span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">2echo</span>
<span class="token comment">"STDOUT: [ · ${x :: 100} ${_private :: 'Fool!'} ]⏎"</span>
<span class="token comment">"STDOUT: [ · ${y :: 200} ]⏎"</span>

<span class="token word">b</span> <span class="token word">a</span> <span class="token word doc-word">mergeDicts</span>
<span class="token word">b</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: [ · ${y :: 200} ${x :: 100} ]⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="sortUsing!">
      <a class="word-doc-head" href="#sortUsing!">
        sortUsing!
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="mz_Usvl8uSw">Block</span> <span class="doc-eff-id" data-scope="QWj5bM5KC1g">Comparator block</span> -- <span class="doc-eff-id" data-scope="mz_Usvl8uSw">Block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="mz_Usvl8uSw">Block</span> sorted inplace. Forms in <span class="doc-eff-id" data-scope="mz_Usvl8uSw">Block</span>
are compared using <span class="doc-eff-id" data-scope="QWj5bM5KC1g">Comparator block</span>.</p>
<p><span class="doc-eff-id" data-scope="QWj5bM5KC1g">Comparator block</span> is opened with two forms on the stack; let's
call them A and B. If <span class="doc-eff-id" data-scope="QWj5bM5KC1g">Comparator block</span> leaves a negative decimal
(conventionally <code>-1</code>), then <code>A &lt; B</code>. If <span class="doc-eff-id" data-scope="QWj5bM5KC1g">Comparator block</span> leaves
<code>0</code>, then <code>A = B</code>. If <span class="doc-eff-id" data-scope="QWj5bM5KC1g">Comparator block</span> leaves a positive decimal
(conventionally <code>1</code>), then <code>A &gt; B</code>.</p>
<p>Dies if <span class="doc-eff-id" data-scope="QWj5bM5KC1g">Comparator block</span> leaves any other (kind of) form.</p>
<p>Ignores all forms but the topmost for <span class="doc-eff-id" data-scope="QWj5bM5KC1g">Comparator block</span>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">3</span> <span class="token decimal">2</span> <span class="token decimal">1</span> ] [ <span class="token word doc-word">-</span><span class="token magnitudal"></span> ] <span class="token word doc-word">sortUsing!</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="getErrorDetails">
      <a class="word-doc-head" href="#getErrorDetails">
        getErrorDetails
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="oq_kOSfkvB4">Error object</span> -- <span class="doc-eff-id" data-scope="doKcaZb0kJ8">Details quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="doKcaZb0kJ8">Details quote</span> containing error details
of an <span class="doc-eff-id" data-scope="oq_kOSfkvB4">Error object</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="toQuote">
      <a class="word-doc-head" href="#toQuote">
        toQuote
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="8Eav-47vt_4">Form</span> -- <span class="doc-eff-id" data-scope="ppfy52-uAmE">Quote representation</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="ppfy52-uAmE">Quote representation</span> of <span class="doc-eff-id" data-scope="8Eav-47vt_4">Form</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="toByteslice">
      <a class="word-doc-head" href="#toByteslice">
        toByteslice
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="RDBtgyEjWqs">Quote</span> -- B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves immutable Byteslice for <span class="doc-eff-id" data-scope="RDBtgyEjWqs">Quote</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="replaceAll">
      <a class="word-doc-head" href="#replaceAll">
        replaceAll
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="xk5WWO-KOS4">Source quote</span> <span class="doc-eff-id" data-scope="-PRzHFJkJPo">Pattern quote</span> <span class="doc-eff-id" data-scope="hjG843dUiCE">Quote</span> -- <span class="doc-eff-id" data-scope="st24G0USo4Q">Resulting quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Replaces all instances of <span class="doc-eff-id" data-scope="-PRzHFJkJPo">Pattern quote</span>
in <span class="doc-eff-id" data-scope="xk5WWO-KOS4">Source quote</span> with <span class="doc-eff-id" data-scope="hjG843dUiCE">Quote</span>. Leaves the <span class="doc-eff-id" data-scope="st24G0USo4Q">Resulting quote</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello'</span> <span class="token quote">'l'</span> <span class="token quote">'y'</span> <span class="token word doc-word">replaceAll</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'heyyo'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="effect">
      <a class="word-doc-head" href="#effect">
        effect
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="HKLz7j9LhkI">Form</span> -- <span class="doc-eff-id" data-scope="uUjuvu8dHjI">Effect quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="uUjuvu8dHjI">Effect quote</span> for <span class="doc-eff-id" data-scope="HKLz7j9LhkI">Form</span>.</p>
<p>If <span class="doc-eff-id" data-scope="HKLz7j9LhkI">Form</span> is not a block nor a builtin, it is simply converted
to quote in the same way as <code class="inline-word-ref">toQuote</code>.</p>
<p>If <span class="doc-eff-id" data-scope="HKLz7j9LhkI">Form</span> is a block or a builtin, an attempt is made at
extracting a stack effect expression from its comment.
If the attempt fails, <span class="doc-eff-id" data-scope="HKLz7j9LhkI">Form</span>'s description is left. If the
attempt was successful, the extracted stack effect quote
is added onto the stack as <span class="doc-eff-id" data-scope="uUjuvu8dHjI">Effect quote</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">effect</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'100'</span>
<span class="token word">true</span><span class="token boolean"></span> <span class="token word doc-word">effect</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'true'</span>

[] <span class="token word doc-word">effect</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'a block'</span>
[ <span class="token comment">"Hello World"</span> ] <span class="token word doc-word">effect</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'a block'</span>
[ <span class="token comment">"( -- ) "</span>] <span class="token word doc-word">effect</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'( -- )'</span>

<span class="token qword">#+</span> <span class="token word doc-word">here</span> <span class="token word doc-word">effect</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'( A B -- S )'</span> <span class="token comment">"(yours may differ)"</span>
<span class="token qword">#map:</span> <span class="token word doc-word">here</span> <span class="token word doc-word">effect</span><span class="token blockworks"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'( Lb B -- MLb )'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="die">
      <a class="word-doc-head" href="#die">
        die
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="dQIFyl5D0mc">Details</span>/<span class="doc-eff-id" data-scope="sFFwKJEThgM">Error object</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Dies with <span class="doc-eff-id" data-scope="dQIFyl5D0mc">Details</span> quote/<span class="doc-eff-id" data-scope="sFFwKJEThgM">Error object</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="stitch">
      <a class="word-doc-head" href="#stitch">
        stitch
        <span class="doc-head-effect">( Q1 Q2 -- Q3 )</span>
      </a>
      <div class="word-doc-desc">
        <p>Quote concatenation.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="ls">
      <a class="word-doc-head" href="#ls">
        ls
        <span class="doc-head-effect">( B -- <span class="doc-eff-id" data-scope="3dW4KmLlMPA">Name block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Gathers all dictionary entry names into
<span class="doc-eff-id" data-scope="3dW4KmLlMPA">Name block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="reparent">
      <a class="word-doc-head" href="#reparent">
        reparent
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="d-fIO6P2rYc">Child</span> <span class="doc-eff-id" data-scope="as_Nj5NA0iA">Parent</span> -- <span class="doc-eff-id" data-scope="d-fIO6P2rYc">Child</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Changes the parent of <span class="doc-eff-id" data-scope="d-fIO6P2rYc">Child</span> to <span class="doc-eff-id" data-scope="as_Nj5NA0iA">Parent</span>. Lookup
cycles are allowed and handled gracefully.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="befriend">
      <a class="word-doc-head" href="#befriend">
        befriend
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="A4fVfWxsC9g">Block</span> <span class="doc-eff-id" data-scope="jDWQuX8aXFA">Friend</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Adds <span class="doc-eff-id" data-scope="jDWQuX8aXFA">Friend</span> to <span class="doc-eff-id" data-scope="A4fVfWxsC9g">Block</span>'s friend list.</p>
<p>Friends are asked for word entries after parents, grandparents
etc. have failed to retrieve them. This recurses, e.g. friends
ask their own friends and so on, until the entry is found. Lookup
cycles are allowed and handled gracefully.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">$:</span> <span class="token word">a</span>
[ <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">$:</span> <span class="token word">b</span>
<span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">befriend</span><span class="token blockworks"></span>
<span class="token word">b</span> <span class="token word">a</span> <span class="token word doc-word">befriend</span><span class="token blockworks"></span>
<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 100⏎"</span>

<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 200⏎"</span>

<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 100⏎"</span>

<span class="token word">b</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 200⏎"</span>

<span class="token word">a</span> <span class="token qword">#x</span> [ <span class="token quote">'I'</span><span class="token word">ve</span> <span class="token word">changed!</span><span class="token quote">' echo ] opens

a.x
"STDOUT: I'</span><span class="token word">ve</span> <span class="token word">changed!⏎</span><span class="token comment">"
b.x
"</span><span class="token word">STDOUT:</span> <span class="token word">I</span>'<span class="token word">ve</span> <span class="token word">changed!⏎</span>"
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="unfriend">
      <a class="word-doc-head" href="#unfriend">
        unfriend
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Lwu3z6j_f58">Block</span> <span class="doc-eff-id" data-scope="4BXtUWI545U">Friend</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Removes <span class="doc-eff-id" data-scope="4BXtUWI545U">Friend</span> from <span class="doc-eff-id" data-scope="Lwu3z6j_f58">Block</span>'s friend list. Does
nothing if <span class="doc-eff-id" data-scope="4BXtUWI545U">Friend</span> is not in the friend list. See <code class="inline-word-ref">befriend</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">$:</span> <span class="token word">a</span>
[ <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">$:</span> <span class="token word">b</span>
<span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">befriend</span><span class="token blockworks"></span>
<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 100⏎"</span>
<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 200⏎"</span>
<span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">unfriend</span><span class="token blockworks"></span>
<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 100⏎"</span>
<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token word doc-word">echo</span>
<span class="token comment">"Sorry: no value form found for 'y'."</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="friends">
      <a class="word-doc-head" href="#friends">
        friends
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="VhQOVKEp1rI">Block</span> -- <span class="doc-eff-id" data-scope="Xqe460FVT_U">Friend list</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="Xqe460FVT_U">Friend list</span> of <span class="doc-eff-id" data-scope="VhQOVKEp1rI">Block</span>. See <code class="inline-word-ref">befriend</code>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">$:</span> <span class="token word">a</span>
[ <span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span> <span class="token word doc-word">this</span><span class="token this"></span> ] <span class="token word doc-word">open</span><span class="token control"></span> <span class="token word doc-word">$:</span> <span class="token word">b</span>
<span class="token word">a</span> <span class="token word">b</span> <span class="token word doc-word">befriend</span><span class="token blockworks"></span>
<span class="token word">a</span> <span class="token word doc-word">friends</span><span class="token blockworks"></span> <span class="token word doc-word">count</span><span class="token blockworks"></span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 1⏎"</span>
<span class="token word">a</span> <span class="token word doc-word">friends</span><span class="token blockworks"></span> <span class="token word doc-word">first</span> <span class="token word">b</span> <span class="token word doc-word">same?</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: true⏎"</span>
<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 200⏎"</span>
<span class="token word">a</span> <span class="token word doc-word">friends</span><span class="token blockworks"></span> [ <span class="token word doc-word">drop</span><span class="token stackworks"></span> ] <span class="token word doc-word">hydrate</span><span class="token control"></span>
<span class="token word">a</span> <span class="token word doc-word">friends</span><span class="token blockworks"></span> <span class="token word doc-word">count</span><span class="token blockworks"></span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 0⏎"</span>
<span class="token word">a</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token word doc-word">echo</span>
<span class="token comment">"Sorry: no value form found for 'y'."</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="slurp">
      <a class="word-doc-head" href="#slurp">
        slurp
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="dcPuUPJDmFw">Block</span> <span class="doc-eff-id" data-scope="6GSB8WC00Ec">Quote</span> -- <span class="doc-eff-id" data-scope="dcPuUPJDmFw">Block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Parses <span class="doc-eff-id" data-scope="6GSB8WC00Ec">Quote</span> and adds all forms from <span class="doc-eff-id" data-scope="6GSB8WC00Ec">Quote</span>
to <span class="doc-eff-id" data-scope="dcPuUPJDmFw">Block</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="orphan">
      <a class="word-doc-head" href="#orphan">
        orphan
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="F_dbvd_isko">Orphan</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves an <span class="doc-eff-id" data-scope="F_dbvd_isko">Orphan</span> (a parent-less block).</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="orphan?">
      <a class="word-doc-head" href="#orphan?">
        orphan?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="wPI54IGk838">Block</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="wPI54IGk838">Block</span> is an orphan.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="toOrphan">
      <a class="word-doc-head" href="#toOrphan">
        toOrphan
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="KbgpOfLuvTk">Block</span> -- <span class="doc-eff-id" data-scope="KbgpOfLuvTk">Block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Makes <span class="doc-eff-id" data-scope="KbgpOfLuvTk">Block</span> an orphan (destroys the link with
its parent).</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">0</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>
[ ] <span class="token word doc-word">$:</span> <span class="token word">b</span>
<span class="token word">b</span> <span class="token word doc-word">.</span> <span class="token word">x</span> <span class="token word doc-word">echo</span>
<span class="token comment">"STDOUT: 0⏎"</span>

<span class="token word">b</span> <span class="token word doc-word">toOrphan</span> <span class="token leaves word doc-word">leaves:</span> [ [ ] ]
<span class="token word doc-word">.</span> <span class="token word">x</span>
<span class="token comment">"Sorry: no value form found for 'x'"</span>"
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="toTape">
      <a class="word-doc-head" href="#toTape">
        toTape
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="XH_B9iNCyVw">Block</span> -- <span class="doc-eff-id" data-scope="_P37sl6ey4g">Tape block</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="_P37sl6ey4g">Tape block</span> for <span class="doc-eff-id" data-scope="XH_B9iNCyVw">Block</span>. Useful for e.g.
comparing two blocks only for tape contents, when <span class="doc-eff-id" data-scope="XH_B9iNCyVw">Block</span> may
have dictionary entries.</p>
<p>Lookup hierarchy is destroyed: <span class="doc-eff-id" data-scope="_P37sl6ey4g">Tape block</span> is an orphan.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">$:</span> <span class="token word">a</span>
<span class="token word">a</span> <span class="token qword">#x</span> <span class="token decimal">0</span> <span class="token word doc-word">pushes</span><span class="token entryworks"></span>
<span class="token word">a</span> <span class="token word">a</span> <span class="token word doc-word">toTape</span> <span class="token word doc-word">2echo</span>
<span class="token comment">"STDOUT: [ 1 2 3 · ${x :: 0} ]⏎"</span>
<span class="token comment">"STDOUT: [ 1 2 3 ]⏎"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="desc">
      <a class="word-doc-head" href="#desc">
        desc
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="bGmqdnkWbWs">Form</span> -- <span class="doc-eff-id" data-scope="qxxXOtdFSX4">Description quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="qxxXOtdFSX4">Description quote</span> of the given <span class="doc-eff-id" data-scope="bGmqdnkWbWs">Form</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">desc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'decimal number 100'</span>
<span class="token quote">'foobar'</span> <span class="token word doc-word">desc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'quote '</span><span class="token word">foobar</span><span class="token quote">''</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">desc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'a block'</span>
[ <span class="token comment">"I am a block"</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">desc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'I am a block'</span>
<span class="token word">true</span><span class="token boolean"></span> <span class="token word doc-word">desc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'boolean true'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="typedesc">
      <a class="word-doc-head" href="#typedesc">
        typedesc
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="751rdm5eTpA">Form</span> -- <span class="doc-eff-id" data-scope="-rDXu4mIlnw">Description quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the type <span class="doc-eff-id" data-scope="-rDXu4mIlnw">Description quote</span> of the
given <span class="doc-eff-id" data-scope="751rdm5eTpA">Form</span>.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">100</span> <span class="token word doc-word">typedesc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'decimal'</span>
<span class="token quote">'foobar'</span> <span class="token word doc-word">typedesc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'quote'</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">typedesc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'block'</span>
[ <span class="token comment">"I am a block"</span> <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">typedesc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'block'</span>
<span class="token word">true</span><span class="token boolean"></span> <span class="token word doc-word">typedesc</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'boolean'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:toBlock">
      <a class="word-doc-head" href="#nki:toBlock">
        nki:toBlock
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="vIeLKFSF7OU">Block for</span> -- B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="vIeLKFSF7OU">Block for</span> the given Byteslice form,
assumed to contain a well-formed Novika image created
with <code class="inline-word-ref">nki:captureAll</code>, <code class="inline-word-ref">nki:captureNeighborhood</code>, or
otherwise. Dies if Byteslice form is an invalid Novika
image, or isn't a Novika image.</p>
<p>For code example, see <code class="inline-word-ref">nki:captureNeighborhood</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureAll">
      <a class="word-doc-head" href="#nki:captureAll">
        nki:captureAll
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="jA6DNnpEP4w">Block</span> -- <span class="doc-eff-id" data-scope="YlJUz1IRoRQ">Byteslice form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Thoroughly, recursively captures entire
hierarchy of <span class="doc-eff-id" data-scope="jA6DNnpEP4w">Block</span> (its parents, prototype, friends,
tape, and dictionary), and leaves the resulting Novika
image as a <span class="doc-eff-id" data-scope="YlJUz1IRoRQ">Byteslice form</span>.</p>
<p>Archives image payload using Gzip, fast.</p>
<p>If you're a visual type of person, imagine this word and
all related facilities as a kind of &quot;mold&quot;, which carefully,
in an ordered fashion &quot;fills up&quot; a maze, until all paths
were explored and all exits found.</p>
<p>For code example, see <code class="inline-word-ref">nki:captureNeighborhood</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureNeighborhood">
      <a class="word-doc-head" href="#nki:captureNeighborhood">
        nki:captureNeighborhood
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="gcbfS_6E190">Block</span> -- <span class="doc-eff-id" data-scope="w4NozgNZgZk">Byteslice form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Like <code class="inline-word-ref">nki:captureAll</code>, but rather than
capturing all reachable blocks, captures only <span class="doc-eff-id" data-scope="gcbfS_6E190">Block</span>'s
neighborhood. Leaves the resulting <span class="doc-eff-id" data-scope="w4NozgNZgZk">Byteslice form</span>.</p>
<p>Archives image payload using Gzip, fast.</p>
<p>We store each block in <span class="doc-eff-id" data-scope="gcbfS_6E190">Block</span>'s tape and dictionary in
a list, then ask that block to do the same. When recursion
finishes, the resulting list is called <em>block neighborhood</em>.</p>
<p>Parent, friends, and prototype of the given block are
reconstructed <em>if and only if they are in the block
neighborhood</em>.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">nki:captureNeighborhood</span> <span class="token word doc-word">$:</span> <span class="token word">imgN</span>

<span class="token word">imgN</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[byteslice, consists of 111 byte(s)]'</span> <span class="token comment">"yours may differ!"</span>
<span class="token word">imgN</span> <span class="token word doc-word">nki:toBlock</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]

<span class="token comment">"As opposed to nki:captureAll, which will capture EVERYTHING
 it can reach:"</span>
[ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] <span class="token word doc-word">nki:captureAll</span> <span class="token word doc-word">$:</span> <span class="token word">imgA</span>

<span class="token word">imgA</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'[byteslice, consists of 38298 byte(s)]'</span> <span class="token comment">"yours may differ!"</span>

<span class="token comment">"Note: [ 1 2 3 ] lives in a parallel universe now, with
 its own friends, prototypes, toplevel block, and so on!
 It doesn't have any links whatsoever to the whoever-it-was
 that called nki:captureAll!"</span>
<span class="token word">imgA</span> <span class="token word doc-word">nki:toBlock</span> <span class="token leaves word doc-word">leaves:</span> [ [ <span class="token decimal">1</span> <span class="token decimal">2</span> <span class="token decimal">3</span> ] ]
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureAllRaw">
      <a class="word-doc-head" href="#nki:captureAllRaw">
        nki:captureAllRaw
        <span class="doc-head-effect">( B -- Bf )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">nki:captureAll</code>, but doesn't archive
image payload. May yield very large Byteslice forms.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureNeighborhoodRaw">
      <a class="word-doc-head" href="#nki:captureNeighborhoodRaw">
        nki:captureNeighborhoodRaw
        <span class="doc-head-effect">( B -- Bf )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">nki:captureNeighborhood</code>, but doesn't
archive image payload. May yield large Byteslice forms.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureAllGzipBest">
      <a class="word-doc-head" href="#nki:captureAllGzipBest">
        nki:captureAllGzipBest
        <span class="doc-head-effect">( B -- Bf )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">nki:captureAll</code>, but archives image
payload using Gzip, best.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureNeighborhoodGzipBest">
      <a class="word-doc-head" href="#nki:captureNeighborhoodGzipBest">
        nki:captureNeighborhoodGzipBest
        <span class="doc-head-effect">( B -- Bf )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">nki:captureNeighborhood</code>, but
archives image payload using Gzip, best.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureAllBrotliFast">
      <a class="word-doc-head" href="#nki:captureAllBrotliFast">
        nki:captureAllBrotliFast
        <span class="doc-head-effect">( B -- Bf )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">nki:captureAll</code>, but archives image
payload using Brotli, fast.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureNeighborhoodBrotliFast">
      <a class="word-doc-head" href="#nki:captureNeighborhoodBrotliFast">
        nki:captureNeighborhoodBrotliFast
        <span class="doc-head-effect">( B -- Bf )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">nki:captureNeighborhood</code>, but
archives image payload using Brotli, fast.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureAllBrotliBest">
      <a class="word-doc-head" href="#nki:captureAllBrotliBest">
        nki:captureAllBrotliBest
        <span class="doc-head-effect">( B -- Bf )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">nki:captureAll</code>, but archives image
payload using Brotli, best.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="nki:captureNeighborhoodBrotliBest">
      <a class="word-doc-head" href="#nki:captureNeighborhoodBrotliBest">
        nki:captureNeighborhoodBrotliBest
        <span class="doc-head-effect">( B -- Bf )</span>
      </a>
      <div class="word-doc-desc">
        <p>Same as <code class="inline-word-ref">nki:captureNeighborhood</code>, but
archives image payload using Brotli, best.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:on">
      <a class="word-doc-head" href="#console:on">
        console:on
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Enables the console. Must be called before using
any other console-related word.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:off">
      <a class="word-doc-head" href="#console:off">
        console:off
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Disables the console. Must be called at the end
of your program or when you don't need console anymore.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:compat">
      <a class="word-doc-head" href="#console:compat">
        console:compat
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Enables the compatibility color output mode. In
this mode, only 8 colors are available. All RGB colors
are automatically reduced to one of those 8 colors.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:256">
      <a class="word-doc-head" href="#console:256">
        console:256
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Enables the 256-color output mode. In this mode,
256 colors are available. All RGB colors are automatically
reduced to one of those 256 colors.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:truecolor">
      <a class="word-doc-head" href="#console:truecolor">
        console:truecolor
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Enables the truecolor output mode. In this mode,
all colors are available and are passed to the console
as-is.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:size">
      <a class="word-doc-head" href="#console:size">
        console:size
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="8qDf6XZxnCo">Console width</span> <span class="doc-eff-id" data-scope="L1o78d0bzGM">Console height</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the <span class="doc-eff-id" data-scope="8qDf6XZxnCo">Console width</span> (in columns) and
<span class="doc-eff-id" data-scope="L1o78d0bzGM">Console height</span> (in rows).</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:setTimeout">
      <a class="word-doc-head" href="#console:setTimeout">
        console:setTimeout
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="wriAyOCYDQ8">Duration</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Sets input timeout to <span class="doc-eff-id" data-scope="wriAyOCYDQ8">Duration</span>, given in <em>milliseconds</em>.</p>
<ul>
<li>
<p>If <span class="doc-eff-id" data-scope="wriAyOCYDQ8">Duration</span> is negative, <code class="inline-word-ref">console:readKey</code> will wait
for input indefinitely (i.e., until there is input).</p>
</li>
<li>
<p>If <span class="doc-eff-id" data-scope="wriAyOCYDQ8">Duration</span> is zero, <code class="inline-word-ref">console:readKey</code> won't wait for
input at all, but make note if there is any at the moment.</p>
</li>
<li>
<p>If <span class="doc-eff-id" data-scope="wriAyOCYDQ8">Duration</span> is positive, <code class="inline-word-ref">console:readKey</code> will peek
during the timeout window.</p>
</li>
</ul>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:readKey">
      <a class="word-doc-head" href="#console:readKey">
        console:readKey
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Peeks or waits for input. See <code class="inline-word-ref">console:setTimeout</code>.
Refreshes the input state. Use <code>console:hadKeyPressed</code> and
friends to explore the input state afterwards.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadKeyPressed?">
      <a class="word-doc-head" href="#console:hadKeyPressed?">
        console:hadKeyPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="tId41bB4h3o">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="tId41bB4h3o">Boolean</span> for whether any key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadCtrlPressed?">
      <a class="word-doc-head" href="#console:hadCtrlPressed?">
        console:hadCtrlPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="1hLHtPSiywE">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="1hLHtPSiywE">Boolean</span> for whether the CTRL key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadAltPressed?">
      <a class="word-doc-head" href="#console:hadAltPressed?">
        console:hadAltPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="yMHYjR4-dt8">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="yMHYjR4-dt8">Boolean</span> for whether the ALT key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadShiftPressed?">
      <a class="word-doc-head" href="#console:hadShiftPressed?">
        console:hadShiftPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="dXj0OQVujMI">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="dXj0OQVujMI">Boolean</span> for whether the SHIFT key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadBackspacePressed?">
      <a class="word-doc-head" href="#console:hadBackspacePressed?">
        console:hadBackspacePressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="C5hqJiEqjv4">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="C5hqJiEqjv4">Boolean</span> for whether the Backspace key
was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadFnPressed?">
      <a class="word-doc-head" href="#console:hadFnPressed?">
        console:hadFnPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="rn2A9AiI5Sc">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="rn2A9AiI5Sc">Boolean</span> for whether one of the function
keys F1-F12 was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadInsertPressed?">
      <a class="word-doc-head" href="#console:hadInsertPressed?">
        console:hadInsertPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="1SuPpPikMSg">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="1SuPpPikMSg">Boolean</span> for whether the INSERT key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadDeletePressed?">
      <a class="word-doc-head" href="#console:hadDeletePressed?">
        console:hadDeletePressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="OBDnHfyko1U">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="OBDnHfyko1U">Boolean</span> for whether the DELETE key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadHomePressed?">
      <a class="word-doc-head" href="#console:hadHomePressed?">
        console:hadHomePressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="a2nBV-IMuN4">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="a2nBV-IMuN4">Boolean</span> for whether the HOME key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadEndPressed?">
      <a class="word-doc-head" href="#console:hadEndPressed?">
        console:hadEndPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="64mvuPsDbIw">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="64mvuPsDbIw">Boolean</span> for whether the END key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadPageUpPressed?">
      <a class="word-doc-head" href="#console:hadPageUpPressed?">
        console:hadPageUpPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="5lL8XeE-wcU">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="5lL8XeE-wcU">Boolean</span> for whether the PAGE UP key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadPageDownPressed?">
      <a class="word-doc-head" href="#console:hadPageDownPressed?">
        console:hadPageDownPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="QANmVlb-YzU">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="QANmVlb-YzU">Boolean</span> for whether the PAGE DOWN key was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadLeftPressed?">
      <a class="word-doc-head" href="#console:hadLeftPressed?">
        console:hadLeftPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="ZIsb5PttQJ4">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="ZIsb5PttQJ4">Boolean</span> for whether the LEFT ARROW key
was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadRightPressed?">
      <a class="word-doc-head" href="#console:hadRightPressed?">
        console:hadRightPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="tJMmQrYdyqc">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="tJMmQrYdyqc">Boolean</span> for whether the RIGHT ARROW key
was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadUpPressed?">
      <a class="word-doc-head" href="#console:hadUpPressed?">
        console:hadUpPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="Ra_TiYTDaRc">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="Ra_TiYTDaRc">Boolean</span> for whether the UP ARROW key
was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadDownPressed?">
      <a class="word-doc-head" href="#console:hadDownPressed?">
        console:hadDownPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="lhU1UDGGymg">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="lhU1UDGGymg">Boolean</span> for whether the DOWN ARROW key
was pressed.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:hadCharPressed?">
      <a class="word-doc-head" href="#console:hadCharPressed?">
        console:hadCharPressed?
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="8AM28bUbPZA">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="8AM28bUbPZA">Boolean</span> for whether EXCLUSIVELY a printable
character key was pressed (no CTRL, ALT, etc.) Whether the
SHIFT key was pressed or not is ignored.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:getCharPressed">
      <a class="word-doc-head" href="#console:getCharPressed">
        console:getCharPressed
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="9Ix5aEbPUzY">Char quote</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="9Ix5aEbPUzY">Char quote</span> for the key that was pressed.
Usually a lowercase or uppercase letter; but also may look
like <code>' '</code> or <code>'	'</code>, etc.)</p>
<p>In case the key that was pressed cannot be represented
by the means of a quote, or if the user did not press
any key, an empty quote is left in place of <span class="doc-eff-id" data-scope="9Ix5aEbPUzY">Char quote</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:change">
      <a class="word-doc-head" href="#console:change">
        console:change
        <span class="doc-head-effect">( X Y -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Changes the color of the cell at X, Y coordinates
to be the foreground, background colors set by ink's
<code class="inline-word-ref">withEchoFg</code> and <code class="inline-word-ref">withEchoBg</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:appendEcho">
      <a class="word-doc-head" href="#console:appendEcho">
        console:appendEcho
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="7hnn2AaYEeY">Form</span> X Y -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Appends echo of <span class="doc-eff-id" data-scope="7hnn2AaYEeY">Form</span> at an X and Y position
(in columns and rows correspondingly) using the foreground,
background colors set by ink's <code class="inline-word-ref">withEchoFg</code> and <code class="inline-word-ref">withEchoBg</code>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:withReverseAppendEcho">
      <a class="word-doc-head" href="#console:withReverseAppendEcho">
        console:withReverseAppendEcho
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="aJeWv-f61Ko">Form</span> X Y -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Appends <span class="doc-eff-id" data-scope="aJeWv-f61Ko">Form</span> with foreground and background
colors swapped with each other (background color is set
to foreground color, and vice versa).</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:present">
      <a class="word-doc-head" href="#console:present">
        console:present
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Syncs internal buffer and console.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="console:clear">
      <a class="word-doc-head" href="#console:clear">
        console:clear
        <span class="doc-head-effect">( -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Clears console with primary colors.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:has?">
      <a class="word-doc-head" href="#disk:has?">
        disk:has?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="2rmz4y_JAs8">Path quote</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="2rmz4y_JAs8">Path quote</span> exists
on the disk.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:canRead?">
      <a class="word-doc-head" href="#disk:canRead?">
        disk:canRead?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Q3wRyf8gT3Y">Path quote</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="Q3wRyf8gT3Y">Path quote</span> exists
and is readable.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:hasDir?">
      <a class="word-doc-head" href="#disk:hasDir?">
        disk:hasDir?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="0zJx9wplH94">Path quote</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="0zJx9wplH94">Path quote</span> exists
and points to a directory.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:hasFile?">
      <a class="word-doc-head" href="#disk:hasFile?">
        disk:hasFile?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="StrrAKWT3TE">Path quote</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="StrrAKWT3TE">Path quote</span> exists
and points to a file.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:hasSymlink?">
      <a class="word-doc-head" href="#disk:hasSymlink?">
        disk:hasSymlink?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="gnEfaZs9r1w">Path quote</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="gnEfaZs9r1w">Path quote</span> exists
and points to a symlink.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:dirEmpty?">
      <a class="word-doc-head" href="#disk:dirEmpty?">
        disk:dirEmpty?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="gyIm9f5tFL4">Path to directory</span> -- <span class="doc-eff-id" data-scope="SW-2OP8hfDY">Boolean</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="SW-2OP8hfDY">Boolean</span> for whether <span class="doc-eff-id" data-scope="gyIm9f5tFL4">Path to directory</span>
is empty. Dies if <span class="doc-eff-id" data-scope="gyIm9f5tFL4">Path to directory</span> points to something
other than a directory, or doesn't exist.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:join">
      <a class="word-doc-head" href="#disk:join">
        disk:join
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="KtYF1aMhL2k">Base path</span> <span class="doc-eff-id" data-scope="FAxCyHDyZVU">Child path</span> -- <span class="doc-eff-id" data-scope="Cr8Ee8fDjJ4">Path</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="Cr8Ee8fDjJ4">Path</span>, which is the result of joining <span class="doc-eff-id" data-scope="KtYF1aMhL2k">Base path</span> and <span class="doc-eff-id" data-scope="FAxCyHDyZVU">Child path</span> using the platform-specific path separator.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'hello'</span> <span class="token quote">'world'</span> <span class="token word doc-word">disk:join</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'hello/world'</span> <span class="token comment">"On Unix"</span>
<span class="token quote">'hello'</span> <span class="token quote">'world'</span> <span class="token word doc-word">disk:join</span> <span class="token leaves word doc-word">leaves:</span> '<span class="token word">hello\world</span>' <span class="token comment">"On Windows"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:pwd">
      <a class="word-doc-head" href="#disk:pwd">
        disk:pwd
        <span class="doc-head-effect">( -- <span class="doc-eff-id" data-scope="WdnKkzoat1Y">Working directory</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves current <span class="doc-eff-id" data-scope="WdnKkzoat1Y">Working directory</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:touch">
      <a class="word-doc-head" href="#disk:touch">
        disk:touch
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="QR43xU46w0g">Path</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates an empty file at <span class="doc-eff-id" data-scope="QR43xU46w0g">Path</span>. Does nothing
if <span class="doc-eff-id" data-scope="QR43xU46w0g">Path</span> already exists.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:mkdir">
      <a class="word-doc-head" href="#disk:mkdir">
        disk:mkdir
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Y8ISE2njUY0">Path</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates an empty directory at <span class="doc-eff-id" data-scope="Y8ISE2njUY0">Path</span>, including
any non-existing intermediate directories. Does nothing
if <span class="doc-eff-id" data-scope="Y8ISE2njUY0">Path</span> already exists.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:copy">
      <a class="word-doc-head" href="#disk:copy">
        disk:copy
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="gCC5SEbp1_Y">Source</span> <span class="doc-eff-id" data-scope="zKmke2dlt5k">Destination</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Copies <span class="doc-eff-id" data-scope="gCC5SEbp1_Y">Source</span> (quote path to a file, symlink,
or directory) to <span class="doc-eff-id" data-scope="zKmke2dlt5k">Destination</span> (also a quote).</p>
<p>If <span class="doc-eff-id" data-scope="gCC5SEbp1_Y">Source</span> is a directory, copies it recursively.
If copy process failed, dies.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:read">
      <a class="word-doc-head" href="#disk:read">
        disk:read
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="816ITaDYxr4">File</span> -- <span class="doc-eff-id" data-scope="ehq0k9FkoCQ">Contents</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Reads and leaves the <span class="doc-eff-id" data-scope="ehq0k9FkoCQ">Contents</span> of <span class="doc-eff-id" data-scope="816ITaDYxr4">File</span>. Dies
if there is no <span class="doc-eff-id" data-scope="816ITaDYxr4">File</span>.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="disk:write">
      <a class="word-doc-head" href="#disk:write">
        disk:write
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="mQl1RJ1KKJI">Content quote</span>/B <span class="doc-eff-id" data-scope="IidarkBJH1o">File path</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>(over)writes content of file at <span class="doc-eff-id" data-scope="IidarkBJH1o">File path</span>
with <span class="doc-eff-id" data-scope="mQl1RJ1KKJI">Content quote</span>/Byteslice. Dies if <span class="doc-eff-id" data-scope="IidarkBJH1o">File path</span> doesn't
exist or doesn't point to a file.</p>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:library?">
      <a class="word-doc-head" href="#ffi:library?">
        ffi:library?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="6rQxY2ng2hA">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="6rQxY2ng2hA">Form</span> is a foreign
library form.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'foo'</span> <span class="token word doc-word">ffi:getLibrary</span> <span class="token word doc-word">ffi:library?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:layout?">
      <a class="word-doc-head" href="#ffi:layout?">
        ffi:layout?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="m5pAgtSLDz8">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="m5pAgtSLDz8">Form</span> is a foreign
layout form.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">i32</span> <span class="token word">y</span> <span class="token word">i32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token word">point</span> <span class="token word doc-word">ffi:layout?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:struct&amp;?">
      <a class="word-doc-head" href="#ffi:struct&amp;?">
        ffi:struct&amp;?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="vlvgONxm5MA">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="vlvgONxm5MA">Form</span> is a struct
reference view form.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">i32</span> <span class="token word">y</span> <span class="token word">i32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token word">point</span> <span class="token word doc-word">ffi:allocateStruct&amp;</span> <span class="token word doc-word">$:</span> <span class="token word">point&amp;</span>
<span class="token word">point&amp;</span> <span class="token word doc-word">ffi:struct&amp;?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:struct~?">
      <a class="word-doc-head" href="#ffi:struct~?">
        ffi:struct~?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="cW4lpLL7Ev4">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="cW4lpLL7Ev4">Form</span> is an inline
struct view form.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">i32</span> <span class="token word">y</span> <span class="token word">i32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token word">point</span> <span class="token word doc-word">ffi:allocateStruct~</span> <span class="token word doc-word">$:</span> <span class="token word">point~</span>
<span class="token word">point~</span> <span class="token word doc-word">ffi:struct~?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:union?">
      <a class="word-doc-head" href="#ffi:union?">
        ffi:union?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="GmaSjWv2Zd4">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="GmaSjWv2Zd4">Form</span> is a union
view form.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">chr</span> <span class="token word">char</span> <span class="token word doc-word">ord</span> <span class="token word">u8</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">quux</span>

<span class="token word">quux</span> <span class="token word doc-word">ffi:allocateUnion</span> <span class="token word doc-word">$:</span> <span class="token word">quuxU</span>
<span class="token word">quuxU</span> <span class="token word doc-word">ffi:union?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:hole?">
      <a class="word-doc-head" href="#ffi:hole?">
        ffi:hole?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="UKIyidZ2ShU">Form</span> -- true/false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves whether <span class="doc-eff-id" data-scope="UKIyidZ2ShU">Form</span> is a hole.</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">#i32</span> <span class="token word doc-word">ffi:hole</span> <span class="token word doc-word">$:</span> <span class="token word">intHole</span>

<span class="token word">intHole</span> <span class="token word doc-word">ffi:hole?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:getLibrary?">
      <a class="word-doc-head" href="#ffi:getLibrary?">
        ffi:getLibrary?
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="UJRFpI8kjac">Id</span> -- <span class="doc-eff-id" data-scope="1gb9z_pu3hU">Library form</span> true / false )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="1gb9z_pu3hU">Library form</span> followed by true
if dynamic library with the given <span class="doc-eff-id" data-scope="UJRFpI8kjac">Id</span> exists and was loaded &amp;
retrieved successfully; otherwise, leaves false.</p>
<p>Opening <span class="doc-eff-id" data-scope="1gb9z_pu3hU">Library form</span> allows one to expose functions from the
underlying dynamic library (.so on Linux, .dll on Windows,
.dylib on Mac). See FFI documentation on GitHub Wiki for more
details and examples.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'SDL2'</span> <span class="token word doc-word">ffi:getLibrary?</span> <span class="token leaves word doc-word">leaves:</span> [ <span class="token comment">"[foreign library]"</span> <span class="token word">true</span><span class="token boolean"></span> ]
<span class="token quote">'random-nonexisting-library'</span> <span class="token word doc-word">ffi:getLibrary?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">false</span><span class="token boolean"></span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:getLibrary">
      <a class="word-doc-head" href="#ffi:getLibrary">
        ffi:getLibrary
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="54kFA2qIPt4">Id</span> -- <span class="doc-eff-id" data-scope="XlHFtbtiztc">Library form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="XlHFtbtiztc">Library form</span> if dynamic library with the
given <span class="doc-eff-id" data-scope="54kFA2qIPt4">Id</span> exists and was loaded &amp; retrieved successfully;
otherwise, dies.</p>
<p>Opening <span class="doc-eff-id" data-scope="XlHFtbtiztc">Library form</span> allows one to expose functions from the
underlying dynamic library (.so on Linux, .dll on Windows,
.dylib on Mac). See FFI documentation on GitHub Wiki for more
details and examples.</p>
<pre class="language-novika"><code class="language-novika"><span class="token quote">'SDL2'</span> <span class="token word doc-word">ffi:getLibrary</span> <span class="token word doc-word">ffi:library?</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">true</span><span class="token boolean"></span>
<span class="token quote">'random-nonexisting-library'</span> <span class="token word doc-word">ffi:getLibrary</span> <span class="token comment">"Dies: no such library"</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:createLayout">
      <a class="word-doc-head" href="#ffi:createLayout">
        ffi:createLayout
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="eQuoWEmJxyg">Layout block</span> -- <span class="doc-eff-id" data-scope="dMe5JKdsN1A">Struct layout form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Parses <span class="doc-eff-id" data-scope="eQuoWEmJxyg">Layout block</span> and leaves the resulting
<span class="doc-eff-id" data-scope="dMe5JKdsN1A">Struct layout form</span>.</p>
<p>Struct layouts are a generalization over structs (heap-
allocated and stack-allocated) and unions. They literally
describe how structs (unions) are layed out in memory.</p>
<p><span class="doc-eff-id" data-scope="eQuoWEmJxyg">Layout block</span> consists of <em>name words followed by type words</em>.
See the example below. A reference to another struct layout
can be made in <span class="doc-eff-id" data-scope="eQuoWEmJxyg">Layout block</span> using the prefixes <code>&amp;</code> (heap-
allocated struct, i.e., pointer to struct), <code class="inline-word-ref">~</code> (inline or
stack-allocated struct), and <code>?</code> (stack-allocated union).</p>
<p>Inline struct cycles are forbidden. Union cycles are forbidden.
Either could be hidden behind a reference/pointer.</p>
<p><span class="doc-eff-id" data-scope="eQuoWEmJxyg">Layout block</span> is parsed lazily (on first use, e.g., by <code class="inline-word-ref">toQuote</code>,
<code>allocateStruct</code> variants, <code class="inline-word-ref">=</code>, etc.) Therefore, you can define
self-referential structs, mutually referential structs, and
reference layouts that are defined later.</p>
<p>See FFI documentation on GitHub Wiki for a list of available
types and the corresponding C types.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">f32</span>
  <span class="token word">y</span> <span class="token word">f32</span>
] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

[ <span class="token word">datum</span> <span class="token word">~point</span>    <span class="token comment">"&lt;- inline struct"</span>
  <span class="token word">next</span> <span class="token word">&amp;pointNode</span> <span class="token comment">"&lt;- struct reference"</span>
] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">pointNode</span>

[ <span class="token word">asPoint</span> <span class="token word">&amp;point</span>
  <span class="token word">asPointNode</span> <span class="token word">~pointNode</span>
] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">pointNodeUnion</span>

[ <span class="token word">type</span> <span class="token word">u8</span>
  <span class="token word">value</span> <span class="token word">?pointNodeUnion</span> <span class="token comment">"&lt;- stack-allocated union"</span>
] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">pointNodeOrPoint</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:allocateStruct~">
      <a class="word-doc-head" href="#ffi:allocateStruct~">
        ffi:allocateStruct~
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="o58Py5MwZS8">Struct layout form</span> -- <span class="doc-eff-id" data-scope="TQavkAi4aoI">Inline struct view</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Allocates <span class="doc-eff-id" data-scope="TQavkAi4aoI">Inline struct view</span> for the
given <span class="doc-eff-id" data-scope="o58Py5MwZS8">Struct layout form</span>. If the struct is no longer in
use, it is freed by the GC automatically.</p>
<p>This word is <strong>unsafe</strong>: the resulting <span class="doc-eff-id" data-scope="TQavkAi4aoI">Inline struct view</span> is
in an undefined state (may contain junk) before you (or the
C code you pass it to) fills it with good values. Showing
the struct view left by this word to clients may expose your
program to a whole class of security vulnerabilities.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">i32</span> <span class="token word">y</span> <span class="token word">i32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token word">point</span> <span class="token word doc-word">ffi:allocateStruct~</span> <span class="token word doc-word">$:</span> <span class="token word">point~</span>
<span class="token word">point~</span> <span class="token qword">#x</span> <span class="token decimal">123</span> <span class="token word doc-word">entry:submit</span><span class="token entryworks"></span>
<span class="token word">point~</span> <span class="token qword">#y</span> <span class="token decimal">456</span> <span class="token word doc-word">entry:submit</span><span class="token entryworks"></span>
<span class="token word">point~</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'~⟨x=123_i32, y=456_i32⟩'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:buildStruct~">
      <a class="word-doc-head" href="#ffi:buildStruct~">
        ffi:buildStruct~
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="8nZZrFoV1gA">Entry block</span> <span class="doc-eff-id" data-scope="ENsmEcENG9Y">Struct layout form</span> -- <span class="doc-eff-id" data-scope="fPPQVMlOCck">Inline struct
 view</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Allocates and fills <span class="doc-eff-id" data-scope="fPPQVMlOCck">Inline struct
view</span> with entries by asking <span class="doc-eff-id" data-scope="8nZZrFoV1gA">Entry block</span> for them.</p>
<p>If <span class="doc-eff-id" data-scope="8nZZrFoV1gA">Entry block</span> is missing an entry matching a field that
<span class="doc-eff-id" data-scope="ENsmEcENG9Y">Struct layout form</span> declares, and that field is of type
<code>pointer</code> or struct reference (<code>&amp;</code>), <code>none</code> (C nullptr)
is used as the value. Dies if <span class="doc-eff-id" data-scope="8nZZrFoV1gA">Entry block</span> is missing
matching entry or entries for fields of other types.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">i32</span> <span class="token word">y</span> <span class="token word">i32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span>

<span class="token comment">"Note: `this` has entries called `x` and `y`. `point` has
 fields called `x` and `y`. A match!"</span>
<span class="token word doc-word">this</span><span class="token this"></span><span class="token this"></span> <span class="token word">point</span> <span class="token word doc-word">ffi:buildStruct~</span> <span class="token word doc-word">$:</span> <span class="token word">point~</span>

<span class="token word">point~</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'~⟨x=100_i32, y=200_i32⟩'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:asStruct~">
      <a class="word-doc-head" href="#ffi:asStruct~">
        ffi:asStruct~
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="Gbc9EesilpE">Address</span> <span class="doc-eff-id" data-scope="0nsRcD5_UTc">Struct layout form</span> -- <span class="doc-eff-id" data-scope="FvaCxgFJROo">Inline struct view</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates and leaves <span class="doc-eff-id" data-scope="FvaCxgFJROo">Inline struct view</span>
for the given <span class="doc-eff-id" data-scope="Gbc9EesilpE">Address</span>, according to <span class="doc-eff-id" data-scope="0nsRcD5_UTc">Struct layout form</span>.</p>
<p>This word is <strong>unsafe</strong>: it does not check whether <span class="doc-eff-id" data-scope="Gbc9EesilpE">Address</span>
points at something that is layed out according to <span class="doc-eff-id" data-scope="0nsRcD5_UTc">Struct layout form</span>. Passing 0 (none aka null pointer) for <span class="doc-eff-id" data-scope="Gbc9EesilpE">Address</span>
will lead to segfault. Passing <span class="doc-eff-id" data-scope="Gbc9EesilpE">Address</span> that is outside of
your program's memory will lead to segfault. Passing <span class="doc-eff-id" data-scope="Gbc9EesilpE">Address</span>
that <em>is</em> in the bounds of your program's memory, but one
not pointing at a struct in accordance with Struct layout
form, will lead to undefined behavior (most likely junk
values in <span class="doc-eff-id" data-scope="FvaCxgFJROo">Inline struct view</span>).</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">i32</span> <span class="token word">y</span> <span class="token word">i32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span>
<span class="token word doc-word">this</span><span class="token this"></span> <span class="token word">point</span> <span class="token word doc-word">ffi:buildStruct~</span> <span class="token word doc-word">$:</span> <span class="token word">point~</span>

<span class="token word">point~</span> <span class="token word doc-word">ffi:addressof</span> <span class="token word doc-word">$:</span> <span class="token word">addr</span>

<span class="token word">addr</span> <span class="token word">point</span> <span class="token word doc-word">ffi:asStruct~</span> <span class="token word doc-word">$:</span> <span class="token word">addrPoint~</span>
<span class="token word">addrPoint~</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">x</span>
<span class="token word">addrPoint~</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">y</span>
<span class="token word">addrPoint~</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'~⟨x=100_i32, y=200_i32⟩'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:allocateStruct&amp;">
      <a class="word-doc-head" href="#ffi:allocateStruct&amp;">
        ffi:allocateStruct&amp;
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="RTmID60jfu4">Struct layout form</span> -- <span class="doc-eff-id" data-scope="qmRmSG8CTp8">Struct reference view</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Allocates <span class="doc-eff-id" data-scope="qmRmSG8CTp8">Struct reference view</span> for the
given <span class="doc-eff-id" data-scope="RTmID60jfu4">Struct layout form</span>. If the struct is no longer in
use, it is freed by the GC automatically.</p>
<p>This word is <strong>unsafe</strong>: the resulting <span class="doc-eff-id" data-scope="qmRmSG8CTp8">Struct reference view</span> is
in an undefined state (may contain junk) before you (or the
C code you pass it to) fills it with good values. Showing
the struct view left by this word to clients may expose your
program to a whole class of security vulnerabilities.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">i32</span> <span class="token word">y</span> <span class="token word">i32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token word">point</span> <span class="token word doc-word">ffi:allocateStruct&amp;</span> <span class="token word doc-word">$:</span> <span class="token word">point&amp;</span>
<span class="token word">point&amp;</span> <span class="token qword">#x</span> <span class="token decimal">123</span> <span class="token word doc-word">entry:submit</span><span class="token entryworks"></span>
<span class="token word">point&amp;</span> <span class="token qword">#y</span> <span class="token decimal">456</span> <span class="token word doc-word">entry:submit</span><span class="token entryworks"></span>
<span class="token word">point&amp;</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'&amp;⟨x=123_i32, y=456_i32⟩'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:buildStruct&amp;">
      <a class="word-doc-head" href="#ffi:buildStruct&amp;">
        ffi:buildStruct&amp;
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="0wwHYV6HQms">Entry block</span> <span class="doc-eff-id" data-scope="xj2O55rfUY8">Struct layout form</span> -- <span class="doc-eff-id" data-scope="evwXXkKlyTM">Struct reference
 view</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Allocates and fills <span class="doc-eff-id" data-scope="evwXXkKlyTM">Struct reference
view</span> with entries by asking <span class="doc-eff-id" data-scope="0wwHYV6HQms">Entry block</span> for them.</p>
<p>If <span class="doc-eff-id" data-scope="0wwHYV6HQms">Entry block</span> is missing an entry matching a field that
<span class="doc-eff-id" data-scope="xj2O55rfUY8">Struct layout form</span> declares, and that field is of type
<code>pointer</code> or struct reference (<code>&amp;</code>), <code>none</code> (C nullptr)
is used as the value. Dies if <span class="doc-eff-id" data-scope="0wwHYV6HQms">Entry block</span> is missing
matching entry or entries for fields of other types.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">i32</span> <span class="token word">y</span> <span class="token word">i32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span>

<span class="token comment">"Note: `this` has entries called `x` and `y`. `point` has
 fields called `x` and `y`. A match!"</span>
<span class="token word doc-word">this</span><span class="token this"></span><span class="token this"></span> <span class="token word">point</span> <span class="token word doc-word">ffi:buildStruct&amp;</span> <span class="token word doc-word">$:</span> <span class="token word">point&amp;</span>

<span class="token word">point&amp;</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'&amp;⟨x=100_i32, y=200_i32⟩'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:asStruct&amp;">
      <a class="word-doc-head" href="#ffi:asStruct&amp;">
        ffi:asStruct&amp;
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="hnKgFfAVAow">Address</span> <span class="doc-eff-id" data-scope="txDUtL_oqCU">Struct layout form</span> -- <span class="doc-eff-id" data-scope="bPaxFCXudwk">Struct reference view</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates and leaves <span class="doc-eff-id" data-scope="bPaxFCXudwk">Struct reference view</span>
for the given <span class="doc-eff-id" data-scope="hnKgFfAVAow">Address</span>, according to <span class="doc-eff-id" data-scope="txDUtL_oqCU">Struct layout form</span>.</p>
<p>This word is <strong>unsafe</strong>: it does not check whether <span class="doc-eff-id" data-scope="hnKgFfAVAow">Address</span>
points at something that is layed out according to <span class="doc-eff-id" data-scope="txDUtL_oqCU">Struct layout form</span>. Passing 0 (none aka null pointer) for <span class="doc-eff-id" data-scope="hnKgFfAVAow">Address</span>
will lead to segfault. Passing <span class="doc-eff-id" data-scope="hnKgFfAVAow">Address</span> that is outside of
your program's memory will lead to segfault. Passing <span class="doc-eff-id" data-scope="hnKgFfAVAow">Address</span>
that <em>is</em> in the bounds of your program's memory, but one
not pointing at a struct in accordance with Struct layout
form, will lead to undefined behavior (most likely junk
values in <span class="doc-eff-id" data-scope="bPaxFCXudwk">Struct reference view</span>).</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">i32</span> <span class="token word">y</span> <span class="token word">i32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token decimal">100</span> <span class="token word doc-word">$:</span> <span class="token word">x</span>
<span class="token decimal">200</span> <span class="token word doc-word">$:</span> <span class="token word">y</span>
<span class="token word doc-word">this</span><span class="token this"></span> <span class="token word">point</span> <span class="token word doc-word">ffi:buildStruct&amp;</span> <span class="token word doc-word">$:</span> <span class="token word">point&amp;</span>

<span class="token word">point&amp;</span> <span class="token word doc-word">ffi:addressof</span> <span class="token word doc-word">$:</span> <span class="token word">addr</span>

<span class="token word">addr</span> <span class="token word">point</span> <span class="token word doc-word">ffi:asStruct&amp;</span> <span class="token word doc-word">$:</span> <span class="token word">addrPoint&amp;</span>
<span class="token word">addrPoint&amp;</span><span class="token word doc-word">.</span><span class="token word">x</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">x</span>
<span class="token word">addrPoint&amp;</span><span class="token word doc-word">.</span><span class="token word">y</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">y</span>
<span class="token word">addrPoint&amp;</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'&amp;⟨x=100_i32, y=200_i32⟩'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:allocateUnion">
      <a class="word-doc-head" href="#ffi:allocateUnion">
        ffi:allocateUnion
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="TGKr7mpiz6M">Struct layout form</span> -- <span class="doc-eff-id" data-scope="zn7EKFVRr3Y">Union view</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Allocates <span class="doc-eff-id" data-scope="zn7EKFVRr3Y">Union view</span> for the given <span class="doc-eff-id" data-scope="TGKr7mpiz6M">Struct layout form</span>.</p>
<p>This word is <strong>unsafe</strong>: the resulting <span class="doc-eff-id" data-scope="zn7EKFVRr3Y">Union view</span> is in
an undefined (uninitialized) state (may be zeroed out,
contain junk, or both) before you (or the C code you pass
it to) fills it with good values. Showing the uninitialized
union to clients may expose your program to a whole class
of security vulnerabilities.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">chr</span> <span class="token word">char</span>
  <span class="token word doc-word">ord</span> <span class="token word">u8</span>
] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">quux</span>

<span class="token word">quux</span> <span class="token word doc-word">ffi:allocateUnion</span> <span class="token word doc-word">$:</span> <span class="token word">quuxUnion</span>
<span class="token word">quuxUnion</span> <span class="token qword">#chr</span> <span class="token quote">'A'</span> <span class="token word doc-word">entry:submit</span><span class="token entryworks"></span>
<span class="token word">quuxUnion</span><span class="token word doc-word">.</span><span class="token word doc-word">ord</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">65</span>

<span class="token comment">"Union toQuote avoids printing values, because that could
 cause a segfault/overflow in some cases, and would mostly
 output junk anyway."</span>
<span class="token word">quuxUnion</span> <span class="token word doc-word">toQuote</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'(⋃ ⟪chr=char, ord=u8⟫)'</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:buildUnion">
      <a class="word-doc-head" href="#ffi:buildUnion">
        ffi:buildUnion
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="y_CP8fEgT7k">Entry block</span> <span class="doc-eff-id" data-scope="9buVhbryB8o">Struct layout form</span> -- <span class="doc-eff-id" data-scope="xslK_gDSCJc">Union view</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Allocates and fills <span class="doc-eff-id" data-scope="xslK_gDSCJc">Union view</span> with an
entry by asking <span class="doc-eff-id" data-scope="y_CP8fEgT7k">Entry block</span> for any <em>one</em> entry out of
those specified in <span class="doc-eff-id" data-scope="9buVhbryB8o">Struct layout form</span>, in the order they
are specified in <span class="doc-eff-id" data-scope="9buVhbryB8o">Struct layout form</span>. If the union is no
longer in use, it is freed by the GC automatically.</p>
<p><span class="doc-eff-id" data-scope="y_CP8fEgT7k">Entry block</span> must have at least one of the Struct layout
form's fields defined. Otherwise, this word dies.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">chr</span> <span class="token word">char</span>
  <span class="token word doc-word">ord</span> <span class="token word">u8</span>
] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">quux</span>

[ <span class="token quote">'A'</span> <span class="token word doc-word">$:</span> <span class="token word doc-word">chr</span>
  <span class="token word doc-word">this</span><span class="token this"></span> <span class="token word">quux</span> <span class="token word doc-word">ffi:buildUnion</span>
] <span class="token word doc-word">val</span> <span class="token word doc-word">$:</span> <span class="token word">unionByChr</span>

[ <span class="token decimal">66</span> <span class="token word doc-word">$:</span> <span class="token word doc-word">ord</span>
  <span class="token word doc-word">this</span><span class="token this"></span> <span class="token word">quux</span> <span class="token word doc-word">ffi:buildUnion</span>
] <span class="token word doc-word">val</span> <span class="token word doc-word">$:</span> <span class="token word">unionByOrd</span>

[ <span class="token quote">'A'</span> <span class="token word doc-word">$:</span> <span class="token word doc-word">chr</span>
  <span class="token decimal">123</span> <span class="token word doc-word">$:</span> <span class="token word doc-word">ord</span>
  <span class="token word doc-word">this</span><span class="token this"></span> <span class="token word">quux</span> <span class="token word doc-word">ffi:buildUnion</span>
] <span class="token word doc-word">val</span> <span class="token word doc-word">$:</span> <span class="token word">unionBoth</span>

<span class="token word">unionByChr</span><span class="token word doc-word">.</span><span class="token word doc-word">ord</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">65</span>
<span class="token word">unionByOrd</span><span class="token word doc-word">.</span><span class="token word doc-word">chr</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'B'</span>

<span class="token comment">"'chr' is defined first, therefore, it is used rather
 than 'ord'"</span>
<span class="token word">unionBoth</span><span class="token word doc-word">.</span><span class="token word doc-word">chr</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'A'</span>
<span class="token word">unionBoth</span><span class="token word doc-word">.</span><span class="token word doc-word">ord</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">65</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:asUnion">
      <a class="word-doc-head" href="#ffi:asUnion">
        ffi:asUnion
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="YaHpKLOIZtw">Address</span> <span class="doc-eff-id" data-scope="acMFJZ7jbtI">Struct layout form</span> -- <span class="doc-eff-id" data-scope="hzbPFmTa3jE">Union view</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Creates and leaves a <span class="doc-eff-id" data-scope="hzbPFmTa3jE">Union view</span> for the
given <span class="doc-eff-id" data-scope="YaHpKLOIZtw">Address</span>, according to <span class="doc-eff-id" data-scope="acMFJZ7jbtI">Struct layout form</span>.</p>
<p>This word is <strong>unsafe</strong>: it does not check whether <span class="doc-eff-id" data-scope="YaHpKLOIZtw">Address</span>
points at something that is layed out according to <span class="doc-eff-id" data-scope="acMFJZ7jbtI">Struct layout form</span>. Passing 0 (none aka null pointer) for <span class="doc-eff-id" data-scope="YaHpKLOIZtw">Address</span>
will lead to segfault. Passing <span class="doc-eff-id" data-scope="YaHpKLOIZtw">Address</span> that points outside
of your program's memory will lead to segfault. Passing
<span class="doc-eff-id" data-scope="YaHpKLOIZtw">Address</span> that <em>is</em> in the bounds of your program's memory,
but one not pointing at a union in accordance with <span class="doc-eff-id" data-scope="acMFJZ7jbtI">Struct layout form</span>, will lead to undefined behavior (most likely
junk values in <span class="doc-eff-id" data-scope="hzbPFmTa3jE">Union view</span>). Showing ill-formed results of
this word to clients may expose your program to a whole
class of security vulnerabilities.</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word doc-word">chr</span> <span class="token word">char</span>
  <span class="token word doc-word">ord</span> <span class="token word">u8</span>
] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">quux</span>

<span class="token quote">'A'</span> <span class="token word doc-word">$:</span> <span class="token word doc-word">chr</span>

<span class="token word doc-word">this</span><span class="token this"></span> <span class="token word">quux</span> <span class="token word doc-word">ffi:buildUnion</span> <span class="token word doc-word">$:</span> <span class="token word">quuxUnion</span>

<span class="token word">quuxUnion</span> <span class="token word doc-word">ffi:addressof</span> <span class="token word doc-word">$:</span> <span class="token word">addr</span>

<span class="token word">addr</span> <span class="token word">quux</span> <span class="token word doc-word">ffi:asUnion</span> <span class="token word doc-word">$:</span> <span class="token word">addrUnion</span>
<span class="token word">addrUnion</span><span class="token word doc-word">.</span><span class="token word doc-word">chr</span> <span class="token leaves word doc-word">leaves:</span> <span class="token quote">'A'</span>
<span class="token word">addrUnion</span><span class="token word doc-word">.</span><span class="token word doc-word">ord</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">65</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:hole">
      <a class="word-doc-head" href="#ffi:hole">
        ffi:hole
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="FHySJWh12cE">Type</span>/<span class="doc-eff-id" data-scope="bsKwUqWpTpA">Other hole</span> -- <span class="doc-eff-id" data-scope="fBFgWdRkntU">Hole</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Allocates garbage-collected memory for <span class="doc-eff-id" data-scope="fBFgWdRkntU">Hole</span>
that will hold a value of the given <span class="doc-eff-id" data-scope="FHySJWh12cE">Type</span>. If <span class="doc-eff-id" data-scope="bsKwUqWpTpA">Other hole</span>
is passed, wraps that <span class="doc-eff-id" data-scope="bsKwUqWpTpA">Other hole</span> instead (this could be
useful in C situations like <code>int**</code>)</p>
<p>Holes are (just a bit) safer way of letting C write to a
memory location. You first create the hole, then pass it
to C, then read from the hole by opening it.</p>
<p>Note: this word is <strong>unsafe</strong>: since we cannot check whether
the hole was written to, reading from hole (opening it) before
writing to it will result in undefined behavior.</p>
<pre class="language-novika"><code class="language-novika"><span class="token comment">""</span><span class="token comment">"
void outputCInt(int* x)
{
  *x = 123;
}
"</span><span class="token comment">""</span>

<span class="token qword">#i32</span> <span class="token word doc-word">ffi:hole</span> <span class="token word doc-word">$:</span> <span class="token word">intBox</span>

<span class="token word">intBox</span> <span class="token word">outputCInt</span>
<span class="token word">intBox</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">123</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:box">
      <a class="word-doc-head" href="#ffi:box">
        ffi:box
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ZEEGerf8AK4">Form</span> <span class="doc-eff-id" data-scope="S3iCmq3vMXk">Type</span> -- <span class="doc-eff-id" data-scope="9Q3e65kHAqc">Address</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Allocates garbage-collected memory for <span class="doc-eff-id" data-scope="S3iCmq3vMXk">Type</span>, and
writes <span class="doc-eff-id" data-scope="ZEEGerf8AK4">Form</span> there. <span class="doc-eff-id" data-scope="ZEEGerf8AK4">Form</span> must be of (or convertible to) <span class="doc-eff-id" data-scope="S3iCmq3vMXk">Type</span>;
otherwise, this word dies. Leaves <span class="doc-eff-id" data-scope="9Q3e65kHAqc">Address</span> of the beginning of
the allocated memory.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">123</span> <span class="token qword">#i32</span> <span class="token word doc-word">ffi:box</span> <span class="token word doc-word">$:</span> <span class="token word">ptr</span>
<span class="token word">ptr</span> <span class="token qword">#i32</span> <span class="token word doc-word">ffi:unbox</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">123</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:unbox">
      <a class="word-doc-head" href="#ffi:unbox">
        ffi:unbox
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="XnyHT_cxN84">Address</span> <span class="doc-eff-id" data-scope="yo6SpBcIasc">Type</span> -- <span class="doc-eff-id" data-scope="slhdYKQ29aY">Form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Interprets whatever <span class="doc-eff-id" data-scope="XnyHT_cxN84">Address</span> points at as a
value of the given <span class="doc-eff-id" data-scope="yo6SpBcIasc">Type</span>, and leaves the matching <span class="doc-eff-id" data-scope="slhdYKQ29aY">Form</span>.
Inverse of <code class="inline-word-ref">ffi:box</code>.</p>
<p>This word is <strong>unsafe</strong>: it does not check whether <span class="doc-eff-id" data-scope="XnyHT_cxN84">Address</span>
points at something that is of the given <span class="doc-eff-id" data-scope="yo6SpBcIasc">Type</span>. Passing 0
(none aka null pointer) for <span class="doc-eff-id" data-scope="XnyHT_cxN84">Address</span> will lead to segfault.
Passing <span class="doc-eff-id" data-scope="XnyHT_cxN84">Address</span> that points outside of your program's memory
will lead to segfault. Passing <span class="doc-eff-id" data-scope="XnyHT_cxN84">Address</span> that <em>is</em> in the bounds
of your program's memory, but one not pointing at a value of
the given <span class="doc-eff-id" data-scope="yo6SpBcIasc">Type</span>, will lead to undefined behavior (most likely
junk value of <span class="doc-eff-id" data-scope="slhdYKQ29aY">Form</span>). Showing ill-formed results of this word to
clients, or letting clients control <span class="doc-eff-id" data-scope="XnyHT_cxN84">Address</span> or <span class="doc-eff-id" data-scope="yo6SpBcIasc">Type</span>, may expose
your program to a whole class of security vulnerabilities.</p>
<pre class="language-novika"><code class="language-novika"><span class="token decimal">123</span> <span class="token qword">#i32</span> <span class="token word doc-word">ffi:box</span> <span class="token word doc-word">$:</span> <span class="token word">ptr</span>
<span class="token word">ptr</span> <span class="token qword">#i32</span> <span class="token word doc-word">ffi:unbox</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">123</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:unsafeWrite">
      <a class="word-doc-head" href="#ffi:unsafeWrite">
        ffi:unsafeWrite
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="4Z3yem_oxsk">Address</span> <span class="doc-eff-id" data-scope="6eXJujqMh0I">Form</span> <span class="doc-eff-id" data-scope="TUEnL53Da5g">Type</span> -- )</span>
      </a>
      <div class="word-doc-desc">
        <p>Interprets <span class="doc-eff-id" data-scope="6eXJujqMh0I">Form</span> as that of the given <span class="doc-eff-id" data-scope="TUEnL53Da5g">Type</span>,
and writes it at <span class="doc-eff-id" data-scope="4Z3yem_oxsk">Address</span>.</p>
<p>This word is <strong>unsafe</strong>: it does not check whether <span class="doc-eff-id" data-scope="4Z3yem_oxsk">Address</span>
can be written to, whether there is enough memory to fully
write <span class="doc-eff-id" data-scope="6eXJujqMh0I">Form</span>, etc. Passing 0 (none aka null pointer) for <span class="doc-eff-id" data-scope="4Z3yem_oxsk">Address</span>
will lead to segfault. Passing <span class="doc-eff-id" data-scope="4Z3yem_oxsk">Address</span> that points outside
of your program's memory will lead to segfault. Passing <span class="doc-eff-id" data-scope="4Z3yem_oxsk">Address</span>
that <em>is</em> in the bounds of your program's memory and can
be written to may lead to undefined behavior.</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">#i32</span> <span class="token word doc-word">ffi:hole</span> <span class="token word doc-word">$:</span> <span class="token word">myHole</span>
<span class="token word">myHole</span> <span class="token word doc-word">ffi:addressof</span> <span class="token word doc-word">$:</span> <span class="token word">holeAddr</span>
<span class="token word">holeAddr</span> <span class="token decimal">123</span> <span class="token qword">#i32</span> <span class="token word doc-word">ffi:unsafeWrite</span>
<span class="token word">myHole</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">123</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:viewLayout">
      <a class="word-doc-head" href="#ffi:viewLayout">
        ffi:viewLayout
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="NYaHbAESJJg">Struct view form</span> -- <span class="doc-eff-id" data-scope="1zboetDQmDA">Struct layout form</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="1zboetDQmDA">Struct layout form</span> for the given
<span class="doc-eff-id" data-scope="NYaHbAESJJg">Struct view form</span> (an inline struct view, struct reference
view, or union view).</p>
<pre class="language-novika"><code class="language-novika">[ <span class="token word">x</span> <span class="token word">f32</span> <span class="token word">y</span> <span class="token word">f32</span> ] <span class="token word doc-word">ffi:createLayout</span> <span class="token word doc-word">$:</span> <span class="token word">point</span>

<span class="token word">point</span> <span class="token word doc-word">ffi:allocateStruct&amp;</span> <span class="token word doc-word">$:</span> <span class="token word">point&amp;</span>
<span class="token word">point</span> <span class="token word doc-word">ffi:allocateStruct~</span> <span class="token word doc-word">$:</span> <span class="token word">point~</span>
<span class="token word">point</span> <span class="token word doc-word">ffi:allocateUnion</span> <span class="token word doc-word">$:</span> <span class="token word">pointU</span>

<span class="token word">point&amp;</span> <span class="token word doc-word">ffi:viewLayout</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">point</span>
<span class="token word">point~</span> <span class="token word doc-word">ffi:viewLayout</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">point</span>
<span class="token word">pointU</span> <span class="token word doc-word">ffi:viewLayout</span> <span class="token leaves word doc-word">leaves:</span> <span class="token word">point</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:sizeof">
      <a class="word-doc-head" href="#ffi:sizeof">
        ffi:sizeof
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="ZekMwin7MHI">Type</span> -- B )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves the size of <span class="doc-eff-id" data-scope="ZekMwin7MHI">Type</span>, in Bytes.</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">#u8</span>  <span class="token word doc-word">ffi:sizeof</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">1</span>
<span class="token qword">#u16</span> <span class="token word doc-word">ffi:sizeof</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">2</span>
<span class="token qword">#u32</span> <span class="token word doc-word">ffi:sizeof</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">4</span>
<span class="token qword">#u64</span> <span class="token word doc-word">ffi:sizeof</span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">8</span>
</code></pre>

      </div>
    </div>
  
    

    <div class="word-doc" id="ffi:addressof">
      <a class="word-doc-head" href="#ffi:addressof">
        ffi:addressof
        <span class="doc-head-effect">( <span class="doc-eff-id" data-scope="__sm2mlv1qM">Struct view form</span>/<span class="doc-eff-id" data-scope="X9vD9tm4XOU">Hole</span> -- <span class="doc-eff-id" data-scope="mG33N8cvkS4">Address</span> )</span>
      </a>
      <div class="word-doc-desc">
        <p>Leaves <span class="doc-eff-id" data-scope="mG33N8cvkS4">Address</span> of the given <span class="doc-eff-id" data-scope="__sm2mlv1qM">Struct view form</span>
(an inline struct view, struct reference view, or union view),
or <span class="doc-eff-id" data-scope="X9vD9tm4XOU">Hole</span> in memory.</p>
<pre class="language-novika"><code class="language-novika"><span class="token qword">#i32</span> <span class="token word doc-word">ffi:hole</span> <span class="token word doc-word">$:</span> <span class="token word">myHole</span>
<span class="token word">myHole</span> <span class="token word doc-word">ffi:addressof</span> <span class="token word doc-word">$:</span> <span class="token word">holeAddr</span>
<span class="token word">holeAddr</span> <span class="token decimal">123</span> <span class="token qword">#i32</span> <span class="token word doc-word">ffi:unsafeWrite</span>
<span class="token word">myHole</span> <span class="token word doc-word">open</span><span class="token control"></span> <span class="token leaves word doc-word">leaves:</span> <span class="token decimal">123</span>
</code></pre>

      </div>
    </div>
  
</section>

<script>
  window.onload = () => {
    const docHeads = document.querySelectorAll(".word-doc-head");
    const docEffectIds = document.querySelectorAll(".doc-eff-id");
    const wordInlineRefs = document.querySelectorAll(".inline-word-ref");

    for(const inlineRef of wordInlineRefs) {
      inlineRef.onclick = () => {
        window.history.pushState({},{}, `#${inlineRef.innerText}`);
        document.getElementById(inlineRef.innerText).scrollIntoView({behavior: 'smooth'}, true);
      };
    }

    for(const docHead of docHeads) {
      docHead.onmousemove = (e) => {
        const deg = 360 * (+e.pageX) / docHead.clientWidth;
        const bg = `linear-gradient(${deg}deg, #4472B0,#6559F4)`;
        docHead.style.borderImageSource = bg;
      }
      docHead.onmouseleave = () =>{
        docHead.style.borderImageSource = "none";
        docHead.style.borderColor = "var(--color-fg-sunken)";
      }
    }

    for (const docEffectId of docEffectIds) {
      const scope = docEffectId.getAttribute("data-scope");
      const siblings = document.querySelectorAll(`[data-scope="${scope}"`);
      docEffectId.onmouseover = () =>
        siblings.forEach(sibling => sibling.classList.add("eff-scope-hovered"))
      docEffectId.onmouseout = () =>
        siblings.forEach(sibling => sibling.classList.remove("eff-scope-hovered"))
    }
  };
</script>

      </main>
    </div>
    <script>
      const wordTokens = document.querySelectorAll('.token.word');
      wordTokens.forEach(token =>{
        token.addEventListener("click", function() {
          // Go to the corresponding word page. If already in words,
          // just go to the id.
          if (window.location.pathname == '/words/') {
            window.history.pushState({},{}, `#${token.innerText}`);

            document.getElementById(token.innerText).scrollIntoView({behavior: 'smooth'}, true);
          } else
            window.location.href = `/words#${encodeURIComponent(token.innerText)}`;
        });
      });
    </script>
  </body>
</html>
